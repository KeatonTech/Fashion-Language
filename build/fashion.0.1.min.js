!function(){var e,n;e=window.fashion={version:"0.1",url:"http://writefashion.org",author:"Keaton Brandt",mimeType:"text/x-fashion",cssId:"FASHION-stylesheet",runtimeObject:"FASHION",runtimeModules:["watchVariables"]},window.fashion.runtimeConfig={variableObject:"style",cssId:window.fashion.cssId},n=function(e,n){return setTimeout(n,e)},window.fashion.addProperty=function(e,n,t){return null==t&&(t=!1),n instanceof f||(n=new f(n)),!t&&window.fashion.$properties[e]?new Error("There is already a property named "+e):window.fashion.$properties[e]=n},window.fashion.addProperties=function(e,n){var t,r,i,o,a;for(null==n&&(n=!1),a=[],r=i=0,o=e.length;o>i;r=++i)t=e[r],a.push(window.fashion.addProperty(t,r,n));return a},window.fashion.addFunction=function(e,n,t){return null==t&&(t=!1),n instanceof d||(n=new d(n)),!t&&window.fashion.$functions[e]?new Error("There is already a function named "+e):window.fashion.$functions[e]=n},window.fashion.addFunctions=function(e,n){var t,r,i,o,a;for(null==n&&(n=!1),a=[],r=i=0,o=e.length;o>i;r=++i)t=e[r],a.push(window.fashion.addFunction(t,r,n));return a},window.fashion.addGlobal=function(e,n,t){return null==t&&(t=!1),n instanceof c||(n=new c(n)),!t&&window.fashion.$globals[e]?new Error("There is already a global named "+e):window.fashion.$globals[e]=n},window.fashion.addGlobals=function(e,n){var t,r,i,o,a;for(null==n&&(n=!1),a=[],r=i=0,o=e.length;o>i;r=++i)t=e[r],a.push(window.fashion.addGlobal(t,r,n));return a},window.fashion.addBlock=function(e,n,t){return null==t&&(t=!1),n instanceof l||(n=new l(n)),!t&&window.fashion.$blocks[e]?new Error("There is already a block named "+e):window.fashion.$blocks[e]=n},window.fashion.addBlocks=function(e,n){var t,r,i,o,a;for(null==n&&(n=!1),a=[],r=i=0,o=e.length;o>i;r=++i)t=e[r],a.push(window.fashion.addBlock(t,r,n));return a},window.fashion.live={loadedEvent:"fashion-loaded"},document.onreadystatechange=function(){var n,t,r;return"complete"===document.readyState?(r=0,t=0,n=function(){var e;return e=new Event(window.fashion.live.loadedEvent),e.variableObject=window[window.fashion.variableObject],document.dispatchEvent(e)},t=window.fashion.$loader.countScripts(),window.fashion.$loader.loadScriptsFromTags(function(r){var i,o,a,s,u;return s=(new Date).getTime(),a=window.fashion.$parser.parse(r),a=window.fashion.$processor.process(a),u=window.fashion.$actualizer.actualize(a),i=u.css,o=u.js,e.$dom.addStylesheet(i),e.$dom.addScript(o),console.log("[FASHION] Compile finished in "+((new Date).getTime()-s)+"ms"),--t<=0?n():void 0})):void 0};var t=[].slice;window.fashion.$extend=function(e,n){var t,r,i;i=[];for(t in n)r=n[t],i.push(e[t]?void 0:e[t]=r);return i},window.fashion.$combine=function(){var e,n,r,i,o;for(n=1<=arguments.length?t.call(arguments,0):[],r={},i=0,o=n.length;o>i;i++)e=n[i],window.fashion.$extend(r,e);return r},window.fashion.$dom={addElementToHead:function(e){var n;return n=document.head||document.getElementsByTagName("head")[0],n.appendChild(e)},addStylesheet:function(n){var t,r,i,o,a;i=document.createElement("style"),i.setAttribute("type","text/css"),i.setAttribute("id",""+window.fashion.cssId),e.$dom.addElementToHead(i),o=n.split("\n"),a=[];for(t in o)r=o[t],r.length>3&&a.push(i.sheet.insertRule(r,t));return a},addScript:function(n){var t;return t=document.createElement("script"),t.setAttribute("type","text/javascript"),t.text=n,e.$dom.addElementToHead(t)},incrementSheetIndex:function(e){var n;return n=parseInt(e.getAttribute("data-count")),e.setAttribute("data-count",n+1),n},getSheetIndex:function(e){return parseInt(e.getAttribute("data-index"))}},window.fashion.$stringify=function(e){if(e instanceof Array)return window.fashion.$stringifyArray(e);switch(typeof e){case"string":return JSON.stringify(e);case"object":return window.fashion.$stringifyObject(e);case"number":return e;case"undefined":return"undefined";default:return e.toString()}},window.fashion.$stringifyObject=function(e){var n,t,r;n=[];for(t in e)r=e[t],e.hasOwnProperty(t)&&(t=t.replace("'","'"),n.push(""+t+": "+window.fashion.$stringify(r)));return"{"+n.join(",")+"}"},window.fashion.$stringifyArray=function(e){var n,t,r,i;for(n=[],r=0,i=e.length;i>r;r++)t=e[r],n.push(window.fashion.$stringify(t));return"["+n.join(",")+"]"};var r;r=function(){function e(){this.variables={},this.selectors=[],this.blocks=[],this.scripts=[],this.dependencies={blocks:{},globals:{},functions:{},properties:{}},this.bindings={variables:{},globals:{},dom:[]}}return e.prototype.addVariable=function(e){var n,t;if(t=e.name,delete e.name,n=e.scope||0,delete e.scope,!t)throw new Error("Variables must be named");return this.variables[t]||(this.variables[t]={}),this.variables[t][n]=e,this.bindings.variables[t]=[]},e.prototype.addSelector=function(e){return e.index=this.selectors.length,this.selectors.push(e)},e.prototype.addScript=function(e){return this.scripts.push(e)},e.prototype.addBlock=function(e){return this.blocks.push(e)},e.prototype.addBlockDependency=function(e,n){return this.dependencies.blocks[e]=n},e.prototype.addGlobalDependency=function(e,n){return this.dependencies.globals[e]=n},e.prototype.addFunctionDependency=function(e,n){return this.dependencies.functions[e]=n},e.prototype.addPropertyDependency=function(e,n){return this.dependencies.properties[e]=n},e.prototype.addVariableBinding=function(e,n){if(!this.bindings.variables[n])throw new Error("Variable "+n+" does not exist or cannot be bound.");return this.bindings.variables[n].push(e)},e.prototype.addGlobalBinding=function(e,n){return this.bindings.globals[n]||(this.bindings.globals[n]=[]),this.bindings.globals[n].push(e)},e.prototype.addDOMBinding=function(e,n,t,r){return this.bindings.dom.push({watch:[t,r],rel:n,bind:e})},e.prototype.forEachVariable=function(e){var n,t,r,i,o;o=this.variables;for(n in o){r=o[n];for(t in r)if(i=r[t],e.call(i,i,t)===!1)return}},e.prototype.forEachMatchingSelector=function(e,n){var t,r,i,o;for(o=this.selectors,r=0,i=o.length;i>r;r++)if(t=o[r],t.name===e&&n.call(this,t)===!1)return},e}(),window.fashion.$class||(window.fashion.$class={}),window.fashion.$class.ParseTree=r;var i;i=function(){function e(e,n,t){null==t&&(t=0),"$"===e[0]&&(e=e.substr(1)),this.name=e,this.raw=this.value=n,this.scope=t,this.topLevel=0===t}return e.prototype.annotateWithType=function(e,n,t){return this.type=e,this.unit=n,t?this.value=t:void 0},e}(),window.fashion.$class.Variable=i;var o;o=function(){function n(n,t){this.name=n,this.properties=[],this.index=-1,this.mode=t?t:n instanceof u?e.$runtimeMode.dynamic:e.$runtimeMode["static"]}return n.prototype.addToBody=function(e){return this.body||(this.body=""),this.body+=e},n.prototype.addProperty=function(e){return this.body=void 0,this.properties.push(e)},n.prototype.insertProperty=function(e,n){return this.body=void 0,this.properties.splice(n,0,e)},n.prototype.forEachPropertyNamed=function(e,n){var t,r,i,o;for(o=this.properties,r=0,i=o.length;i>r;r++)if(t=o[r],t.name===e&&n.call(this,t)===!1)return},n}(),window.fashion.$class.Selector=o;var a,s;a=function(){function n(n,t,r,i){null==r&&(r=e.$runtimeMode["static"]),this.name=n,this.mode=r,i?"object"!=typeof t?this.value={value:t,transition:i}:(this.value=t,this.value.transition=i):this.value=t}return n.prototype.copyWithName=function(e){return new n(e,this.value,this.mode)},n}(),s=function(){function e(e,n,t){this.easing=e,this.duration=n,this.delay=t}return e}(),window.fashion.$class.Property=a,window.fashion.$class.PropertyTransition=s;var u;u=function(){function e(e,n,t,r){this.script=e.toString(),this.setter=-1!==this.script.indexOf("="),this.mode=r,this.type=n,this.unit=t}return e.prototype.generate=function(){var e;try{return this.evaluate=Function("v","g","f","t","e",this.script)}catch(n){return e=n,console.log("[FASHION] Could not compile script '"+this.script+"'"),console.log(e)}},e}(),window.fashion.$class.Expression=u;var l,d,c,p,f,h,m={}.hasOwnProperty,v=function(e,n){function t(){this.constructor=e}for(var r in n)m.call(n,r)&&(e[r]=n[r]);return t.prototype=n.prototype,e.prototype=new t,e.__super__=n.prototype,e};p=function(){function n(n){this.mode=n.mode||n.runtimeMode||e.$runtimeMode["static"],this.runtimeCapabilities=n.runtimeCapabilities||n.capabilities,n.watcherFunction&&(!(this.mode|e.$runtimeMode.dynamic)||this.mode|e.$runtimeMode.live?console.log("[FASHION] Static/live modules cannot have watcher functions."):this.watch=n.watcherFunction)}return n}(),h=function(n){function t(n){this.type=n.type||n.output||n.outputType||e.$type.String,this.unit=n.unit||"",this.get=n.get||n.evaluate,t.__super__.constructor.call(this,n)}return v(t,n),t}(p),c=function(e){function n(e){n.__super__.constructor.call(this,e)}return v(n,e),n}(h),d=function(e){function n(e){void 0!==e.unitFrom&&(this.unitFrom=e.unitFrom,delete e.unit),n.__super__.constructor.call(this,e)}return v(n,e),n}(h),l=function(e){function n(e){"function"==typeof e?this.compile=e:(this.compile=e.compileFunction||e.compile,this.runtimeObject=e.runtimeObject||e.runtime)}return v(n,e),n}(p),f=function(n){function t(n){"function"==typeof n?this.compile=n:(this.compile=n.compileFunction||n.compile,this.apply=n.applyFunction||n.apply,this.apply&&(n.mode=e.$runtimeMode.individual),this.replace=n.replace||!1,this.runtimeObject=n.runtimeObject||n.runtime)}return v(t,n),t}(p),window.fashion.$class||(window.fashion.$class={}),window.fashion.$class.GlobalModule=c,window.fashion.$class.FunctionModule=d,window.fashion.$class.BlockModule=l,window.fashion.$class.PropertyModule=f,window.fashion.$type={None:0,Number:1,String:2,Color:3,KGeneric:100,KDisplay:101,KCenter:102,KListStyle:103,KLineStyle:104,KInset:105,Unknown:255},window.fashion.$unit={Number:{"":!1," ":!1,px:"px",pt:"pt","%":"%",em:"em",ex:"ex",cm:"cm",mm:"mm","in":"in",pt:"pt",pc:"pc",ch:"ch",rem:"rem",vh:"vh",vw:"vw",vmin:"vmin",vmax:"vmax",ms:"ms",s:"s"}},window.fashion.$typeConstants={colors:["aqua","black","blue","fuchsia","gray","green","lime","maroon","navy","olive","purple","red","silver","teal","white","yellow"]},window.fashion.$runtimeMode={"static":0,dynamic:1,scoped:3,individual:7,live:9,generate:function(e,n,t,r){return(e?1:0)|(n?7:0)|(t?9:0)|(r?3:0)}},window.fashion.$loader={loadStyleTags:function(e){var n,t,r,i,o,a;for(t=document.getElementsByTagName("style"),a=[],n=i=0,o=t.length;o>=0?o>i:i>o;n=o>=0?++i:--i)r=t[n].getAttribute("type"),r===window.fashion.mimeType&&a.push(""!==t[n].textContent?e(t[n].textContent):void 0);return a},loadScriptsFromTags:function(e){return window.fashion.$loader.loadStyleTags(e)},countScripts:function(){var e,n,t,r,i,o;for(e=0,t=document.getElementsByTagName("style"),n=i=0,o=t.length;o>=0?o>i:i>o;n=o>=0?++i:--i)r=t[n].getAttribute("type"),r===window.fashion.mimeType&&e++;return e}},window.fashion.$parser={parse:function(n){var t,i,o,a;i=new r,i=e.$parser.parseSections(n,i),a=i.selectors;for(t in a)o=a[t],e.$parser.parseSelectorBody(o.body,o,i);return i}},window.fashion.$parser.addVariable=function(n,t,r,o){var a,s,l,d,c,p;if(r=e.$parser.parseSingleValue(r,"$"+t,n),p=new i(t,r,o),n.addVariable(p),r instanceof u)a=r.type,l=r.unit;else{if(c=p.raw||p.value,!c)return;a=window.fashion.$shared.determineType(c,e.$type,e.$typeConstants),d=window.fashion.$shared.getUnit(c,a,e.$type,e.$unit),s=d.value,l=d.unit}return p.annotateWithType(a,l,s)},window.fashion.$parser.splitByTopLevelCommas=function(e){var n,t,r,i,o;for(t=0,n="",i=[],r=/(\(|\)|\,|[^\(\)\,]+)/g;o=r.exec(e);)","!==o[0]||0!==t?("("===o[0]&&t++,")"===o[0]&&t--,n+=o[0]):(i.push(n),n="");return i.push(n),i},window.fashion.$parser.splitByTopLevelSpaces=function(e){var n,t,r,i,o,a,s,u;for(r=0,s=i=t=!1,n="",a=[],o=/([^\(\)\"\'\`\s]*\(|\)|\"|\'|\`|([^\(\)\"\'\`\s]+(\s+[\+\-\/\*\=]\s+|[\+\-\/\*\=]))+[^\(\)\"\'\`\s]+|\s|[^\(\)\"\'\`\s]+)/g;u=o.exec(e);)" "!==u[0]||0!==r||s||i||t?("("===u[0][u[0].length-1]&&r++,")"===u[0]&&r--,"'"!==u[0]||i||t||(s=!s),'"'!==u[0]||s||t||(i=!i),"`"!==u[0]||i||s||(t=!t),n+=u[0]):(a.push(n),n="");return a.push(n),a},window.fashion.$parser.parseSections=function(n,t){var r,i,o,a;for(i=/([\s]*(\$([\w\-]+)\:[\s]*(.*?)\;|\@([\w\-]+)[\s]*(.*?)[\s]*\{|(.*?)[\s]*?\{)|\{|\})/g;(o=i.exec(n))&&!(o.length<8)&&o[0];)o[3]&&o[4]?e.$parser.addVariable(t,o[3],o[4]):o[5]?(a=o.index+o[0].length,r=o[6]?e.$parser.splitByTopLevelSpaces(o[6]):[],t.addBlock({type:o[5],arguments:r,body:window.fashion.$parser.parseBlock(n,i,a)}),t.addBlockDependency(o[5],e.$blocks[o[5]])):o[7]?window.fashion.$parser.parseSelector(t,n,o[7],i,o.index+o[0].length):console.log("There's a problem somewhere in your file. Sorry.");return t},window.fashion.$parser.parseSelector=function(n,t,r,i,o){var a,s,u,l,d;for(l=[e.$parser.createSelector(n,r)],a=1,u=[0];a>0&&(s=i.exec(t));)d=l[u[u.length-1]],d.addToBody(t.substring(o,s.index)),o=s.index+s[0].length,"}"===s[0]?(u.pop(),a--):s[3]&&s[4]?d.addToBody(t.substring(s.index,o)):s[7]&&(r="&"===s[7][0]?d.name+s[7].substr(1):"~"===s[7][0]?d.name+" "+s[7].substr(1):d.name+" > "+s[7],l.push(e.$parser.createSelector(n,r)),u.push(l.length-1),a++);return l},window.fashion.$parser.createSelector=function(n,t){var r,i,a,s,l,d,c,p,f;if(c=new o(t),n.addSelector(c),-1===t.indexOf("$"))return c;for(a=!1,d="return ",s=0,l=/\$([\w\-]+)/g;i=l.exec(t);)i.index>s&&(d+="'"+t.substring(s,i.index)+"'+"),s=i.index+i[0].length,r=e.$parser.expressionExpander.localVariable,f=r(i[1],c.index,n),a|=f.individualized||!1,d+=f.script+"+";return t.length>s&&(d+="'"+t.substr(s)+"'+"),p=d.substr(0,d.length-1),c.mode=e.$runtimeMode.dynamic,c.name=new u(p,e.$type.String,0,!0,a),c.name.generate(),c},window.fashion.$parser.parseBlock=function(e,n,t){var r,i,o;for(r=1,i=t;r>0&&(o=n.exec(e));)i=o.index+o[0].length,"}"===o[0]?r--:"{"===o[0]?r++:o[5]?r++:o[7]&&r++;return e.substring(t,i-1).trim()},window.fashion.$parser.parseSelectorBody=function(n,t,r){var i,o,u,l,d,c,p,f;for(i=t.index,d=/[\s]*(\$?[\w\-\s]*)\:[\s]*(\[([\w\-\$\@]*)[\s]*([\w\-\$\@\%]*)[\s]*([\w\-\$\@\%]*)\]){0,1}[\s]*([^;}\n]*?)[\s]*(!important)?[;}\n]/g,f=[];l=d.exec(n);)c=void 0,l.length<7||(p=e.$parser.parsePropertyValues(l[6],i,r),u=l[1],"$"!==u[0]?(l[3]&&(c=new s(e.$parser.parsePropertyValue(l[3],i,r,!1),e.$parser.parsePropertyValue(l[4],i,r,!1),e.$parser.parsePropertyValue(l[5],i,r,!1))),"!important"===l[7]&&("string"==typeof p&&(p+=" !important"),"object"==typeof p&&(p.important=!0)),o=t.mode|p.mode||0,f.push(t.addProperty(new a(u,p,o,c)))):e.$parser.parseScopedVariable(u,p,l,t.name,r));return f},window.fashion.$parser.parseScopedVariable=function(n,t,r,i,o){if("array"==typeof t&&"array"==typeof t[0])throw new Error("Variable declaration '"+n+"' cannot have comma separated values");if(r[3])throw new Error("Variable declaration '"+n+"' cannot have a transition");if(r[7])throw new Error("Variable declaration '"+n+"' cannot be !important");return e.$parser.addVariable(o,n,t,i)},window.fashion.$parser.parsePropertyValues=function(e,n,t){var r,i;if(-1!==e.indexOf(",")){if(e=window.fashion.$parser.splitByTopLevelCommas(e),1===e.length)return window.fashion.$parser.parsePropertyValue(e[0],n,t);for(r in e)i=e[r],e[r]=i.trim();for(r in e)i=e[r],e[r]=window.fashion.$parser.parsePropertyValue(i,n,t,!0,!0);return e}return window.fashion.$parser.parsePropertyValue(e,n,t)},window.fashion.$parser.parsePropertyValue=function(n,t,r,i,o){var a,s,u,l,d;if(null==i&&(i=!0),null==o&&(o=!1),o||"string"==typeof n&&-1!==n.indexOf(" ")){if(a=e.$parser.splitByTopLevelSpaces(n),!o&&1===a.length)return window.fashion.$parser.parseSingleValue(n,t,r);for(u=function(){var n,i,o;for(o=[],n=0,i=a.length;i>n;n++)s=a[n],o.push(e.$parser.parseSingleValue(s,t,r));return o}(),u.mode=0,l=0,d=u.length;d>l;l++)s=u[l],u.mode|=s.mode||0;return u}return window.fashion.$parser.parseSingleValue(n,t,r)},window.fashion.$parser.identifyExpression=function(){return/(([\s][\+\-\/\*\=][\s])|[\(\)\[\]]|\@|\$)/g},window.fashion.$parser.parseSingleValue=function(n,t,r){return n&&"string"==typeof n&&n.match(e.$parser.identifyExpression())?window.fashion.$parser.parseExpression(n,t,r,window.fashion.$functions,window.fashion.$globals):n},window.fashion.$parser.parseExpression=function(n,t,r,i,o,a){var s,l,d,c,p,f,h,w,m,v,g,y,$,b,S,x,P,F,V,O,M,N;for(null==a&&(a=!0),c=e.$parser.expressionExpander,h=window.fashion.$parser.matchParenthesis,g=n,w=e.$runtimeMode["static"],F=[],O=[],y=0,v=function(n,t,r){return g=e.$parser.spliceString(g,n+y,t,r),y+=r.length-t},m=/(\@(self|this|parent)\.?([^\s\)]*)|\$([\w\-]+)|\@([\w\-]+)|([\-]{0,1}([\.]\d+|\d+(\.\d+)*)[a-zA-Z]{1,4})|([\w\-\@\$]*)\(|\(|\)([\S]*))/g,b=!1;!b&&($=m.exec(n));)S=$.index,f=$[0].length,d=S+f,$[2]?l=c.relativeObject($[2],$[3]):$[4]?l=c.localVariable($[4],t,r):$[5]?l=c.globalVariable($[5],o,r):$[6]?l=c.numberWithUnit($[6]):$[9]&&(M=h(m,n,d),s=M.body,x=M.unit,s||(s=n.substring(d,n.length-1),b=!0),f+=s.length+1,x&&(f+=x.length),l=c["function"]($[9],s,x,t,r,i,o)),l&&(l.script&&v(S,f,l.script),l.mode&&(w|=l.mode),F.push(void 0===l.type?e.$type.Unknown:l.type),O.push(l.unit||""));return N=e.$parser.determineExpressionType(F,O),P=N.type,V=N.unit,n.match(/\s\=\s/g)&&(V=void 0),g=e.$parser.wrapExpressionScript(g,a,P,V),p=new u(g,P,V,w),a&&p.generate(),p},window.fashion.$parser.wrapExpressionScript=function(e,n,t,r){return n?r&&"string"==typeof r?"return ("+e+") + '"+r+"'":"return "+e:"{value: "+e+", type: "+t+", unit: '"+r+"'}"},window.fashion.$parser.spliceString=function(e,n,t,r){return e.substr(0,n)+r+e.substr(n+t)},window.fashion.$parser.matchParenthesis=function(e,n,t){var r,i,o,a;for(i=0,r="",o=t;a=e.exec(n);)if(-1!==a[0].indexOf("("))i++;else{if(-1!==a[0].indexOf(")")&&0===i--)return r+=n.substr(o,a.index-o),{body:r,unit:a[10]};r+=n.substr(o,a.index-o+a[0].length),o=a.index+a[0].length}},window.fashion.$parser.determineExpressionType=function(n,t){var r,i,o,a,s;i=o=void 0;for(r in n)if(a=n[r],a!==e.$type.Unknown){if(i){if(a!==i){if(a!==e.$type.String)return console.log("[FASHION] Found mixed types in expression"),{};i=e.$type.String}}else i=a;if(a===e.$type.Number||a===e.$type.Color){if(s=t[r],""===s)continue;if(o){if(s!==o)return console.log("[FASHION] Conflicting units '"+s+"' and '"+typeUnit[1]+"'"),console.log("[FASHION] Unit conversion will be implemented in the future"),{}}else o=s}}return{type:i,unit:o}},window.fashion.$parser.expressionExpander={localVariable:function(n,t,r){var i,o,a,s,l,d,c,p,f,h;if(h=r.variables,d=h[n],!d)return console.log("[FASHION] Variable $"+n+" does not exist.");i=!1,c=p=-1;for(l in d)f=d[l],0!==l&&(o=!1),c=f.type,p=f.unit;return r.addVariableBinding(t,n),s="v('"+n+"'"+(i?",e":"")+").value",a=e.$runtimeMode.generate(!0,i),new u(s,c,p,a)},globalVariable:function(n,t,r){var i,o,a;return n=n.toLowerCase(),(a=t[n])?(r.addGlobalDependency(n,a),i=e.$runtimeMode.dynamic,o="g."+n+".get()",new u(o,a.type,a.unit,i)):console.log("[FASHION] Variable $"+n+" does not exist.")},numberWithUnit:function(n){var t,r,i;return t=window.fashion.$type.Number,r=e.$runtimeMode["static"],i=window.fashion.$shared.getUnit(n,t,e.$type,e.$unit),0/0===i.value&&(i.value=0),new u(i.value,t,i.unit,r)},relativeObject:function(n,t){var r,i,o,a,s,l;return l="parent"===n?"e.parent":"e",r=t.split("."),i=r[r.length-1],"top"===i||"bottom"===i||"left"===i||"right"===i||"number"===i||"width"===i||"height"===i?(a=e.$type.Number,s="px"):a=e.$type.String,o=l,t&&(o+="."+t),new u(o,a,s,e.$runtimeMode.individual)},"function":function(e,n,t,r,i,o,a){var s,l,d,c,p,f,h,w,m,v,g,y;if(v=i.variables,p=o[e],!p)return console.log("[FASHION] Function $"+e+" does not exist.");for(n.length>1?(l=window.fashion.$parser.splitByTopLevelCommas(n),c=function(){var e,n,t;for(t=[],e=0,n=l.length;n>e;e++)s=l[e],t.push(window.fashion.$parser.parseExpression(s,r,i,o,a,!1));return t}()):c=[],w=["t"],f=p.mode,g=0,y=c.length;y>g;g++)d=c[g],d instanceof u&&(f|=d.mode,w.push(d.script));return m=""!==p.unit?p.unit:void 0!==p.unitFrom?c[p.unitFrom].unit:"",i.addFunctionDependency(e,p),h="f['"+e+"'].get.call("+w.join(",")+")",new u(h,p.type,t||m,f)}},window.fashion.$processor={process:function(n){return n=window.fashion.$processor.blocks(n,e.$blocks),n=window.fashion.$processor.properties(n,e.$properties)}},window.fashion.$processor.api={throwError:function(e,n){return console.log("[FASHION: "+e+"] "+n)},setProperty:function(e,n,t,r,i){var o;return o=new a(r,i,t),e.insertProperty(o,n+1)},getProperty:function(e,n,t){var r;return r=void 0,e.forEachMatchingSelector(n,function(e){return e.forEachPropertyNamed(t,function(e){return r?!1:r=e.value}),r?!1:void 0}),r},addRule:function(n,t,r){var i;return i=e.$parser.createSelector(n,t),e.$parser.parseSelectorBody(r+"\n",i,n)},addScript:function(e,n){return e.addScript(n)},parseValue:function(n){return n&&"string"==typeof n?e.$parser.parseSingleValue(n):""},determineType:function(n){return n.type?n.type:"string"==typeof n?window.fashion.$shared.determineType(n,e.$type,e.$typeConstants):e.$type.Unknown},determineUnit:function(n){return n.unit?n.unit:"string"==typeof n?window.fashion.$shared.getUnit(n,e.$type.Number,e.$type,e.$unit).unit:""}},window.fashion.$processor.blocks=function(n,t){var r,i,o,a,s,u,l;for(a=window.fashion.$processor.api,l=n.blocks,s=0,u=l.length;u>s;s++)i=l[s],o=t[i.type],o&&(r={throwError:a.throwError.bind(0,i.type),addRule:a.addRule.bind(0,n),addScript:a.addScript.bind(0,n),parseValue:a.parseValue,parse:e.$parser.parse,runtimeObject:n.dependencies.blocks[i.type].runtimeObject},o.compile.call(r,i.arguments,i.body));return n},window.fashion.$processor.properties=function(e,n){var t,r,i,o,a,s,u,l,d,c,p;for(r=window.fashion.$processor.api,c=e.selectors,s=0,l=c.length;l>s;s++)for(a=c[s],i=-1,p=a.properties,u=0,d=p.length;d>u;u++)o=p[u],i++,n[o.name]&&n[o.name].compile&&(t={throwError:r.throwError.bind(0,o),setProperty:r.setProperty.bind(0,a,i,o.mode),getProperty:r.getProperty.bind(0,e,a.name),parseValue:r.parseValue,determineType:r.determineType,determineUnit:r.determineUnit},n[o.name].compile.call(t,o.value),n[o.name].replace&&a.properties.splice(i--,1));return e},window.fashion.$shared={},window.fashion.$shared.getVariable=function(e,n,t,r,i,o){var a;return a=e[i],a?a[0]?a[0]:a.scope&&a.scope.length>0?this.throwError("Scoped variables are not yet supported"):a["default"]?a["default"].script?{value:this.evaluate(a["default"],e,n,t,r,o)}:{value:a["default"]}:this.throwError("Variable '"+i+"' does not exist."):(console.log("[FASHION] Could not find variable '"+i+"'"),{value:void 0})},window.fashion.$shared.evaluate=function(e,n,t,r,i,o){var a,s,u,l;return a=function(e){return function(a){var s,u,l,d,c,p;if("string"==typeof a)return a;if("number"==typeof a)return a;if(d=[],l=function(o,a){var s;return s=e.getVariable(n,t,r,i,o,a),d.push({object:s,value:s.value}),s},a.evaluate){if(u=a.evaluate(l,t,r,i,o),a.setter)for(c=0,p=d.length;p>c;c++)s=d[c],s.object.value!==s.value&&e.setVariable(s.object.name,s.object.value);return u}return a.value?a.value:void 0}}(this),e instanceof Array?0===e.length?"":e[0]instanceof Array?function(){var n,t,r;for(r=[],n=0,t=e.length;t>n;n++)l=e[n],r.push(function(){var e,n,t;for(t=[],e=0,n=l.length;n>e;e++)u=l[e],t.push(a(u));return t}().join(" "));return r}().join(", "):function(){var n,t,r;for(r=[],n=0,t=e.length;t>n;n++)s=e[n],r.push(a(s));return r}().join(" "):a(e)};var g=[].indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(n in this&&this[n]===e)return n;return-1};window.fashion.$shared.determineType=function(e,n,t){var r,i;return"number"==typeof e?n.Number:(i=function(e){return'"'===e[0]||"'"===e[0]?n.String:e.charCodeAt(0)>47&&e.charCodeAt(0)<58||"-"===e[0]||"."===e[0]?n.Number:"#"===e[0]||0===e.toLowerCase().indexOf("rgb")?n.Color:r(e)||window.fashion.$type.Unknown},r=function(e){return t?t.colors&&g.call(t.colors,e)>=0?n.Color:void 0:n.Unknown},i(e))},window.fashion.$shared.getUnit=function(e,n,t,r){var i;return"number"==typeof e?{value:parseFloat(e),unit:!1}:(i=function(){var n,t,i;return t=/([0-9\-\.]*)(.*?)/,n=t.exec(e),n.length<2?{value:parseFloat(e),unit:!1}:(i=e.replace(n[1],""),r=r.Number[i],r?{value:parseFloat(n[1]),unit:r}:{value:parseFloat(n[1]),unit:!1})},n===t.Number?i():(n===t.String&&("'"===e[0]||'"'===e[0])&&(e=e.substring(1,e.length-1)),{value:e,unit:void 0}))},window.fashion.$shared.timeInMs=function(e){return"ms"===e.unit?e.value:"s"===e.unit?1e3*e.value:0},window.fashion.$actualizer={actualize:function(n){var t,r,i,o,a,s,u,l,d;return e.$actualizer.separateTransitions(n),d=e.$actualizer.regroupProperties(n),l=d.selectors,o=d.map,i=e.$actualizer.cullSelectors(l,e.$runtimeMode.individual),s=e.$actualizer.cullSelectors(l,e.$runtimeMode["static"]),u=e.$actualizer.generateRuntimeData(n,s,o),t=e.$actualizer.determineRuntimeCapabilities(u),e.$actualizer.addRuntimeFunctions(u,n,t),r=e.$actualizer.createCSS(u,i),a=e.$actualizer.createJS(u,n.scripts),{css:r,js:a}}},window.fashion.$actualizer.cullSelectors=function(e,n){var t,r,i;r={};for(t in e)i=e[t],i.mode!==n&&(r[t]=i);return r},window.fashion.$actualizer.createJS=function(n,t){return"/*\\\n|*| GENERATED BY FASHION "+e.version+"\n|*| "+e.url+" - "+e.author+"\n\\*/\nwindow."+e.runtimeObject+" = "+e.$stringify(n)+";\n"+t.join("\n")},window.fashion.$actualizer.regroupProperties=function(n){var t,r,i,o,a,s,u,l,d,c,p,f;for(r=[],t=[],f=n.selectors,l=0,c=f.length;c>l;l++){for(o=f[l],i=o.properties,e.$actualizer.groupPropertiesWithMode(i,e.$runtimeMode.dynamic),e.$actualizer.groupPropertiesWithMode(i,e.$runtimeMode.live),e.$actualizer.groupPropertiesWithMode(i,e.$runtimeMode.individual),u=e.$actualizer.splitSelectorByModes(o),a=[],d=0,p=u.length;p>d;d++)s=u[d],r.push(s),a.push(r.length-1);t.push(a)}return{selectors:r,map:t}},window.fashion.$actualizer.groupPropertiesWithMode=function(e,n){var t,r,i,o,a,s,u,l,d,c;for(t=e[e.length-1].mode===n?1:0,c=[],a=l=d=e.length-2-t;l>=0;a=l+=-1)if(s=e[a],s.mode===n){for(o="-"===s.name[0]?2:0,u=s.name.split("-")[o].toLowerCase(),i=a+1;i<e.length-t&&(o="-"===e[i].name[0]?2:0,r=e[i].name.split("-")[o].toLowerCase(),r!==u);)i++;e.splice(a,1),e.splice(i-1,0,s),c.push(i===e.length-t?t++:void 0)}return c},window.fashion.$actualizer.splitSelectorByModes=function(e){var n,t,r,i,a,s;for(t=[],n=void 0,s=e.properties,i=0,a=s.length;a>i;i++)r=s[i],n&&n.mode===r.mode||(n=new o(e.name,r.mode),t.push(n)),n.addProperty(r);return t};var y;y=function(){function n(n,t,r){this.config=e.runtimeConfig,this.selectors=t,this.variables=r,this.globals=n.dependencies.globals,this.functions=n.dependencies.functions,this.watchSelectors=[],this.runtime={}}return n.prototype.addWatchSelector=function(e){return this.watchSelectors.push(e)},n.prototype.addRuntimeModule=function(e){var n,t,r;r=e.functions;for(t in r){if(n=r[t],this.runtime[t])return;this.runtime[t]=n}},n}();var $;$=function(){function e(e,n,t){this.name=e,this.type=n,this.unit=t,this.scopes=[],this.values={},this.dependents=[],this["default"]=void 0}return e.prototype.addScope=function(e,n){return this.values[e]=n,0===e||"0"===e?this["default"]=n:this.scopes.push(e)},e}(),window.fashion.$actualizer.generateRuntimeData=function(n,t,r){var i,o;return o=e.$actualizer.actualizeVariables(n,t,r),i=new y(n,t,o)},window.fashion.$actualizer.actualizeVariables=function(n,t,r){var i,o,a,s,u,l,d,c,p,f;p={},f=n.variables;for(d in f){s=f[d],u=l=-1;for(o in s)c=s[o],c.type&&(u=c.type),c.unit&&(l=c.unit);a=new $(d,u,l);for(o in s)c=s[o],a.addScope(o,c.value);i=n.bindings.variables[d],a.dependents=e.$actualizer.mapVariableDependents(a,i,t,r),p[d]=a}return p},window.fashion.$actualizer.mapVariableDependents=function(n,t,r,i){var o,a,s,u,l,d,c,p,f;for(a=[],l=0,c=t.length;c>l;l++)for(o=t[l],f=i[o],d=0,p=f.length;p>d;d++)u=f[d],s=r[u],s&&s.mode!==e.$runtimeMode["static"]&&a.push(u);return a},window.fashion.$actualizer.createCSS=function(n,t){var r,i,o,a,s,u,l,d,c,p,f;a=e.$actualizer.evaluationFunction(n.variables),r="";for(s in t){for(l=t[s],i=[],f=l.properties,c=0,p=f.length;p>c;c++)u=f[c],d=u.value,o=a(l.mode===e.$runtimeMode["static"]?"object"==typeof d&&d.value?d.value:d:d),i.push(e.$actualizer.cssPropertyTemplate(u.name,o));r+=e.$actualizer.cssSelectorTemplate(l.name,i)}return r},window.fashion.$actualizer.cssPrefixes=["","-webkit-","-moz-","-ms-"],window.fashion.$actualizer.separateTransitions=function(n){var t,r,i,o,s,u,l,d,c,p,f,h,w,m,v,g,y;t=e.$actualizer.evaluationFunction(n.variables),u=window.fashion.$actualizer.cssPrefixes,v=n.selectors,y=[];for(r in v){for(c=v[r],h=[],g=c.properties,w=0,m=g.length;m>w;w++)l=g[w],l.value.transition&&(d=l.value.transition,d.property=l.name,h.push(d),d.mode=d.easing.mode|d.duration.mode|d.delay.mode);o=e.$runtimeMode,y.push(function(){var n,r,d,w;for(d=[o["static"],o.dynamic,o.individual,o.live],w=[],n=0,r=d.length;r>n;n++)i=d[n],f=e.$actualizer.transitionStrings(t,h,i),0!==f.length&&(p=f.join(","),l=new a("transition",p,i),w.push(function(){var e,n,t;for(t=[],e=0,n=u.length;n>e;e++)s=u[e],t.push(c.addProperty(l.copyWithName(s+"transition")));return t}()));return w}())}return y},window.fashion.$actualizer.transitionStrings=function(n,t,r){var i,o,a,s,u,l,d;for(d=[],u=0,l=t.length;l>u;u++)s=t[u],s.mode===r&&(o=s.duration.script?n(s.duration):s.duration,a=s.easing.script?n(s.easing):s.easing,i=s.delay.script?n(s.delay):s.delay,d.push(e.$actualizer.cssTransitionTemplate(s.property,o,a,i)));return d},window.fashion.$actualizer.evaluationFunction=function(n){return function(t){return window.fashion.$shared.evaluate.call(window.fashion.$shared,t,n,e.$globals,e.$functions)}},window.fashion.$actualizer.cssPropertyTemplate=function(e,n){return""+e+": "+n+";"},window.fashion.$actualizer.cssSelectorTemplate=function(e,n){return""+e+" {"+n.join("")+"}\n"},window.fashion.$actualizer.cssTransitionTemplate=function(e,n,t,r){return""+e+" "+(n||"1s")+" "+(t||"")+(r?" "+r:"")};var b,g=[].indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(n in this&&this[n]===e)return n;return-1};window.fashion.$runtimeCapability={variables:"variables",scopedVariables:"scopedVariables",individualProps:"watchSelector",liveProps:"liveProperties"},b=function(){function e(){}return e.prototype.constuctor=function(){return this.capabilities=window.fashion.runtimeModules},e.prototype.add=function(e){return this.capabilities||(this.capabilities=window.fashion.runtimeModules),g.call(this.capabilities,e)>=0?void 0:this.capabilities.push(e)},e.prototype.addDependencies=function(e){var n,t,r,i;for(i=[],t=0,r=e.length;r>t;t++)n=e[t],i.push(this.add(n));return i},e}(),window.fashion.$actualizer.determineRuntimeCapabilities=function(n){var t,r,i,o,a;if(t=new b,"{}"!==JSON.stringify(n.variables))for(t.add(e.$runtimeCapability.variables),a=n.variables,i=0,o=a.length;o>i;i++)r=a[i],r.scopes.length>0&&t.add(e.$runtimeCapability.scopedVariables);return e.$actualizer.hasPropertyMode(n,e.$runtimeMode.individual)&&t.add(e.$runtimeCapability.individualProps),e.$actualizer.hasPropertyMode(n,e.$runtimeMode.live)&&t.add(e.$runtimeCapability.liveProps),t},window.fashion.$actualizer.hasPropertyMode=function(e,n){var t,r,i,o;for(o=e.selectors,r=0,i=o.length;i>r;r++)if(t=o[r],t.mode===n)return!0;return!1},window.fashion.$actualizer.addRuntimeFunctions=function(n,t,r){var i,o,a,s,u,l,d,c;if(r.capabilities)for(i=0;i<r.capabilities.length;)if(u=r.capabilities[i++],void 0!==u){if(s=e.$runtimeModules[u],!s)return console.log("[FASHION] Could not find module "+u);if(r.addDependencies(s.dependencies),n.addRuntimeModule(s),s.initializers.length>0)for(c=s.initializers,l=0,d=c.length;d>l;l++)a=c[l],o="window."+e.runtimeObject+".runtime."+a,t.addScript("window.addEventListener('load', "+o+", false);")}};var S;S=function(){function e(e,n,t){var r,i;this.name=e,this.dependencies=n,this.functions=t,this.initializers=[];for(i in t)r=t[i],"$"===i[0]&&this.initializers.push(i)}return e}(),window.fashion.$runtimeModules={},window.fashion.addRuntimeModule=function(e,n,t){return window.fashion.$runtimeModules[e]=new S(e,n,t)},e.addRuntimeModule("types",[],{determineType:window.fashion.$shared.determineType,getUnit:window.fashion.$shared.getUnit,timeInMs:window.fashion.$shared.timeInMs}),e.addRuntimeModule("evaluation",["variables"],{evaluate_Shared:window.fashion.$shared.evaluate,evaluate:function(e,n){return this.evaluate_Shared(e,FASHION.variables,FASHION.globals,FASHION.functions,FASHION.runtime,n)
}}),e.addRuntimeModule("errors",[],{throwError:function(e){return console.log("[FASHION] Runtime error: "+e)}}),e.addRuntimeModule("variables",["evaluation","selectors","types","errors"],{getVariable:window.fashion.$shared.getVariable,variableValue:function(e,n){return this.getVariable(FASHION.variables,FASHION.globals,FASHION.functions,FASHION.runtime,e,n).value},setVariable:function(e,n,t){return void 0===t?this.setTopLevelVariable(e,n):console.log("Scoped variable setting coming soon")},setTopLevelVariable:function(e,n){var t,r,i,o,a,s;if(r=FASHION.variables[e],!r)return this.throwError("Variable '$"+e+"' does not exist");for(r["default"]=n,a=r.dependents,s=[],i=0,o=a.length;o>i;i++)t=a[i],s.push(this.regenerateSelector(t));return s}}),e.addRuntimeModule("watchVariables",[],{$initWatchers:function(){var e,n,t,r,i,o;window[FASHION.config.variableObject]=n={},i=FASHION.variables,o=[];for(t in i)r=i[t],e=function(){return function(e){return{get:function(){return FASHION.runtime.variableValue(e)},set:function(n){return FASHION.runtime.setVariable(e,n)}}}}(this)(t),Object.defineProperty(n,t,e),o.push(Object.defineProperty(n,"$"+t,e));return o}}),e.addRuntimeModule("selectors",["evaluation","errors"],{runtimeModes:window.fashion.$runtimeMode,regenerateSelector:function(e){var n,t,r;return t=FASHION.selectors[e],t?t.mode===this.runtimeModes.dynamic?(n=document.getElementById(""+FASHION.config.cssId),r=n.sheet,r.deleteRule(e),r.insertRule(this.CSSRuleForSelector(t),e)):void 0:this.throwError("Selector "+e+" does not exist")},CSSPropertyTemplate:window.fashion.$actualizer.cssPropertyTemplate,CSSSelectorTemplate:window.fashion.$actualizer.cssSelectorTemplate,CSSRuleForSelector:function(e){var n,t,r;return r=e.name.script?this.evaluate(valueObject):e.name,n=function(){var n,r,i,o;for(i=e.properties,o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(this.CSSPropertyTemplate(t.name,this.evaluate(t.value)));return o}.call(this),this.CSSSelectorTemplate(r,n)}}),window.fashion.$functions={random:new d({output:e.$type.Number,evaluate:function(){return Math.random()}}),round:new d({output:e.$type.Number,unitFrom:0,evaluate:function(e){return Math.round(e.value)}}),min:new d({output:e.$type.Number,unitFrom:0,evaluate:function(){var e,n,t,r;for(n=9007199254740992,t=0,r=arguments.length;r>t;t++)e=arguments[t],e.value<n&&(n=e.value);return n}}),max:new d({output:e.$type.Number,unitFrom:0,evaluate:function(){var e,n,t,r;for(n=-9007199254740992,t=0,r=arguments.length;r>t;t++)e=arguments[t],e.value>n&&(n=e.value);return n}})},e.$extend(window.fashion.$functions,{"@":new d({output:e.$type.Number,unit:"",dynamic:!0,evaluate:function(e,n,t){var r,i;return t||(t=document),r=this.querySelector(e.value),i=this.getComputedStyle(r),i[n.value]}})}),e.$extend(window.fashion.$functions,{rgb:new d({output:e.$type.Color,evaluate:function(e,n,t){return"rgb("+parseInt(e.value)+","+parseInt(n.value)+","+parseInt(t.value)+")"}}),rgba:new d({output:e.$type.Color,evaluate:function(e,n,t,r){return"rgba("+parseInt(e.value)+","+parseInt(n.value)+","+parseInt(t.value)+","+r.value+")"}})}),window.fashion.$properties={"text-style":new f({replace:!0,compile:function(e){var n,t,r,i,o;if(t=[],n=function(e){return function(n){if("string"==typeof n){if("'"===n[0]||'"'===n[0])return t.push(n);switch(n){case"serif":return t.push("serif");case"sans-serif":return t.push("sans-serif");case"monospace":return t.push("monospace");case"italic":return e.setProperty("font-style","italic");case"oblique":return e.setProperty("font-style","oblique");case"bold":return e.setProperty("font-weight","bolder");case"light":return e.setProperty("font-weight","lighter");case"underline":return e.setProperty("text-decoration","underline");case"overline":return e.setProperty("text-decoration","overline");case"line-through":return e.setProperty("text-decoration","line-through");case"strikethrough":return e.setProperty("text-decoration","line-through")}}}}(this),e instanceof Array)for(i=0,o=e.length;o>i;i++)r=e[i],n(r);else n(e);return this.setProperty("font-family",t.join(", "))}})},e.$extend(window.fashion.$properties,{pin:new f({replace:!0,compile:function(e){var n,t,r,i,o;return"object"==typeof e&&(e.length>2||e[0]instanceof Array)&&this.throwError("Valid arguments: '{x}px {y}px' or '{both}px'"),this.setProperty("position","absolute"),t=i=o=n=void 0,r=function(e){switch(e){case"left":return t="0px";case"right":return i="0px";case"top":return o="0px";case"bottom":return n="0px";case"center":return t="@parent.width / 2 - @self.outerWidth / 2",o="@parent.height / 2 - @self.outerHeight / 2";default:return this.throwError("Invalid position: "+e)}},"object"==typeof e?(r(e[0]),2===e.length&&r(e[1])):"string"==typeof e&&r(e),t?this.setProperty("left",this.parseValue(t)):this.setProperty("right",this.parseValue(i)),o?this.setProperty("top",this.parseValue(o)):this.setProperty("bottom",this.parseValue(n))}})}),e.$extend(window.fashion.$properties,new(function(){function n(){var n,t,r,i,o;for(t=["click","dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","mouseout","mouseover","drag","dragdrop","dragend","drop","dragenter","dragexit","draggesture","dragleave","dragover","dragstart","blur","change","focus","focusin","focusout","submit","reset"],n=function(e){var n;return n="element.addEventListener('"+e+"', evaluate, false);",new Function("element","value","evaluate",n)},i=0,o=t.length;o>i;i++)r=t[i],this["on-"+r]=new f({replace:!0,mode:e.$runtimeMode.individual,apply:n(r)})}return n}())),window.fashion.$blocks={},window.fashion.$blocks.transition=new l({compile:function(e,n){var t,r,i,o,a,s,u,l,d,c,p;for(l=e[0],d=/(\s*([0-9\-\.\s\%]+?\%|start)\s?\{|\}|\{)/g,s={},o=u=0,i=t="",r=1e3;--r>0&&(c=d.exec(n));)t+=n.substring(u,c.index),u=c.index,c[2]&&0===o&&(i=c[2],t="",u=c[0].length+c.index,o++),"{"===c[0]?o++:"}"===c[0]&&(o--,0===o&&(s[i]=t,t="",i=""));p={};for(a in s)n=s[a],p[a]=this.parse(n).selectors;return this.runtimeObject.transitions[l]=p},runtimeObject:{transitions:{},trigger:function(e,t){var r,i,o,a,s,u,l,d,c;t=this.timeInMs(t),a=w.FASHION.blocks.transition,c=a.transitions[e],l=document.createElement("style"),l.setAttribute("type","text/css"),i=document.head||document.getElementsByTagName("head")[0],i.appendChild(l),u=l.sheet;for(o in c)s=c[o],d="start"===o?0:parseFloat(o.split("-")[0])/100*t+10,r=a.addSelectors(s,t,u,a),d>0?n(d,r.bind(this)):r.bind(this)();return n(t+12,function(){return l.parentElement.removeChild(l)})},addSelectors:function(e,t,r,i){return function(){var o,a,s,u,l,d,c,p;for(u in e){a=e[u],o={},d={},l=0;for(s in a)p=a[s],"object"==typeof p&&p.transition?(d[s]=p,l++):o[s]=p;this.addProperties(u,o),0!==l&&(c=i.generateTransitions(d,t),r.insertRule(""+u+" {"+c+"}",r.rules.length),n(1,function(e){return function(n,t){return function(){return e.addProperties(n,t)}}}(this)(u,d)))}}},generateTransitions:function(e,n){var t,r,i,o,a,s;t="transition: ";for(o in e)s=e[o],s.transition&&(a=s.transition,r=parseFloat(a.duration)/100*n,i=r?""+r+"ms":a.duration,t+=""+o+" "+i+" "+(a.easing||"")+" "+(a.delay||"")+",");return t=t.substr(0,t.length-1)+";",t=[t,"-webkit-"+t,"-moz-"+t,"-ms-"+t].join("")}}}),window.fashion.$functions.trigger=new d({output:e.$type.None,unit:"",mode:e.$runtimeMode.individual,evaluate:function(e,n,t){return w.FASHION.blocks.transition.trigger.call(this,e.value,n,t)}}),window.fashion.$globals={width:new c({type:e.$type.Number,unit:"px",get:function(){return window.innerWidth},watch:function(e){return window.addEventListener("resize",e,!1)}}),height:new c({type:e.$type.Number,unit:"px",get:function(){return window.innerHeight},watch:function(e){return window.addEventListener("resize",e,!1)}}),scrolly:new c({type:e.$type.Number,unit:"px",get:function(){return window.scrollY},watch:function(e){return window.addEventListener("onscroll",e)}}),scrollx:new c({type:e.$type.Number,unit:"px",get:function(){return window.scrollX},watch:function(e){return window.addEventListener("onscroll",e)}}),mousey:new c({type:e.$type.Number,unit:"px",get:function(){return window.mouseY||0},watch:function(e){return window.addEventListener("mousemove",function(n){return window.mouseY=n.pageY,e()})}}),mousex:new c({type:e.$type.Number,unit:"px",get:function(){return window.mouseX||0},watch:function(e){return window.addEventListener("mousemove",function(n){return window.mouseX=n.pageX,e()})}})}}();
