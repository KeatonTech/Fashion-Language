var wait;window.fashion={mimeType:"text/x-fashion",fileHeader:"// Generated with Fashion - http://keaton.ws/fashion\n",variableObject:"style",cssId:"FASHION-dynblock-"},wait=function(e,n){return setTimeout(n,e)},document.onreadystatechange=function(){var e;return"complete"===document.readyState?(e=0,window.fashion.$loader.loadScriptsFromTags(function(n){var t,i;return i=(new Date).getTime(),t=window.fashion.$parser.parse(n),window.fashion.$actualizer.actualizeFullSheet(t,e++),console.log("[FASHION] Compile finished in "+((new Date).getTime()-i)+"ms")})):void 0},window.fashion.$dom={addElementToHead:function(e){var n;return n=document.head||document.getElementsByTagName("head")[0],n.appendChild(e)},makeStylesheet:function(e,n,t){var i;return i=document.createElement("style"),i.setAttribute("type","text/css"),i.setAttribute("class",e),i.setAttribute("data-count","0"),i.setAttribute("data-index",n),t&&i.setAttribute("id",""+window.fashion.cssId+n),i},makeScriptTag:function(e){var n;return n=document.createElement("script"),n.text=e,n},incrementSheetIndex:function(e){var n;return n=parseInt(e.getAttribute("data-count")),e.setAttribute("data-count",n+1),n},getSheetIndex:function(e){return parseInt(e.getAttribute("data-index"))}},window.fashion.$type={Number:0,String:1,Color:2,C2Number:50,C4Number:51,CBorder:52,CShadow:53,KDisplay:100,KCenter:101,KListStyle:102,KLineStyle:103,KInset:104,Unknown:255},window.fashion.$unit={Number:{"":!1," ":!1,px:"px",pt:"pt","%":"%",em:"em",ex:"ex",cm:"cm",mm:"mm","in":"in",pt:"pt",pc:"pc",ch:"ch",rem:"rem",vh:"vh",vw:"vw",vmin:"vmin",vmax:"vmax",ms:"ms",s:"s"},Color:{Const:0,Hex:1,RGB:2,RGBA:3,HSB:4,HSBA:5,HSL:6,HSLA:7}},window.fashion.$typeConstants={colors:["aqua","black","blue","fuchsia","gray","green","lime","maroon","navy","olive","purple","red","silver","teal","white","yellow"]},window.fashion.$loader={loadStyleTags:function(e){var n,t,i,r,a,o;for(t=document.getElementsByTagName("style"),o=[],n=r=0,a=t.length;a>=0?a>r:r>a;n=a>=0?++r:--r)i=t[n].getAttribute("type"),i===window.fashion.mimeType&&o.push(""!==t[n].textContent?e(t[n].textContent):void 0);return o},loadScriptsFromTags:function(e){return window.fashion.$loader.loadStyleTags(e)}},window.fashion.$parser={parse:function(e){var n,t,i,r,a,o,s;r=window.fashion.$parser.parseSections(e),o=r.variables;for(t in o)a=o[t],r.variables[t]=window.fashion.$parser.parseVariable(a);s=r.selectors;for(t in s)n=s[t],i=window.fashion.$parser.parseSelectorBody(n,r.variables),r.selectors[t]=i,window.fashion.$parser.backlinkDependencies(t,i,r.variables);return r}},window.fashion.$parser.parseSections=function(e){var n,t,i,r,a,o,s,u,l,d;for(u={},o={},n=[],i=/([\s]*(\$([\w\-]+?)\:[\s]*(.*?)\;|\@([\w\-]+?)[\s]*(.*?)[\s]*\{|(.*?)[\s]*?\{)|\{|\})/g;(a=i.exec(e))&&!(a.length<8)&&a[0];)if(a[3]&&a[4])u[a[3]]={raw:a[4]};else if(a[5]&&a[6])s=a.index+a[0].length,n.push({type:a[5],arguments:a[7],body:window.fashion.$parser.parseBlock(e,i,s)});else if(a[7])for(t=window.fashion.$parser.parseSelector(e,a[7],i,a.index+a[0].length),l=0,d=t.length;d>l;l++)r=t[l],o[r.name]?o[r.name]+=r.value:o[r.name]=r.value;else console.log("There's a problem somewhere in your file. Sorry.");return{variables:u,selectors:o,blocks:n}},window.fashion.$parser.parseSelector=function(e,n,t,i){var r,a,o,s,u,l,d,f,w;for(u=[{name:n,value:""}],r=1,s=[],s=[],s.push(n);r>0&&(a=t.exec(e));){for(l=s[s.length-1],f=0,w=u.length;w>f;f++)if(o=u[f],o.name===l){d=o;break}d.value+=e.substring(i,a.index),i=a.index+a[0].length,"}"===a[0]?(s.pop(),r--):a[7]&&(n=void 0,n="&"===a[7][0]?l+a[7].substr(1):l+" "+a[7],s.push(n),u.push({name:n,value:""}),r++)}return u},window.fashion.$parser.parseBlock=function(e,n,t){var i,r,a;for(i=1,r=t;i>0&&(a=n.exec(e));)r=a.index+a[0].length,"}"===a[0]?i--:"{"===a[0]?i++:a[5]?i++:a[7]&&i++;return e.substring(t,r)},window.fashion.$parser.parseVariable=function(e){var n,t,i;return(i=e.raw||e.value)?(n=e.type=window.fashion.$run.determineType(i,window.fashion.$type,window.fashion.$typeConstants),t=window.fashion.$run.getUnit(i,n,window.fashion.$type,window.fashion.$unit),e.value=t.value,e.unit=t.unit,e.dependants={},e):{}},window.fashion.$parser.backlinkDependencies=function(e,n,t){var i,r,a,o,s,u,l;a=function(n,i){var r,a,o,s,u;for(u=[],o=0,s=n.length;s>o;o++)a=n[o],"$"===a[0]&&(a=a.substr(1)),r=t[a],void 0!==r&&(r.dependants[e]||(r.dependants[e]=[]),u.push(r.dependants[e].push(i)));return u},l=[];for(i in n)o=n[i],o.dependencies&&a(o.dependencies,i),l.push(o.transition?function(){var e,n;e=o.transition,n=[];for(s in e)u=e[s],r="transition."+i,n.push(u.dependencies?a(u.dependencies,r):void 0);return n}():void 0);return l},window.fashion.$parser.parseSelectorBody=function(e,n){var t,i,r,a,o,s,u,l,d;for(i={},a=/[\s]*([\w\-\s]*)\:[\s]*(\[([\w\-\$\@]*)[\s]*([\w\-\$\@]*)[\s]*([\w\-\$\@]*)\]){0,1}[\s]*(.*?)[;}\n]/g;r=a.exec(e);)if(!(r.length<7)){if(o=r[6],-1!==o.indexOf(",")){for(o=o.split(","),s=0,l=o.length;l>s;s++)t=o[s],t=t.trim();for(u=0,d=o.length;d>u;u++)t=o[u],t=window.fashion.$parser.parsePropertyValue(t,n)}else o=window.fashion.$parser.parsePropertyValue(o,n);r[3]&&("object"!=typeof o&&(o={value:o}),o.transition={easing:window.fashion.$parser.parsePropertyValue(r[3],n,!1),duration:window.fashion.$parser.parsePropertyValue(r[4],n,!1),delay:window.fashion.$parser.parsePropertyValue(r[5],n,!1)}),i[r[1]]=o}return i},window.fashion.$parser.parsePropertyValue=function(e,n,t){var i,r,a;return null==t&&(t=!0),r={dynamic:!1},i=!1,-1!==e.indexOf("$")&&(a=r.dependencies=e.match(/(\$([\w\-\$]*)|\@([\w\-\$]*))/g),r.dynamic=!0,i=a.length>0,1===a.length&&a[0]===e)?(r.link=a[0],r):t&&e.match(/[\+\-\/\*\(\)]/g)?window.fashion.$parser.parseExpression(e,n,window.fashion.$functions):i?(r.link=a[0],r):e},window.fashion.$parser.spliceString=function(e,n,t,i){return e.substr(0,n)+i+e.substr(n+t)},window.fashion.$parser.parseExpression=function(e,n,t){var i,r,a,o,s,u,l,d,f,w,c,h,p,m,v,g,S,$,y,b;for(c=window.fashion.$parser.spliceString,h=e,i=[],s=[],g=void 0,l=/(\$([\w\-]+)|\@([\w\-]+)|([\-]{0,1}([\.]{0,1}\d+|\d+(\.\d*)?)[a-zA-Z]{1,4})|([\w\-]*)\(|\))/g,r=0,p=0,m=[];f=l.exec(e);)w=f.index+p,f[2]?($=n[f[2]],$?(i.push(f[2]),0===r&&m.push([$.type,$.unit]),p+=("v."+f[2]+".value").length-f[0].length,h=c(h,w,f[0].length,"v."+f[2]+".value")):console.log("[FASHION] Variable $"+f[2]+" does not exist.")):f[4]?(u=window.fashion.$type.Number,S=window.fashion.$run.getUnit(f[4],u,window.fashion.$type,window.fashion.$unit),0/0===S.value&&(S.value=0),0===r&&m.push([u,S.unit]),p+=S.value.toString().length-f[0].length,h=c(h,w,f[0].length,S.value.toString())):f[6]?(r++,o=t[f[6]],o?(s.push(f[6]),1===r&&m.push([o.output,!1]),p+=("f."+f[6]+"(").length-f[0].length,h=c(h,w,f[0].length,"f."+f[6]+"(")):console.log("[FASHION] Function '"+f[6]+"' does not exist.")):")"===f[0]&&r--;for(y=0,b=m.length;b>y;y++)if(v=m[y],v[1])if(g){if(g!==v[1])return console.log("[FASHION] Conflicting units '"+g+"' and '"+v[1]+"'"),console.log("[FASHION] Unit conversion will be implemented in the future"),""}else g=v[1];return d="return ("+h+") + '"+(g||"")+"'",a=Function("v","f",d),{dependencies:i,functions:s,dynamic:i.length>0,evaluate:a,script:d}},window.fashion.$run={throwError:function(e){return console.log("[FASHION] "+e)},initializeSelector:function(e){var n,t,i,r,a;null==e&&(e=FASHION.selectors),a=[];for(r in e)i=e[r],a.push(function(){var e;e=[];for(n in i)t=i[n],e.push("object"==typeof t&&t.script?t.evaluate=Function("v","f",t.script):void 0);return e}());return a},updateVariable:function(e,n,t,i){var r,a,o,s,u,l;if(null==t&&(t=FASHION.variables),null==i&&(i=FASHION.type),s=t[e],!s)return this.throwError("Variable '$"+e+"' does not exist");if(this.determineType(n)!==s.type)return this.throwError("Cannot change type of '$"+e+"'");s.raw=n,o=this.getUnit(n,s.type,i),o.unit&&o.unit!==s.unit&&(s.unit=o.unit),s.value=o.value?o.value:s.raw,u=s.dependants,l=[];for(a in u)r=u[a],l.push(this.updateSelector(a));return l},updateSelector:function(e,n,t,i){var r,a,o;return n||(n=FASHION.variables),t||(t=FASHION.selectors),i||(i=FASHION.cssMap),(o=t[e])?(a=i[e])?(r=document.getElementById(""+FASHION.config.cssId+a[0]),r.sheet.deleteRule(a[1]),r.sheet.insertRule(this.regenerateSelector(e,o),a[1])):this.throwError("Could not find selector '"+e+"' in CSS"):this.throwError("Could not find selector '"+e+"'")},regenerateSelector:function(e,n,t){var i,r,a,o;null==t&&(t=FASHION.variables),i=""+e+" {";for(r in n)o=n[r],o.dynamic===!0&&(a=this.evaluate(o,void 0,t),i+=""+r+": "+a+";");return i+"}"}},window.fashion.$run.getVariable=function(e,n,t){var i;return null==t&&(t=FASHION.type),e[n]?(i=e[n],i.type===t.Number?i.value+(i.unit||""):i.value):""},window.fashion.$run.evaluate=function(e,n,t,i,r){var a,o,s;return t||(t=FASHION.variables),i||(i=FASHION.type),r||(r=window.fashion.$functions),a=function(e){var n;if("string"==typeof e)return e;if("number"==typeof e)return e;if(e.link&&e.link.length>1){if("$"===e.link[0])return n=e.link.substr(1),window.fashion.$run.getVariable(t,n,i);if("@"===e.link[0])return console.log("Global variables are not yet supported")}else if(e.evaluate)return e.evaluate(t,r)},"array"==typeof e?(o=function(){var n,t,i;for(i=[],n=0,t=e.length;t>n;n++)s=e[n],i.push(a(e));return i}(),o.join(" ")):a(e)},window.fashion.$run.defineProperties=function(e,n){var t,i,r,a,o;null==e&&(e=FASHION.variables),null==n&&(n=FASHION.config.variableObject),t=void 0,t=n?window[n]={}:window,o=[];for(r in e)a=e[r],i={get:function(e){return function(){return e.value}}(a),set:function(e){return function(n){return function(t){return e.updateVariable(n,t)}}}(this)(r,a)},Object.defineProperty(t,r,i),o.push(Object.defineProperty(t,"$"+r,i));return o};var __indexOf=[].indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(n in this&&this[n]===e)return n;return-1};window.fashion.$run.determineType=function(e,n,t){var i,r,a,o;return null==n&&(n=FASHION.type),null==t&&(t=FASHION.constants),"number"==typeof e?n.Number:(o=function(e){return'"'===e[0]||"'"===e[0]?n.String:e.charCodeAt(0)>47&&e.charCodeAt(0)<58||"-"===e[0]||"."===e[0]?n.Number:"#"===e[0]||0===e.toLowerCase().indexOf("rgb")?n.Color:a(e)||window.fashion.$type.Unknown},a=function(e){return __indexOf.call(t.colors,e)>=0?n.Color:void 0},i={C2Number:[0,0],C4Number:[0,0,0,0],CBorder:[[0,103,2],[104,0,103,2]]},r=function(){},-1===e.indexOf(" ")?o(e):r(e))},window.fashion.$run.getUnit=function(e,n,t,i){var r,a;return null==t&&(t=FASHION.type),null==i&&(i=FASHION.unit),"number"==typeof e?{value:parseFloat(e),unit:!1}:(a=function(){var n,t,r;return t=/([0-9\-\.]*)(.*?)/,n=t.exec(e),n.length<2?{value:parseFloat(e),unit:!1}:(r=e.replace(n[1],""),i=i.Number[r],i?{value:parseFloat(n[1]),unit:i}:{value:parseFloat(n[1]),unit:!1})},r=function(){return"#"===e[0]?{value:e,unit:i.Color.Hex}:0===e.toLowerCase().indexOf("rgba")?{value:e,unit:i.Color.RGBA}:0===e.toLowerCase().indexOf("rgb")?{value:e,unit:i.Color.RGB}:{value:e,unit:i.Color.Const}},n===t.Number?a():n===t.Color?r():(n===t.String&&("'"===e[0]||'"'===e[0])&&(e=e.substring(1,e.length-1)),{value:e,unit:void 0}))},window.fashion.$actualizer={actualizeFullSheet:function(e,n){var t;return t=window.fashion.$actualizer.makeDomStyleFromTree(e,n),window.fashion.$actualizer.addScriptFromTree(e,t),!0}},window.fashion.$actualizer.makeDomStyleFromTree=function(e,n){var t,i,r,a,o,s,u,l,d;i=window.fashion.$dom.makeStylesheet("fashionDynamic",n,!0),u=window.fashion.$dom.makeStylesheet("fashionStatic",n,!1),window.fashion.$dom.addElementToHead(i),window.fashion.$dom.addElementToHead(u),o=window.fashion.$actualizer.generateStyleProperties(e.selectors,e.variables),console.table(o["static"]),console.table(o.dynamic),s={},l=o["static"];for(r in l)a=l[r],s[a.name]=[n,parseInt(r)],window.fashion.$actualizer.addCSSRule(a.value,u);t={},d=o.dynamic;for(r in d)a=d[r],t[a.name]=[n,parseInt(r)],window.fashion.$actualizer.addCSSRule(a.value,i);return wait(1,function(){return window.fashion.$actualizer.subInFinalRules(o.final,s,t,u,i)}),t},window.fashion.$actualizer.generateStyleProperties=function(e,n){var t,i,r,a,o,s,u,l,d,f,w,c,h,p,m,v;l=[],u=[],h=[],c=[];for(d in e){o=e[d],t=f=""+d+" {",p=[],a=i=r=!1;for(s in o)v=o[s],m=window.fashion.$run.evaluate(v,void 0,n,window.fashion.$type),"object"==typeof v&&v.transition&&(a=!0,p[s]=v.transition),v.dynamic===!0?(t+=""+s+": "+m+";",i=!0):(f+=""+s+": "+m+";",r=!0);w=window.fashion.$actualizer.addTransitions(p),w["static"]&&h.push({name:d,value:f+w["static"]+"}"}),w.dynamic&&c.push({name:d,value:t+w.dynamic+"}"}),r&&l.push({name:d,value:f+"}"}),i&&u.push({name:d,value:t+"}"})}return{"static":l,dynamic:u,"final":{"static":h,dynamic:c}}},window.fashion.$actualizer.addTransitions=function(e){var n,t,i,r,a,o,s,u;s=o="transition: ",t=n=!1;for(r in e)a=e[r],i=a.easing&&"object"==typeof a.easing&&a.easing.dynamic,i&=a.duration&&"object"==typeof a.duration&&a.duration.dynamic,i&=a.delay&&"object"==typeof a.delay&&a.delay.dynamic,u=""+r+" "+(a.duration||"1s")+" "+(a.easing||"")+" "+(a.delay||"")+",",i?o+=u:s+=u,i?n=!0:t=!0;return s=s.substr(0,s.length-1)+";",o=o.substr(0,o.length-1)+";",s=[s,"-webkit-"+s,"-moz-"+s,"-ms-"+s].join(""),o=[o,"-webkit-"+o,"-moz-"+o,"-ms-"+o].join(""),{"static":t?s:!1,dynamic:n?o:!1}},window.fashion.$actualizer.subInFinalRules=function(e,n,t,i,r){var a,o,s,u,l,d,f,w,c;for(f=e["static"],s=0,l=f.length;l>s;s++)o=f[s],a=n[o.name][1],window.fashion.$actualizer.subCSSRule(o.value,i,a);for(w=e.dynamic,c=[],u=0,d=w.length;d>u;u++)o=w[u],a=t[o.name][1],c.push(window.fashion.$actualizer.subCSSRule(o.value,r,a));return c},window.fashion.$actualizer.addCSSRule=function(e,n){var t;return t=window.fashion.$dom.incrementSheetIndex(n),n.sheet.insertRule(e,t),t},window.fashion.$actualizer.subCSSRule=function(e,n,t){return n.sheet.deleteRule(t),n.sheet.insertRule(e,t)},window.fashion.$actualizer.addScriptFromTree=function(e,n){var t,i;return i=window.fashion.$actualizer.createScriptFromTree(e,n),t=window.fashion.$dom.makeScriptTag(i),window.fashion.$dom.addElementToHead(t),t},window.fashion.$actualizer.createScriptFromTree=function(e,n){var t;return t=window.fashion.$blueprint.initialize(e,n),t+=window.fashion.$blueprint.basicRuntime()+"\n",t+=window.fashion.$blueprint.startRuntime()},window.fashion.$blueprint={initialize:function(e,n){return""+window.fashion.fileHeader+"\nw = window;\nw.FASHION = {\n	variables: "+JSON.stringify(e.variables)+",\n	selectors:  "+JSON.stringify(e.selectors)+",\n	cssMap: "+JSON.stringify(n)+",\n	type: "+JSON.stringify(window.fashion.$type)+",\n	unit: "+JSON.stringify(window.fashion.$unit)+",\n	constants: "+JSON.stringify(window.fashion.$typeConstants)+",\n	config: {\n		variableObject: '"+window.fashion.variableObject+"',\n		cssId: '"+window.fashion.cssId+"'\n	}\n};\n"},basicRuntime:function(){return"var __indexOf = [].indexOf;\nw.FASHION.runtime = {\n	throwError: "+window.fashion.$run.throwError.toString()+",\n	initializeSelector: "+window.fashion.$run.initializeSelector.toString()+",\n	updateVariable: "+window.fashion.$run.updateVariable.toString()+",\n	getVariable: "+window.fashion.$run.getVariable.toString()+",\n	evaluate: "+window.fashion.$run.evaluate.toString()+",\n	determineType: "+window.fashion.$run.determineType.toString()+",\n	getUnit: "+window.fashion.$run.getUnit.toString()+",\n	defineProperties: "+window.fashion.$run.defineProperties.toString()+",\n	updateSelector: "+window.fashion.$run.updateSelector.toString()+",\n	regenerateSelector: "+window.fashion.$run.regenerateSelector.toString()+"\n}"},startRuntime:function(){return"w.FASHION.runtime.initializeSelector()\nw.FASHION.runtime.defineProperties.call(w.FASHION.runtime)"}},window.fashion.$functions={round:{output:window.fashion.$type.Number,evaluate:function(e){return Math.round(e.value)}}};
