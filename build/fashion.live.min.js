/*
FASHION: Style + Smarts ------------------------------------------------------
Copyright (c) 2014 Keaton Brandt
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
------------------------------------------------------------------------------
 */
!function(){var e,t;e=window.fashion={version:"0.3.1",url:"http://writefashion.org",author:"Keaton Brandt",mimeType:"text/x-fashion",cssId:"FASHION-stylesheet",minifiedObject:"FSMIN",runtimeObject:"FASHION",runtimeModules:[],readyEvent:"fashion-ready"},window.fashion.runtimeConfig={variableObject:"style",idPrefix:"FS-",individualCSSID:"FASHION-individual",cssId:window.fashion.cssId},t=function(e,t){return setTimeout(t,e)},window.fashion.addProperty=function(e,t,n){return null==n&&(n=!1),t instanceof w||(t=new w(t)),!n&&window.fashion.$properties[e]?new Error("There is already a property named "+e):window.fashion.$properties[e]=t},window.fashion.addProperties=function(e,t){var n,i,r,o,a;for(null==t&&(t=!1),a=[],i=r=0,o=e.length;o>r;i=++r)n=e[i],a.push(window.fashion.addProperty(n,i,t));return a},window.fashion.addFunction=function(e,t,n){return null==n&&(n=!1),t instanceof f||(t=new f(t)),!n&&window.fashion.$functions[e]?new Error("There is already a function named "+e):window.fashion.$functions[e]=t},window.fashion.addFunctions=function(e,t){var n,i,r,o,a;for(null==t&&(t=!1),a=[],i=r=0,o=e.length;o>r;i=++r)n=e[i],a.push(window.fashion.addFunction(n,i,t));return a},window.fashion.addGlobal=function(e,t,n){return null==n&&(n=!1),t instanceof h||(t=new h(t)),!n&&window.fashion.$globals[e]?new Error("There is already a global named "+e):window.fashion.$globals[e]=t},window.fashion.addGlobals=function(e,t){var n,i,r,o,a;for(null==t&&(t=!1),a=[],i=r=0,o=e.length;o>r;i=++r)n=e[i],a.push(window.fashion.addGlobal(n,i,t));return a},window.fashion.addBlock=function(e,t,n){return null==n&&(n=!1),t instanceof p||(t=new p(t)),!n&&window.fashion.$blocks[e]?new Error("There is already a block named "+e):window.fashion.$blocks[e]=t},window.fashion.addBlocks=function(e,t){var n,i,r,o,a;for(null==t&&(t=!1),a=[],i=r=0,o=e.length;o>r;i=++r)n=e[i],a.push(window.fashion.addBlock(n,i,t));return a};var n;window.fashion.live={loadedEvent:"fashion-loaded"},n=document.currentScript||document.scripts[document.scripts.length-1],document.addEventListener("readystatechange",function(){return"complete"===document.readyState?window.fashion.$loader.loadStyles(function(t){var n,i,r,o,a,s;return a=(new Date).getTime(),o=window.fashion.$parser.parse(t),o=window.fashion.$processor.process(o),s=window.fashion.$actualizer.actualize(o),n=s.css,r=s.js,console.log("[FASHION] Compile finished in "+((new Date).getTime()-a)+"ms"),a=(new Date).getTime(),e.$dom.addStylesheet(n),e.$dom.addScript(r),console.log("[FASHION] Page initialize finished in "+((new Date).getTime()-a)+"ms"),i=new Event(window.fashion.live.loadedEvent),i.variableObject=window[window.fashion.variableObject],document.dispatchEvent(i)}):void 0});var i=[].slice;window.fashion.$extend=function(e,t){var n,i,r;r=[];for(n in t)i=t[n],r.push(e[n]?void 0:e[n]=i);return r},window.fashion.$combine=function(){var e,t,n,r,o;for(t=1<=arguments.length?i.call(arguments,0):[],n={},r=0,o=t.length;o>r;r++)e=t[r],window.fashion.$extend(n,e);return n},window.fashion.$dom={addElementToHead:function(e){var t;return t=document.head||document.getElementsByTagName("head")[0],t.appendChild(e)},addStylesheet:function(t,n){var i,r,o,a;null==n&&(n=window.fashion.cssId),r=document.createElement("style"),r.setAttribute("type","text/css"),r.setAttribute("id",""+n),e.$dom.addElementToHead(r),o=t.split("\n"),a=[];for(n in o)i=o[n],i.length>3&&a.push(r.sheet.insertRule(i,n));return a},addScript:function(t){var n;return n=document.createElement("script"),n.setAttribute("type","text/javascript"),n.text=t,e.$dom.addElementToHead(n)},incrementSheetIndex:function(e){var t;return t=parseInt(e.getAttribute("data-count")),e.setAttribute("data-count",t+1),t},getSheetIndex:function(e){return parseInt(e.getAttribute("data-index"))}},window.fashion.$stringify=function(e){if(e instanceof Array)return window.fashion.$stringifyArray(e);switch(typeof e){case"string":return JSON.stringify(e);case"object":return window.fashion.$stringifyObject(e);case"number":return e;case"undefined":return"undefined";default:return e.toString()}},window.fashion.$stringifyObject=function(e){var t,n,i;t=[];for(n in e)i=e[n],e.hasOwnProperty(n)&&(n=n.replace("'","'"),t.push("'"+n+"': "+window.fashion.$stringify(i)));return"{"+t.join(",")+"}"},window.fashion.$stringifyArray=function(e){var t,n,i,r;for(t=[],i=0,r=e.length;r>i;i++)n=e[i],t.push(window.fashion.$stringify(n));return"["+t.join(",")+"]"};var r;r=function(){function e(e){var t,n,i;if(this.variables={},this.selectors=[],this.blocks=[],this.scripts=[],this.dependencies={blocks:{},globals:{},functions:{},properties:{}},e){i=e.variables;for(t in i)n=i[t],this.variables[t]=n}}return e.prototype.addVariable=function(e){var t,n;if(n=e.name,delete e.name,t=e.scope||0,delete e.scope,!n)throw new Error("Variables must be named");return this.variables[n]||(this.variables[n]={}),this.variables[n][t]=e},e.prototype.addSelector=function(e){return e.index=this.selectors.length,this.selectors.push(e)},e.prototype.addScript=function(e){return this.scripts.push(e)},e.prototype.addBlock=function(e){return this.blocks.push(e)},e.prototype.addBlockDependency=function(e,t){return this.dependencies.blocks[e]=t},e.prototype.addGlobalDependency=function(e,t){return this.dependencies.globals[e]=t},e.prototype.addFunctionDependency=function(e,t){return this.dependencies.functions[e]=t},e.prototype.addPropertyDependency=function(e,t){return this.dependencies.properties[e]=t},e.prototype.forEachVariable=function(e){var t,n,i,r,o;o=this.variables;for(t in o){i=o[t];for(n in i)if(r=i[n],e.call(r,r,n)===!1)return}},e.prototype.forEachMatchingSelector=function(e,t){var n,i,r,o;for(o=this.selectors,i=0,r=o.length;r>i;i++)if(n=o[i],n.name===e&&t.call(this,n)===!1)return},e}(),window.fashion.$class||(window.fashion.$class={}),window.fashion.$class.ParseTree=r;var o;o=function(){function t(t,n,i){null==i&&(i=0),"$"===t[0]&&(t=t.substr(1)),this.name=t,this.mode=e.$runtimeMode.dynamic,this.raw=this.value=n,this.scope=i,this.topLevel=0===i}return t.prototype.annotateWithType=function(e,t,n){return this.type=e,this.unit=t,n?this.value=n:void 0},t}(),window.fashion.$class.Variable=o;var a;a=function(){function t(t,n){this.rawName=this.name=t,this.properties=[],this.index=-1,this.mode=n?n:t instanceof l?e.$runtimeMode.dynamic:e.$runtimeMode["static"]}return t.prototype.addToBody=function(e){return this.body||(this.body=""),this.body+=e},t.prototype.addProperty=function(e){return this.body=void 0,e.id||(e.id=this.properties.length),this.properties.push(e)},t.prototype.insertProperty=function(e,t){return this.body=void 0,e.id||(e.id=this.properties.length),this.properties.splice(t,0,e)},t.prototype.deleteProperty=function(e){return this.properties.splice(e,1)},t.prototype.forEachPropertyNamed=function(e,t){var n,i,r,o;for(o=this.properties,i=0,r=o.length;r>i;i++)if(n=o[i],n.name===e&&t.call(this,n)===!1)return},t}(),window.fashion.$class.Selector=a;var s,u;s=function(){function t(t,n,i,r){null==i&&(i=e.$runtimeMode["static"]),this.name=t,this.mode=i,this.important=!1,r?"object"!=typeof n?this.value={value:n,transition:r}:(this.value=n,this.value.transition=r):this.value=n}return t.prototype.copyWithName=function(e){return new t(e,this.value,this.mode)},t}(),u=function(){function e(e,t,n){this.easing=e,this.duration=t,this.delay=n}return e}(),window.fashion.$class.Property=s,window.fashion.$class.PropertyTransition=u;var l,d,c=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};l=function(){function e(e,t,n,i,r){this.script=e.toString(),this.setter=-1!==this.script.indexOf("="),this.mode=r,this.type=t,this.unit=n,this.bindings=i||new d}return e.prototype.generate=function(){var e;try{return this.evaluate=Function("v","g","f","t","e",this.script)}catch(t){return e=t,console.log("[FASHION] Could not compile script '"+this.script+"'"),console.log(e)}},e}(),d=function(){function e(e,t){switch(this.variables=[],this.globals=[],this.dom=[],e){case"variable":this.addVariableBinding(t);break;case"global":this.addGlobalBinding(t);break;case"dom":console.log("[FASHION] DOM Bindings not yet supported")}}return e.prototype.addVariableBinding=function(e){return c.call(this.variables,e)>=0?void 0:this.variables.push(e)},e.prototype.addGlobalBinding=function(e){return c.call(this.globals,e)>=0?void 0:this.globals.push(e)},e.prototype.addDOMBinding=function(){return console.log("[FASHION] DOM Bindings not yet supported")},e.prototype.extend=function(e){var t,n,i,r,o,a,s,u,l,d,p,f;if(null!=e&&null!=e.variables){for(t=function(e,t){return c.call(e,t)>=0?void 0:e.push(t)},l=e.variables,i=0,a=l.length;a>i;i++)n=l[i],t(this.variables,n);for(d=e.globals,r=0,s=d.length;s>r;r++)n=d[r],t(this.globals,n);for(p=e.dom,f=[],o=0,u=p.length;u>o;o++)n=p[o],f.push(t(this.dom,n));return f}},e}(),window.fashion.$class.Expression=l,window.fashion.$class.ExpressionBindings=d;var p,f,h,m,w,v,g={}.hasOwnProperty,b=function(e,t){function n(){this.constructor=e}for(var i in t)g.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};m=function(){function t(t){this.mode=t.mode||t.runtimeMode||e.$runtimeMode["static"],this.runtimeCapabilities=t.runtimeCapabilities||t.capabilities,t.watcherFunction&&(!(this.mode|e.$runtimeMode.dynamic)||this.mode|e.$runtimeMode.live?console.log("[FASHION] Static/live modules cannot have watcher functions."):this.watch=t.watcherFunction)}return t}(),v=function(t){function n(t){this.type=t.type||t.output||t.outputType||e.$type.String,this.unit=t.unit||"",this.get=t.get||t.evaluate,n.__super__.constructor.call(this,t)}return b(n,t),n}(m),h=function(t){function n(t){this.watch=t.watch,t.mode||(t.mode=e.$runtimeMode.globalDynamic),n.__super__.constructor.call(this,t)}return b(n,t),n}(v),f=function(e){function t(e){void 0!==e.unitFrom&&(this.unitFrom=e.unitFrom,delete e.unit),t.__super__.constructor.call(this,e)}return b(t,e),t}(v),p=function(e){function t(e){"function"==typeof e?this.compile=e:(this.compile=e.compileFunction||e.compile,this.runtimeObject=e.runtimeObject||e.runtime,this.runtimeCapabilities=e.runtimeCapabilities||e.capabilities)}return b(t,e),t}(m),w=function(t){function n(t){"function"==typeof t?this.compile=t:(this.compile=t.compileFunction||t.compile,this.apply=t.applyFunction||t.apply,this.apply&&(t.mode|=e.$runtimeMode.individual),this.replace=t.replace||!1,this.runtimeObject=t.runtimeObject||t.runtime,this.mode=t.mode||0,this.runtimeCapabilities=t.runtimeCapabilities||t.capabilities)}return b(n,t),n}(m),window.fashion.$class||(window.fashion.$class={}),window.fashion.$class.GlobalModule=h,window.fashion.$class.FunctionModule=f,window.fashion.$class.BlockModule=p,window.fashion.$class.PropertyModule=w,window.fashion.$type={None:0,Number:1,String:2,Color:3,Element:4,KGeneric:100,KDisplay:101,KCenter:102,KListStyle:103,KLineStyle:104,KInset:105,Unknown:255},window.fashion.$unit={Number:{"":!1," ":!1,px:"px",pt:"pt","%":"%",em:"em",ex:"ex",cm:"cm",mm:"mm","in":"in",pt:"pt",pc:"pc",ch:"ch",rem:"rem",vh:"vh",vw:"vw",vmin:"vmin",vmax:"vmax",ms:"ms",s:"s"}},window.fashion.$typeConstants={colors:["aqua","black","blue","fuchsia","gray","green","lime","maroon","navy","olive","purple","red","silver","teal","white","yellow"]},window.fashion.$runtimeMode={"static":0,dynamic:1,scoped:3,globalDynamic:17,individual:7,live:9,triggered:32,generate:function(e,t,n,i,r){return(e?1:0)|(t?7:0)|(n?9:0)|(i?3:0)|(r?17:0)}},window.fashion.$loader={loadStyles:function(t){var n,i,r;return i=e.$loader.countScripts(),r=0,n="",e.$loader.loadIndividualStyles(function(e){return n+=e,++r===i?t(n):void 0})},loadIndividualStyles:function(e){return window.fashion.$loader.loadStyleTags(e)},loadStyleTags:function(t){var n,i,r,o,a,s,u;for(i=document.getElementsByTagName("style"),u=[],n=a=0,s=i.length;s>=0?s>a:a>s;n=s>=0?++a:--a)r=i[n].getAttribute("type"),r===window.fashion.mimeType&&(""!==i[n].textContent?u.push(t(i[n].textContent)):""!==i[n].getAttribute("src")?(o=i[n].getAttribute("src"),u.push(e.$loader.loadExternalScript(o,t))):u.push(void 0));return u},countScripts:function(){var e,t,n,i,r,o,a,s,u;for(e=0,i=document.getElementsByTagName("style"),t=o=0,s=i.length;s>=0?s>o:o>s;t=s>=0?++o:--o)r=i[t].getAttribute("type"),r===window.fashion.mimeType&&e++;for(n=document.getElementsByTagName("link"),t=a=0,u=n.length;u>=0?u>a:a>u;t=u>=0?++a:--a)r=n[t].getAttribute("type"),r===window.fashion.mimeType&&e++;return e},loadExternalScript:function(e,t){var n;return n=new XMLHttpRequest,n.onreadystatechange=function(){return 4===n.readyState&&200===n.status?t(n.responseText):n.status>400?console.log("[FASHION] Could not load script: "+e+" ("+n.status+")"):void 0},n.open("GET",e,!0),n.send()}},window.fashion.$parser={parse:function(t,n){var i,o,a,s;o=new r(n),t=e.$parser.removeComments(t),o=e.$parser.parseSections(t,o),s=o.selectors;for(i in s)a=s[i],e.$parser.parseSelectorBody(a.body,a,o);return o}},window.fashion.$parser.removeComments=function(e){return e.replace(/\/\*[\s\S]*?\*\/|\/\/.*?\n/g,"")},window.fashion.$parser.splitByTopLevelCommas=function(e){var t,n,i,r,o;for(n=0,t="",r=[],i=/(\(|\)|\,|[^\(\)\,]+)/g;o=i.exec(e);)","!==o[0]||0!==n?("("===o[0]&&n++,")"===o[0]&&n--,t+=o[0]):(r.push(t),t="");return r.push(t),r},window.fashion.$parser.splitByTopLevelSpaces=function(e){var t,n,i,r,o,a,s,u;for(i=0,s=r=n=!1,t="",a=[],o=/([^\(\)\"\'\`\s]*\(|\)|\"|\'|\`|([^\`\s]+(\s+[\+\-\/\*\=]\s+|[\+\-\/\*\=]))+[^\`\s]+|\s+(\&\&|\|\|)\s+|\s|[^\(\)\"\'\`\s]+)/g;u=o.exec(e);)" "!==u[0]||0!==i||s||r||n?("("===u[0][u[0].length-1]&&i++,")"===u[0]&&i--,"'"!==u[0]||r||n||(s=!s),'"'!==u[0]||s||n||(r=!r),"`"!==u[0]||r||s||(n=!n),t+=u[0]):(a.push(t),t="");return a.push(t),a},window.fashion.$parser.parseSections=function(t,n){var i,r,o,a;for(r=/([\s]*(\$([\w\-]+)\:[\s]*(.*?)\s*(![A-z0-9\-]+?)?[;\n]|\@([\w\-]+)[\s]*(.*?)[\s]*\{|(.*?)[\s]*?\{)|\{|\})/g;(o=r.exec(t))&&!(o.length<8)&&o[0];)o[3]&&o[4]?e.$parser.addVariable(n,o[3],o[4],o[5]):o[6]?(a=o.index+o[0].length,i=o[7]?e.$parser.splitByTopLevelSpaces(o[7]):[],n.addBlock({type:o[6],arguments:i,body:window.fashion.$parser.parseBlock(t,r,a)}),n.addBlockDependency(o[6],e.$blocks[o[6]])):o[8]?window.fashion.$parser.parseSelector(n,t,o[8],r,o.index+o[0].length):console.log("[FASHION] Problem around '"+o[0]+"';");return n},window.fashion.$parser.parseSelector=function(t,n,i,r,o){var a,s,u,l,d;for(l=[e.$parser.createSelector(t,i)],a=1,u=[0];a>0&&(s=r.exec(n));)d=l[u[u.length-1]],d.addToBody(n.substring(o,s.index)),o=s.index+s[0].length,"}"===s[0]?(u.pop(),a--):s[3]&&s[4]?d.addToBody(n.substring(s.index,o)):s[8]&&(i=e.$parser.nestSelector(d.rawName,s[8]),l.push(e.$parser.createSelector(t,i)),u.push(l.length-1),a++);return l},window.fashion.$parser.nestSelector=function(e,t){var n,i,r,o,a,s,u,l,d;if(n=[],!e)return t;if(!t)return e;for(l=e.split(","),o=0,s=l.length;s>o;o++)for(r=l[o],r=r.trim(),d=t.split(","),a=0,u=d.length;u>a;a++)i=d[a],i=i.trim(),n.push("&"===i[0]?r+i.substr(1):r+" "+i);return n.join(",")},window.fashion.$parser.createSelector=function(t,n){var i,r,o,s,u,c,p,f,h,m;if(f=new a(n),t.addSelector(f),-1===n.indexOf("$"))return f;for(p="return ",u=0,i=new d,c=/\$([\w\-]+)/g;s=c.exec(n);)s.index>u&&(p+="'"+n.substring(u,s.index)+"'+"),u=s.index+s[0].length,o=e.$parser.expressionExpander.localVariable,m=o(s[1],t),i.extend(m.bindings),p+=m.script+"+";return n.length>u&&(p+="'"+n.substr(u)+"'+"),h=p.substr(0,p.length-1),r=f.mode=e.$runtimeMode.dynamic,f.name=new l(h,e.$type.String,0,i,r),f.name.generate(),f},window.fashion.$parser.parseBlock=function(e,t,n){var i,r,o;for(i=1,r=n;i>0&&(o=t.exec(e));)r=o.index+o[0].length,"}"===o[0]?i--:"{"===o[0]?i++:o[6]?i++:o[8]&&i++;return e.substring(n,r-1).trim()},window.fashion.$parser.parseSelectorBody=function(t,n,i){var r,o,a,l,d,c,p,f,h,m,w,v,g,b,y,$;for(p=0,f=/[\s]*(\$?[\w\-\s]*)\:[\s]*(\[([\w\-\$\@]*)[\s]*([\w\-\$\@\%]*)[\s]*([\w\-\$\@\%]*)\]){0,1}[\s]*([^;}\n]*?)[\s]*(\![A-z0-9\-]+?)?[;}\n]/g,$=[];c=f.exec(t);)if(h=void 0,!(c.length<7))if(m=e.$parser.parsePropertyValues(c[6],i),l=c[1],"$"!==l[0]){if(c[3]&&(h=new u(e.$parser.parsePropertyValue(c[3],i,!1),e.$parser.parsePropertyValue(c[4],i,!1),e.$parser.parsePropertyValue(c[5],i,!1))),w=0,null!=(null!=m?m.mode:void 0))w=m.mode;else if(m instanceof Array)for(v=0,b=m.length;b>v;v++)if(r=m[v],null!=r){if(r instanceof Array)for(g=0,y=r.length;y>g;g++)o=r[g],null!=(null!=o?o.mode:void 0)&&(w|=o.mode);null!=r.mode&&(w|=r.mode)}a=n.mode|w||0,d=new s(l,m,a,h),"!important"===c[7]&&(d.important=!0),n.addProperty(d),$.push(p++)}else e.$parser.parseScopedVariable(l,m,c,n.name,i);return $},window.fashion.$parser.parseScopedVariable=function(t,n,i,r,o){if("array"==typeof n&&"array"==typeof n[0])throw new Error("Variable declaration '"+t+"' cannot have comma separated values");if(i[3])throw new Error("Variable declaration '"+t+"' cannot have a transition");if(i[7])throw new Error("Variable declaration '"+t+"' cannot be !important");return e.$parser.addVariable(o,t,n,i[7],r)},window.fashion.$parser.parsePropertyValues=function(e,t){var n,i,r,o;if(-1!==e.indexOf(",")){if(o=window.fashion.$parser.splitByTopLevelCommas(e),1===o.length)return window.fashion.$parser.parsePropertyValue(o[0],t);r=[];for(n in o)i=o[n],o[n]=i.trim();for(n in o)i=o[n],r[n]=window.fashion.$parser.parsePropertyValue(i,t,!0,!0);return r}return window.fashion.$parser.parsePropertyValue(e,t)},window.fashion.$parser.parsePropertyValue=function(t,n,i,r){var o,a,s,u,l,d;if(null==i&&(i=!0),null==r&&(r=!1),r||"string"==typeof t&&-1!==t.indexOf(" ")){if(o=e.$parser.splitByTopLevelSpaces(t),!r&&1===o.length)return window.fashion.$parser.parseSingleValue(t,n);for(u=function(){var t,i,r;for(r=[],t=0,i=o.length;i>t;t++)a=o[t],r.push(e.$parser.parseSingleValue(a,n));return r}(),u.mode=0,l=0,d=u.length;d>l;l++)s=u[l],u.mode|=s.mode||0;return u}return window.fashion.$parser.parseSingleValue(t,n)},window.fashion.$parser.identifyExpression=function(){return/(([\s][\+\-\/\*\=][\s])|\s(\&\&|\|\|)\s|[\(\)\[\]]|\@|\$)/g},window.fashion.$parser.parseSingleValue=function(t,n,i){return null==i&&(i=!1),t&&"string"==typeof t&&t.match(e.$parser.identifyExpression())?window.fashion.$parser.parseExpression(t,n,window.fashion.$functions,window.fashion.$globals,!0,i):t},window.fashion.$parser.parseExpression=function(t,n,i,r,o,a){var s,u,c,p,f,h,m,w,v,g,b,y,$,S,x,O,I,F,N,A,E,C,M,T;for(null==o&&(o=!0),null==a&&(a=!1),f=e.$parser.expressionExpander,v=window.fashion.$parser.matchParenthesis,$=t,g=e.$runtimeMode["static"],s=new d,A=[],C=[],m=!1,S=0,y=function(t,n,i){return $=e.$parser.spliceString($,t+S,n,i),S+=i.length-n},b=/(\$([\w\-]+)\s*?\=|\@(self|this|parent)\.?([a-zA-Z0-9\-\_\.]*)|\$([\w\-]+)|\@([\w\-]+)|([\-]{0,1}([\.]\d+|\d+(\.\d+)*)[a-zA-Z]{1,4})|([\w\-\@\$]*)\(|\)([^\s\)]*))/g,O=!1;!O&&(x=b.exec(t));)c=void 0,I=x.index,w=x[0].length,p=I+w,x[2]?(c=f.localVariable(x[2],n,!0),m=!0):x[3]?c=f.relativeObject(x[3],x[4]):x[5]?c=f.localVariable(x[5],n):x[6]?c=f.globalVariable(x[6],r,n):x[7]?c=f.numberWithUnit(x[7]):x[10]&&(M=v(b,t,p),u=M.body,F=M.unit,u||(u=t.substring(p,t.length-1),O=!0),w+=u.length+1,F&&(w+=F.length),c=f["function"](x[10],u,F,n,i,r)),c&&(c.script&&y(I,w,c.script),c.mode&&(g|=c.mode),c.bindings&&s.extend(c.bindings),A.push(void 0===c.type?e.$type.Unknown:c.type),C.push(c.unit||""));return T=e.$parser.determineExpressionType(A,C,t),N=T.type,E=T.unit,m&&(E=void 0),$=e.$parser.wrapExpressionScript($,o,N,E,a),h=new l($,N,E,s,g),o&&h.generate(),h},window.fashion.$parser.wrapExpressionScript=function(e,t,n,i,r){return t?!r&&i&&"string"==typeof i?"return ("+e+") + '"+i+"'":"return "+e:"{value: "+e+", type: "+n+", unit: '"+i+"'}"},window.fashion.$parser.spliceString=function(e,t,n,i){return e.substr(0,t)+i+e.substr(t+n)},window.fashion.$parser.matchParenthesis=function(e,t,n){var i,r,o,a;for(r=0,i="",o=n;a=e.exec(t);)if(-1!==a[0].indexOf("("))r++;else{if(-1!==a[0].indexOf(")")&&0===r--)return i+=t.substr(o,a.index-o),{body:i,unit:a[11]};i+=t.substr(o,a.index-o+a[0].length),o=a.index+a[0].length}return console.log("[FASHION] Could not match parens: "+t)},window.fashion.$parser.determineExpressionType=function(t,n,i){var r,o,a,s,u;o=a=void 0;for(r in t)if(s=t[r],s!==e.$type.Unknown){if(o){if(s!==o){if(s!==e.$type.String)return console.log("[FASHION] Found mixed types in expression: '"+i+"'"),{};o=e.$type.String}}else o=s;if(s===e.$type.Number||s===e.$type.Color){if(u=n[r],""===u)continue;if(a){if(u!==a)return console.log("[FASHION] Conflicting units '"+u+"' and '"+typeUnit[1]+"'"),console.log("[FASHION] Unit conversion will be implemented in the future"),{}}else a=u}}return{type:o,unit:a}},window.fashion.$parser.expressionExpander={localVariable:function(t,n,i){var r,o,a,s,u,c,p,f,h,m,w;if(null==i&&(i=!1),w=n.variables,p=w[t],!p)return console.log("[FASHION] Variable $"+t+" does not exist.");o=!1,f=h=s=-1;for(c in p)m=p[c],0!==c&&(a=!1),f=m.type,h=m.unit,s=m.mode;return i?u="v('"+t+"'"+(o?",e":"")+").value =":(r=new d("variable",t),u="v('"+t+"'"+(o?",e":"")+").value"),s=o?s|e.$runtimeMode.individual:s,new l(u,f,h,r,s)},globalVariable:function(e,t,n){var i,r,o;return e=e.toLowerCase(),(o=t[e])?(n.addGlobalDependency(e,o),i=new d("global",e),r="g."+e+".get()",new l(r,o.type,o.unit,i,o.mode)):console.log("[FASHION] Variable $"+e+" does not exist.")},numberWithUnit:function(t){var n,i,r;return i=window.fashion.$type.Number,n=e.$runtimeMode["static"],r=window.fashion.$shared.getUnit(t,i,e.$type,e.$unit),0/0===r.value&&(r.value=0),new l(r.value,i,r.unit,!1,n)},relativeObject:function(t,n){var i,r,o,a,s;return"parent"===t&&(n=".parent"+n),i=n.split("."),r=i[i.length-1],null==n?a=e.$type.Element:"top"===r||"bottom"===r||"left"===r||"right"===r||"number"===r||"width"===r||"height"===r?(a=e.$type.Number,s="px"):a=e.$type.String,o=n?"e('"+n+"','"+t+"')":"e(void 0, "+JSON.stringify(t)+")",new l(o,a,s,!1,e.$runtimeMode.individual)},"function":function(e,t,n,i,r,o){var a,s,u,c,p,f,h,m,w,v,g,b,y,$,S,x,O,I;if($=i.variables,h=r[e],!h)return console.log("[FASHION] Function $"+e+" does not exist.");if(t.length>1){for(u=window.fashion.$parser.splitByTopLevelCommas(t),f=[],w=[],S=0,O=u.length;O>S;S++)a=u[S],(s=a.match(/([a-zA-Z0-9\-\'\"]+)\s*\:\s*(.*)/))?(v="'"+s[1]+"': ",v+=window.fashion.$parser.parseExpression(s[2],i,r,o,0).script,w.push(v)):f.push(window.fashion.$parser.parseExpression(a,i,r,o,!1));w.length>0&&f.push({script:"{"+w.join(",")+"}"})}else f=[];for(b=["t"],m=h.mode,c=new d,x=0,I=f.length;I>x;x++)p=f[x],null!=p.script&&(m|=p.mode,b.push(p.script),c.extend(p.bindings));return y=""!==h.unit?h.unit:void 0!==h.unitFrom?f[h.unitFrom].unit:"",i.addFunctionDependency(e,h),g="f['"+e+"'].get.call("+b.join(",")+")",new l(g,h.type,n||y,c,m)}},window.fashion.$parser.addVariable=function(t,n,i,r,a){var s,u,d,c,p,f;if(i=e.$parser.parseSingleValue(i,t,!0),f=new o(n,i,a),"!static"===r&&(f.mode=e.$runtimeMode["static"]),t.addVariable(f),i instanceof l)s=i.type,d=i.unit;else{if(p=f.raw||f.value,!p)return;s=window.fashion.$shared.determineType(p,e.$type,e.$typeConstants),c=window.fashion.$shared.getUnit(p,s,e.$type,e.$unit),u=c.value,d=c.unit}return f.annotateWithType(s,d,u)},window.fashion.$processor={process:function(t){return t=window.fashion.$processor.blocks(t,e.$blocks),t=window.fashion.$processor.properties(t,e.$properties)}},window.fashion.$processor.api={throwError:function(e,t){return console.log("[FASHION: "+e+"] "+t)},setProperty:function(t,n,i,r){var o;return o=new s(i,r,r.mode||e.$runtimeMode["static"]),t.insertProperty(o,n+1)},getProperty:function(e,t,n){var i;return i=void 0,e.forEachMatchingSelector(t,function(e){return e.forEachPropertyNamed(n,function(e){return i?!1:i=e.value}),i?!1:void 0}),i},addRule:function(t,n,i){var r;return r=e.$parser.createSelector(t,n),e.$parser.parseSelectorBody(i+"\n",r,t)},addScript:function(e,t){return e.addScript(t)},parseValue:function(t,n,i){return i&&"string"==typeof i?e.$parser.parseSingleValue(i,n,t):""},determineType:function(t){return t.type?t.type:"string"==typeof t?window.fashion.$shared.determineType(t,e.$type,e.$typeConstants):e.$type.Unknown},determineUnit:function(t){return t.unit?t.unit:"string"==typeof t?window.fashion.$shared.getUnit(t,e.$type.Number,e.$type,e.$unit).unit:""}},window.fashion.$processor.blocks=function(e,t){var n,i,r,o,a,s;a=window.fashion.$processor.api,s=e.blocks;for(i in s)r=s[i],o=t[r.type],o&&(n={throwError:a.throwError.bind(0,r.type),addRule:a.addRule.bind(0,e),addScript:a.addScript.bind(0,e),parseValue:a.parseValue.bind(0,e,"b"+i),parse:a.parseBody.bind(0,e),runtimeObject:e.dependencies.blocks[r.type].runtimeObject,addVariable:a.addVariable.bind(0,e)},o.compile.call(n,r.arguments,r.body));return e},window.fashion.$processor.api.parseBody=function(t,n){return e.$parser.parse(n,t)},window.fashion.$processor.api.addVariable=function(t,n,i){return e.$parser.addVariable(t,n,i)},window.fashion.$processor.properties=function(t,n){var i,r,o,a,s,u,l,d,c,p,f;r=window.fashion.$processor.api,l=e.$runtimeMode,p=t.selectors;for(c in p){d=p[c],o=-1,f=d.properties;for(a in f)s=f[a],o++,u=n[s.name],u&&(i={throwError:r.throwError.bind(0,s),setProperty:r.setProperty.bind(0,d,o),getProperty:r.getProperty.bind(0,t,d.name),parseValue:r.parseValue.bind(0,t,[c,a]),determineType:r.determineType,determineUnit:r.determineUnit},(u.mode&l.individual)===l.individual?(t.addPropertyDependency(s.name,u),s.mode|=u.mode):(n[s.name].compile.call(i,s.value),u.replace&&d.deleteProperty(o--)))}return t},window.fashion.$shared={},window.fashion.$shared.getVariable=function(e,t,n,i,r,o){var a;return a=e[r],a?"string"==typeof a||"number"==typeof a?{value:a}:a[0]?a[0]:a.scope&&a.scope.length>0?this.throwError("Scoped variables are not yet supported"):void 0!==a["default"]?a["default"].evaluate?{value:this.evaluate(a["default"],e,t,n,i,o)}:{value:a["default"]}:this.throwError("Variable '"+r+"' does not exist."):(console.log("[FASHION] Could not find variable '"+r+"'"),{value:void 0})},window.fashion.$shared.evaluate=function(t,n,i,r,o,a,s){var u,l,d,c,p,f,h,m,w,v;return null==s&&(s=!0),c=!1,d=(null!=(w=this.runtimeModes)?w.individual:void 0)||("undefined"!=typeof e&&null!==e&&null!=(v=e.$runtimeMode)?v.individual:void 0),l=function(e){return function(t){var s,u,l,p,f,h,m,w;if("string"==typeof t)return t;if("number"==typeof t)return t;if(h=[],f=function(t,a){var s;return s=e.getVariable(n,i,r,o,t,a),h.push({name:t,object:s,value:s.value}),s},((t.mode&d)===d||null!=a)&&null!=e.elementFunction){if(null==a)return e.throwError("Expression requires element but none provided");if(u=e.elementFunction(a),null==u)return e.throwError("Could not generate element function")}if(t.evaluate){try{p=t.evaluate(f,i,r,o,u)}catch(v){return s=v,console.log("[FASHION] Could not evaluate: "+t.evaluate),console.log(s)}if(t.important===!0&&(c=!0),t.setter)for(m=0,w=h.length;w>m;m++)l=h[m],l.object.value!==l.value&&e.setVariable(l.name,l.object.value);return p}return t.value?t.value:void 0}}(this),u=function(e,t){return t&&s?e+" !important":e},t instanceof Array?0===t.length?"":t[0]instanceof Array?u(function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)m=t[e],i.push(function(){var e,t,n;for(n=[],e=0,t=m.length;t>e;e++)h=m[e],n.push(l(h));return n}().join(" "));return i}().join(", "),c):(p=function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)f=t[e],i.push(l(f));return i}().join(" "),u(p,c)):u(l(t),c)};var c=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};window.fashion.$shared.determineType=function(e,t,n){var i,r;return"number"==typeof e?t.Number:(r=function(e){return'"'===e[0]||"'"===e[0]?t.String:e.charCodeAt(0)>47&&e.charCodeAt(0)<58||"-"===e[0]||"."===e[0]?t.Number:"#"===e[0]||0===e.toLowerCase().indexOf("rgb")?t.Color:i(e)||window.fashion.$type.Unknown},i=function(e){return n?n.colors&&c.call(n.colors,e)>=0?t.Color:void 0:t.Unknown},r(e))},window.fashion.$shared.getUnit=function(e,t,n,i){var r;return"number"==typeof e?{value:parseFloat(e),unit:""}:(r=function(){var t,n,r;return n=/([0-9\-\.]*)(.*?)/,t=n.exec(e),t.length<2?{value:parseFloat(e),unit:""}:(r=e.replace(t[1],""),i=i.Number[r],i?{value:parseFloat(t[1]),unit:i}:{value:parseFloat(t[1]),unit:""})},t===n.Number?r():(t===n.String&&("'"===e[0]||'"'===e[0])&&(e=e.substring(1,e.length-1)),{value:e,unit:""}))},window.fashion.$shared.timeInMs=function(e){return e?"number"==typeof e?e:"ms"===e.unit?e.value:"s"===e.unit?1e3*e.value:parseInt(e.value):0},window.fashion.color={cssTOjs:function(t,n){var i;return null==n&&(n=e.color),"#"===t[0]?n.hexTOrgb(t):(i=t.match(/rgba?\((.*?),(.*?),([^,]*),?(.*?)\)/))?{r:parseInt(i[1]),g:parseInt(i[2]),b:parseInt(i[3]),a:parseFloat(i[4]||1)}:void 0},hexTOrgb:function(e){var t,n;return void 0===e?{r:0,g:0,b:0}:(n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,e=e.replace(n,function(e,t,n,i){return t+t+n+n+i+i}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:0,g:0,b:0})},rgbTOhex:function(e,t,n){var i,r;return"object"==typeof e&&(r=[e.r,e.g,e.b],e=r[0],t=r[1],n=r[2]),i=function(e){var t;return"string"==typeof e&&(e=parseInt(e)),t=e.toString(16),1===t.length?"0"+t.toUpperCase():t.toUpperCase()},"#"+i(parseInt(e))+i(parseInt(t))+i(parseInt(n))},hsbTOrgb:function(e,t,n){var i,r,o;return"object"==typeof e&&(o=[e.h,e.s,e.b],e=o[0],t=o[1],n=o[2]),r=Math,t/=100,n/=100,i=function(i){return 255*(t*n*r.max(r.min(r.abs((e+i)/60%6-3)-1,1),0)+n*(1-t))},{r:i(0),g:i(240),b:i(120)}},rgbTOhsb:function(e,t,n){var i,r,o,a,s,u,l,d,c,p,f,h;if("object"==typeof e&&(c=[e.r,e.g,e.b],e=c[0],t=c[1],n=c[2]),d=Math.max(e,t,n),e/=255,t/=255,n/=255,o=Math.max(e,t,n),a=Math.min(e,t,n),o===a)return{h:0,s:0,b:d/2.55};switch(s=o-a,a){case e:p=[t-n,3],l=p[0],r=p[1];break;case t:f=[n-e,5],l=f[0],r=f[1];break;case n:h=[e-t,1],l=h[0],r=h[1]}return i=60*(r-l/s)%360,u=s/o*100,{h:i,s:u,b:d/2.55}}},window.fashion.$actualizer={actualize:function(t){var n,i,r,o,a,s,u,l,d,c,p;return d=e.$runtimeMode,n=e.$actualizer,n.separateTransitions(t),p=n.splitIndividual(t.selectors),o=p.cssSels,a=p.individualSels,n.hideIndividualizedSelectors(o,t.scripts,a),u=n.filterStatic(o),c=n.generateRuntimeData(t,u,a),n.addBindings(c,u,a),i=n.determineRuntimeCapabilities(c,t.selectors),n.addRuntimeFunctions(c,t,i),n.removeUnnecessaryModuleData(c),t.scripts.push("document.dispatchEvent(new Event('"+e.readyEvent+"'));"),r=n.createCSS(c,o),l=n.minifier.runtimeData(c),s=n.createJS(c,l,t.scripts),{css:r,js:s}}},window.fashion.$actualizer.jsHeader="/*\\\n|*| GENERATED BY FASHION "+e.version+"\n|*| "+e.url+" - "+e.author+"\n\\*/",window.fashion.$actualizer.createJS=function(t,n,i){return""+window.fashion.$actualizer.jsHeader+"\nwindow."+e.minifiedObject+" = "+e.$stringify(n)+";\nwindow."+e.runtimeObject+" = "+e.$stringify({config:t.config,modules:t.modules,runtime:t.runtime,selectors:{},individual:{},variables:{}})+";\nFSEXPAND = "+e.$stringify(e.$actualizer.minifier.expandRuntimeData)+";\nFSEXPAND(window."+e.minifiedObject+",window."+e.runtimeObject+");\nFSREADY = function(r){d=document;c=\"complete\";\n	if(d.readyState==c)r()\n	else d.addEventListener('readystatechange',function(){if(d.readyState==c)r()})\n}\n"+i.join("\n")},window.fashion.$actualizer.splitIndividual=function(t){var n,i,r,o,s,u,l,d,c,p,f,h;r={},d={},n=u=0,s=e.$runtimeMode.individual;for(o in t){f=t[o],i=new a(f.name,f.mode),l=new a(f.name,f.mode),h=f.properties;for(c in h)p=h[c],(p.mode&s)===s?l.addProperty(p):i.addProperty(p);i.properties.length>0&&(i.rule=n++,r[o]=i),l.properties.length>0&&(l.rule=u++,d[o]=l)}return{cssSels:r,individualSels:d}},window.fashion.$actualizer.filterStatic=function(e){var t,n,i,r,o,s,u,l;r={};for(i in e){u=e[i],t=new a(u.name,u.mode),t.rule=u.rule,t.properties={},n=!1,l=u.properties;for(o in l)s=l[o],s.mode>0&&(n=!0,t.properties[o]=s);n&&(r[i]=t)}return r};var c=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};window.fashion.$actualizer.addBindings=function(t,n,i){return e.$actualizer.bindSelectors(t,n,"s"),e.$actualizer.bindSelectors(t,i,"i"),e.$actualizer.bindVariables(t)
},window.fashion.$actualizer.bindSelectors=function(t,n,i){var r,o,a,s,u,d,c,p,f;p=e.$runtimeMode.triggered,f=[];for(c in n)d=n[c],d.name instanceof l&&(r=[i,parseInt(c)],e.$actualizer.bindExpression(t,d.name,r)),f.push(function(){var n,f;n=d.properties,f=[];for(s in n)u=n[s],(u.mode&p)!==p&&(r=[i,parseInt(c),e.$actualizer.makeCamelCase(u.name)],f.push(u.value instanceof Array?function(){var n,i,s,d;for(s=u.value,d=[],n=0,i=s.length;i>n;n++)a=s[n],d.push(a instanceof Array?function(){var n,i,s;for(s=[],n=0,i=a.length;i>n;n++)o=a[n],s.push(o instanceof l?e.$actualizer.bindExpression(t,o,r):void 0);return s}():a instanceof l?e.$actualizer.bindExpression(t,a,r):void 0);return d}():u.value instanceof l?e.$actualizer.bindExpression(t,u.value,r):void 0));return f}());return f},window.fashion.$actualizer.bindVariables=function(t){var n,i,r,o,a,s,u;s=t.variables,u=[];for(a in s)o=s[a],u.push(function(){var s,u;s=o.values,u=[];for(i in s)r=s[i],r instanceof l?(n=["v",a,i],u.push(e.$actualizer.bindExpression(t,r,n))):u.push(void 0);return u}());return u},window.fashion.$actualizer.bindExpression=function(e,t,n){var i,r,o,a,s,u,l,d,p,f,h;for(p=t.bindings.variables,s=0,l=p.length;l>s;s++)a=p[s],o=e.variables[a],o?o.addDependent(n):console.log("[FASHION] Could not bind to nonexistent variable: '"+a+"'");for(f=t.bindings.globals,h=[],u=0,d=f.length;d>u;u++)if(r=f[u],i=e.modules.globals[r]){if(null==i.dependents&&(i.dependents=[]),c.call(i.dependents,n)>=0)continue;h.push(i.dependents.push(n))}else h.push(console.log("[FASHION] Could not bind to nonexistent global: '"+a+"'"));return h},window.fashion.$actualizer.makeCamelCase=function(e){return null==e?"":e.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})};var y;y=function(){function t(t,n,i){this.config=e.runtimeConfig,this.selectors=n,this.variables=i,this.modules=t.dependencies,this.runtime={}}return t.prototype.addRuntimeModule=function(e){var t,n,i;i=e.functions;for(n in i){if(t=i[n],this.runtime[n])return;this.runtime[n]=t}},t}();var $,c=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};$=function(){function t(t,n,i,r){this.name=t,this.type=n,this.unit=i,this.mode=r||e.$runtimeMode["static"],this.scopes=[],this.values={},this.dependents=[],this["default"]=void 0}return t.prototype.addScope=function(e,t){return this.values[e]=t,0===e||"0"===e?this["default"]=t:this.scopes.push(e)},t.prototype.addDependent=function(e){return c.call(this.dependents,e)>=0?void 0:this.dependents.push(e)},t}(),window.fashion.$actualizer.generateRuntimeData=function(t,n,i){var r,o;return o=e.$actualizer.actualizeVariables(t,n,i),r=new y(t,n,o),i&&(r.individual=i),r},window.fashion.$actualizer.actualizeVariables=function(e){var t,n,i,r,o,a,s,u,l,d;l={},d=e.variables;for(s in d){r=d[s],o=a=-1,t=0;for(n in r)u=r[n],null!=u.type&&(o=u.type),null!=u.unit&&(a=u.unit),null!=u.mode&&(t|=u.mode);i=new $(s,o,a,t);for(n in r)u=r[n],i.addScope(n,u.value);l[s]=i}return l},window.fashion.$actualizer.removeUnnecessaryModuleData=function(e){var t,n,i,r;i=e.modules.blocks,r=[];for(n in i)t=i[n],t.runtimeCapabilities&&r.push(t.runtimeObject?e.modules.blocks[n]=t.runtimeObject:void 0);return r},window.fashion.$actualizer.createCSS=function(t,n){var i,r,o,a,s,u,l,d,c,p,f;a=e.$actualizer.evaluationFunction(t),i="";for(s in n){d=n[s],r=[],f=d.properties;for(u in f)l=f[u],null==l.value&&console.log(d),(d.mode&e.$runtimeMode.globalDynamic)>2||(p=l.value,o=a(d.mode===e.$runtimeMode["static"]?"object"==typeof p&&p.value?p.value:p:p),r.push(e.$actualizer.cssPropertyTemplate(l,o)));c=a(d.name),i+=e.$actualizer.cssSelectorTemplate(c,r)}return i},window.fashion.$actualizer.cssPrefixes=["","-webkit-","-moz-","-ms-"],window.fashion.$actualizer.separateTransitions=function(t){var n,i,r,o,a,u,l,d,c,p,f,h,m,w,v;n=e.$actualizer.evaluationFunction(null,t),a=window.fashion.$actualizer.cssPrefixes,p=0,m=t.selectors,v=[];for(i in m){d=m[i],f=[],w=d.properties;for(r in w)u=w[r],"length"!==r&&u.value.transition&&(l=u.value.transition,l.property=u.name,f.push(l),p|=l.easing.mode|l.duration.mode|l.delay.mode);h=function(){var e,t,n;for(n=[],e=0,t=f.length;t>e;e++)c=f[e],n.push([c.property,c.duration,c.easing,c.delay]);return n}(),h&&0!==h.length&&(u=new s("transition",h,p),v.push(function(){var e,t,n;for(n=[],e=0,t=a.length;t>e;e++)o=a[e],n.push(d.addProperty(u.copyWithName(o+"transition")));return n}()))}return v},window.fashion.$actualizer.evaluationFunction=function(t,n){return function(i){return window.fashion.$shared.evaluate.call(window.fashion.$shared,i,t?t.variables:n.variables,e.$globals,e.$functions,t?t.runtime:{})}},window.fashion.$actualizer.cssPropertyTemplate=function(e,t){return""+e.name+": "+t+(e.important?" !important":"")+";"},window.fashion.$actualizer.cssSelectorTemplate=function(e,t){return""+e+" {"+t.join("")+"}\n"},window.fashion.$actualizer.cssTransitionTemplate=function(e,t,n,i){return""+e+" "+(t||"1s")+" "+(n||"")+(i?" "+i:"")};var S,c=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};window.fashion.$runtimeCapability={variables:"variables",scopedVariables:"scopedVariables",individualProps:"individualized",liveProps:"liveProperties",globals:"globals"},S=function(){function e(){}return e.prototype.constuctor=function(){var e;return this.capabilities=function(){var t,n,i,r;for(i=window.fashion.runtimeModules,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e);return r}()},e.prototype.add=function(e){var t;return this.capabilities||(this.capabilities=function(){var e,n,i,r;for(i=window.fashion.runtimeModules,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t);return r}()),c.call(this.capabilities,e)>=0?void 0:this.capabilities.push(e)},e.prototype.addDependencies=function(e){var t,n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(this.add(t));return r},e.prototype.has=function(e){return this.capabilities?c.call(this.capabilities,e)>=0:!1},e}(),window.fashion.$actualizer.determineRuntimeCapabilities=function(t,n){var i,r,o,a,s;if(i=new S,"{}"!==JSON.stringify(t.variables))for(i.add(e.$runtimeCapability.variables),s=t.variables,o=0,a=s.length;a>o;o++)r=s[o],r.scopes.length>0&&i.add(e.$runtimeCapability.scopedVariables);return e.$actualizer.hasPropertyMode(n,e.$runtimeMode.individual)&&i.add(e.$runtimeCapability.individualProps),e.$actualizer.hasPropertyMode(n,e.$runtimeMode.live)&&i.add(e.$runtimeCapability.liveProps),"{}"!==JSON.stringify(t.modules.globals)&&i.add(e.$runtimeCapability.globals),e.$actualizer.addModuleCapabilities(i,t),i},window.fashion.$actualizer.hasPropertyMode=function(e,t){var n,i,r,o,a;for(n in e){o=e[n],a=o.properties;for(i in a)if(r=a[i],(r.mode&t)===t)return!0}return!1},window.fashion.$actualizer.addRuntimeFunctions=function(t,n,i){var r,o,a,s,u,l,d,c;if(i.capabilities)for(r=0;r<i.capabilities.length;)if(u=i.capabilities[r++],void 0!==u){if(s=e.$runtimeModules[u],!s)return console.log("[FASHION] Could not find module "+u);if(i.addDependencies(s.dependencies),t.addRuntimeModule(s),s.initializers.length>0)for(c=s.initializers,l=0,d=c.length;d>l;l++)a=c[l],o="window."+e.runtimeObject+".runtime."+a+".bind(FASHION.runtime)",n.addScript("FSREADY("+o+");")}},window.fashion.$actualizer.addModuleCapabilities=function(e,t){var n,i,r,o,a,s,u;r=t.modules.blocks;for(i in r)n=r[i],(null!=n?n.runtimeCapabilities:void 0)&&e.addDependencies(n.runtimeCapabilities);o=t.modules.properties;for(i in o)n=o[i],(null!=n?n.runtimeCapabilities:void 0)&&e.addDependencies(n.runtimeCapabilities);a=t.modules.functions;for(i in a)n=a[i],(null!=n?n.runtimeCapabilities:void 0)&&e.addDependencies(n.runtimeCapabilities);s=t.modules.globals,u=[];for(i in s)n=s[i],(null!=n?n.runtimeCapabilities:void 0)&&u.push(e.addDependencies(n.runtimeCapabilities));return u},window.fashion.$actualizer.hideIndividualizedSelectors=function(t,n,i){var r,o,u,l,d,c,p,f;o=[];for(u in i)p=i[u],"string"==typeof p.name&&o.push(p.rawName);if(o&&!(o.length<1)){l=o.join(","),r=new a(l,e.$runtimeMode["static"]),r.addProperty(new s("visibility","hidden")),t.hs=r,c=0;for(d in t)f=t[d],c++;return n.push("FSREADY(function(){\n	ss = document.getElementById(FASHION.config.cssId);\n	if(ss&&ss.sheet)ss.sheet.deleteRule("+(c-1)+");\n});")}},window.fashion.$actualizer.minifier={runtimeData:function(e){var t,n,i,r,o,a;return t=window.fashion.$actualizer.minifier,o=i=0,[function(){var i,o;i=e.selectors,o=[];for(n in i)r=i[n],o.push(t.selector(n,r));return o}(),function(){var i,r;i=e.variables,r=[];for(n in i)a=i[n],r.push(t.variable(a));return r}(),function(){var i,o;i=e.individual,o=[];for(n in i)r=i[n],o.push(t.selector(n,r));return o}()]},selector:function(e,t){var n,i,r,o,s,u;if(n=window.fashion.$actualizer.minifier,t&&t instanceof a){i=t.name instanceof l?n.expression(t.name):t.name,o=[],u=t.properties;for(r in u)s=u[r],o.push(n.property(s));return["s",parseInt(e),t.rule,i,t.mode,o]}},property:function(e){var t,n,i,r,o,a,u;if(t=window.fashion.$actualizer.minifier,e&&e instanceof s){if(e.value instanceof Array)for(r=[],u=e.value,o=0,a=u.length;a>o;o++)i=u[o],r.push(i instanceof l?t.expression(i):i);else r=e.value instanceof l?t.expression(e.value):e.value;return n=e.important?1:0,["p",e.name,e.mode,n,r]}},expression:function(e){return e&&e instanceof l?["e",e.mode,e.type,e.unit,e.setter,e.script]:void 0},variable:function(e){var t,n,i,r,o,a,s,u;if(t=window.fashion.$actualizer.minifier,e&&e instanceof $){for(n=e["default"]instanceof l?t.expression(e["default"]):e["default"],o=[],u=e.values,a=0,s=u.length;s>a;a++)r=u[a],o.push(r instanceof l?t.expression(r):r);return i=["v",e.name,e.type,e.unit,e.mode,n,e.dependents],e.scopes&&i.push.apply(i,[e.scopes,o]),i}}},window.fashion.$actualizer.minifier.expandRuntimeData=function(e,t){var n,i,r,o,a,s,u,l,d,c,p,f,h,m,w,v;for(i={s:function(e){return{rule:e[2],name:n(e[3]),mode:e[4],properties:n(e[5])}},p:function(e){return{name:e[1],mode:e[2],important:e[3],value:n(e[4])}},e:function(e){return{mode:e[1],type:e[2],unit:e[3],setter:e[4],evaluate:Function("v","g","f","t","e",e[5])}},v:function(e){return{name:e[1],type:e[2],unit:e[3],mode:e[4],"default":n(e[5]),dependents:e[6],scopes:e[7],values:n(e[8])}}},n=function(e){var t,n,r,o;if(!(e instanceof Array))return e;if(0===e.length)return 0;if("string"==typeof e[0]&&i[e[0]])return i[e[0]](e);for(n=[],r=0,o=e.length;o>r;r++)t=e[r],n.push(i[t[0]]?i[t[0]](t):t);return n},h=e[0],u=0,c=h.length;c>u;u++)r=h[u],o=n(r),o.sheet="s",t.selectors[r[1]]=o;for(m=e[1],l=0,p=m.length;p>l;l++)a=m[l],s=n(a),t.variables[s.name]=s;if(e[2]){for(w=e[2],v=[],d=0,f=w.length;f>d;d++)r=w[d],o=n(r),o.sheet="i",v.push(t.individual[r[1]]=o);return v}};var x;x=function(){function e(e,t,n){var i,r;this.name=e,this.dependencies=t,this.functions=n,this.initializers=[];for(r in n)i=n[r],"$"===r[0]&&this.initializers.push(r)}return e}(),window.fashion.$runtimeModules={},window.fashion.addRuntimeModule=function(e,t,n){return window.fashion.$runtimeModules[e]=new x(e,t,n)},e.addRuntimeModule("types",[],{determineType:window.fashion.$shared.determineType,getUnit:window.fashion.$shared.getUnit,timeInMs:window.fashion.$shared.timeInMs}),e.addRuntimeModule("evaluation",[],{evaluate_Shared:window.fashion.$shared.evaluate,evaluate:function(e,t,n){var i,r,o,a;if(null!=n){o=n,a=FASHION.variables;for(i in a)r=a[i],null==o[i]&&(o[i]=r)}else o=FASHION.variables;return this.evaluate_Shared(e,o,FASHION.modules.globals,FASHION.modules.functions,FASHION.runtime,t)}}),e.addRuntimeModule("colors",[],window.fashion.color),e.addRuntimeModule("errors",[],{throwError:function(e){return console.log("[FASHION] Runtime error: "+e),console.log((new Error).stack)}}),e.addRuntimeModule("wait",[],{wait:function(e,t){return setTimeout(t,e)}}),e.addRuntimeModule("variables",["evaluation","selectors","types","errors"],{getVariable:window.fashion.$shared.getVariable,variableValue:function(e,t){return this.getVariable(FASHION.variables,FASHION.modules.globals,FASHION.modules.functions,FASHION.runtime,e,t).value},setVariable:function(e,t,n){return void 0===n?this.setTopLevelVariable(e,t):console.log("Scoped variable setting coming soon")},setTopLevelVariable:function(e,t){var n;return(n=FASHION.variables[e])?0===n.mode?this.throwError("Cannot change static variables"):(n["default"]=t,this.updateDependencies(e)):this.throwError("Variable '$"+e+"' does not exist")},updateDependencies:function(e){var t,n,i,r,o,a;for(n=FASHION.variables[e],o=n.dependents,a=[],i=0,r=o.length;r>i;i++)t=o[i],a.push("v"===t[0]?this.updateDependencies(t[1]):3===t.length?this.setPropertyOnSelector(t[0],t[1],t[2]):this.regenerateSelector(t[0],t[1]));return a},$initWatchers:function(){var e,t,n,i,r,o;window[FASHION.config.variableObject]=t={},r=FASHION.variables,o=[];for(n in r)i=r[n],e=function(){return function(e){return{get:function(){return FASHION.runtime.variableValue(e)},set:function(t){return FASHION.runtime.setVariable(e,t)}}}}(this)(n),Object.defineProperty(t,n,e),o.push(Object.defineProperty(t,"$"+n,e));return o}}),e.addRuntimeModule("selectors",["evaluation","errors"],{runtimeModes:window.fashion.$runtimeMode,makeCamelCase:function(e){var t,n;return null==e||null==e.name?"":(null==e.jsName&&(n=e.name,t=n.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}),e.jsName=t),e.jsName)},setPropertyOnSelector:function(e,t,n){var i,r,o,a,s,u,l,d,c,p;if("i"===e)return this.setPropertyOnIndividual(t,n);for(u=FASHION.selectors[t],e=document.getElementById(FASHION.config.cssId).sheet,s=e.rules||e.cssRules,a=e.rules[u.rule],c=u.properties,p=[],l=0,d=c.length;d>l;l++)i=c[l],this.makeCamelCase(i)===n&&(i.important?(r=new RegExp(i.name+":.*?;","g"),o=""+i.name+": "+this.CSSRuleForProperty(i,void 0,!0)+";",p.push(a.style.cssText=a.style.cssText.replace(r,o))):p.push(a.style[n]=this.CSSRuleForProperty(i,void 0,!0)));return p},regenerateSelector:function(e,t){var n,i,r;return"i"===e?this.regenerateIndividualSelector(t):(i=FASHION.selectors[t])?(n=document.getElementById(""+FASHION.config.cssId),r=n.sheet,r.deleteRule(i.rule),r.insertRule(this.CSSRuleForSelector(i),i.rule)):this.throwError("Selector "+t+" does not exist")},CSSPropertyTemplate:window.fashion.$actualizer.cssPropertyTemplate,CSSSelectorTemplate:window.fashion.$actualizer.cssSelectorTemplate,CSSRuleForProperty:function(e,t,n){var i,r,o;if(null==n&&(n=!1),r=FASHION.modules.properties[e.name]){if(i=this.evaluate.bind(this,e.value,t),!r.apply)return;if(r.apply(t,e.value,i),r.replace)return}return o=this.evaluate(e.value,t),n?o+(1===e.important?" !important":""):this.CSSPropertyTemplate(e,o)},CSSRuleForSelector:function(e,t,n){var i,r,o;return o=n||this.evaluate(e.name,t),i=function(){var n,i,o,a;for(o=e.properties,a=[],n=0,i=o.length;i>n;n++)r=o[n],a.push(this.CSSRuleForProperty(r,t));return a}.call(this),this.CSSSelectorTemplate(o,i)}}),e.addRuntimeModule("individualized",["selectors","elements","stylesheet-dom"],{$initializeIndividualProperties:function(){var e,t,n,i;FASHION.individualSheet=this.addStylesheet(""+FASHION.config.individualCSSID).sheet,n=FASHION.individual;for(e in n)t=n[e],this.updateSelectorElements(t);i=FASHION.individual;for(e in i)t=i[e],this.regenerateIndividualSelector(e);return this.watchForDOMAddition(),window.FASHION.pageChanged=window.FASHION.domChanged=this.pageChanged.bind(this)},updateSelectorElements:function(e){var t,n,i,r,o,a,s,u,l;u=e.elements;for(n in u)i=u[n],-1!==i.cssid&&FASHION.individualSheet.deleteRule(i.cssid);for(o=this.evaluate(e.name),e.elementsSelector=o,e.elements={},r=this.elementsForSelector(o),l=[],a=0,s=r.length;s>a;a++)t=r[a],t.id||t.setAttribute("id",this.generateRandomId()),l.push(e.elements[t.id]={element:t,cssid:-1});return l},setPropertyOnIndividual:function(e,t){var n,i,r,o,a,s,u;a=FASHION.individual[e],s=a.elements,u=[];for(n in s)i=s[n],null!=i.cssid&&-1!==i.cssid?(o=FASHION.individualSheet.rules[i.cssid],u.push(function(){var e,n,s,u;for(s=a.properties,u=[],e=0,n=s.length;n>e;e++)r=s[e],this.makeCamelCase(r)===t&&u.push(o.style[t]=this.CSSRuleForProperty(r,i.element,!0));return u}.call(this))):this.regenerateElementSelector(a,n,i);return u},regenerateIndividualSelector:function(e){var t,n,i,r,o;i=FASHION.individual[e],i||this.throwError("Could not find individual selector "+e),this.evaluate(i.name)!==i.elementsSelector&&this.updateSelectorElements(i),r=i.elements,o=[];for(n in r)t=r[n],o.push(this.regenerateElementSelector(i,n,t));return o},generateRandomId:function(e){var t,n;return null==e&&(e=20),t=function(){var t,i;for(i=[],n=t=0;e>=0?e>=t:t>=e;n=e>=0?++t:--t)i.push(Math.round(36*Math.random()).toString(36));return i}().join(""),FASHION.config.idPrefix+t},elementsForSelector:function(e){return Array.prototype.slice.call(document.querySelectorAll(e))},regenerateElementSelector:function(e,t,n){var i;return-1!==n.cssid?FASHION.individualSheet.deleteRule(n.cssid):n.cssid=FASHION.individualSheet.rules.length,i=this.CSSRuleForSelector(e,n.element,"#"+t),FASHION.individualSheet.insertRule(i,n.cssid)},watchForDOMAddition:function(){return window.FASHION_NO_OBSERVE!==!0?(window.FSOBSERVER=new MutationObserver(function(e){var t,n,i;if(null!=window.FSOBSERVER&&null!=window.FASHION&&null!=FASHION.runtime.addedElements&&window.FASHION_NO_OBSERVE!==!0){for(n=0,i=e.length;i>n;n++)t=e[n],t.addedNodes.length>0&&FASHION.runtime.addedElements(t.addedNodes);return!0}}),window.FSOBSERVER.observe(document.body,{childList:!0,subtree:!0})):void 0},pageChanged:function(e){var t,n,i,r,o,a,s;if(null!=e)return this.addedElements(e);e=[],s=FASHION.individual;for(n in s)for(r=s[n],i=this.elementsForSelector(r.elementsSelector),o=0,a=i.length;a>o;o++)t=i[o],r.elements[t.id]||e.push(t);return this.addedElements(e)},addedElements:function(e){var t,n,i,r,o,a,s,u;if("undefined"!=typeof FASHION&&null!==FASHION){for(u=[],a=0,s=e.length;s>a;a++)t=e[a],o=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector,u.push(function(){var e,o;e=FASHION.individual,o=[];for(n in e)r=e[n],r.elements[t.id]||t.matches(r.name)&&(t.id||t.setAttribute("id",this.generateRandomId()),i={element:t,cssid:-1},r.elements[t.id]=i,o.push(this.regenerateElementSelector(r,t.id,i)));return o}.call(this));return u}}}),e.addRuntimeModule("globals",["selectors"],{$startWatchers:function(){var e,t,n,i,r;n=function(e){return function(t){return e.updateGlobal.bind(e,t)}}(this),i=FASHION.modules.globals,r=[];for(t in i)e=i[t],null!=e.watch&&(e.watch(n(e)),r.push(this.updateGlobal(e)));return r},updateGlobal:function(e){var t,n,i,r,o;if(null!=e&&null!=e.dependents){for(r=e.dependents,o=[],n=0,i=r.length;i>n;n++)t=r[n],o.push("v"===t[0]?this.updateDependencies(t[1]):3===t.length?this.setPropertyOnSelector(t[0],t[1],t[2]):this.regenerateSelector(t[0],t[1]));return o}}}),e.addRuntimeModule("elements",[],{elementFunction:function(e){return function(t){return function(n,i){var r;if(null!=e)return null==n&&null!=i?e:0===n.indexOf("parent")?"parent"===n?e.parentNode:(r=n.replace("parent.",""),t.elementFunction(e.parentNode)(r)):"width"===n?e.clientWidth:"height"===n?e.clientHeight:e.getAttribute(n)}}(this)}}),e.addRuntimeModule("stylesheet-dom",[],{addStylesheet:function(e,t){var n,i;return i=document.createElement("style"),i.setAttribute("type","text/css"),e&&i.setAttribute("id",e),t&&i.setAttribute("class",t),n=document.head||document.getElementsByTagName("head")[0],n.appendChild(i),i},removeStylesheet:function(e){return e&&e.parentNode?e.parentNode.removeChild(e):void 0},getStylesheet:function(e){var t;return(t=document.getElementById(e))?t:this.addStylesheet(e)}}),e.addRuntimeModule("sheets",["stylesheet-dom"],{moveSheetToTop:function(e){var t;return t=document.head||document.getElementsByTagName("head")[0],t.lastChild!==e?(this.removeStylesheet(e),t.appendChild(e)):void 0},setRuleOnSheet:function(e,t,n,i,r){var o,a,s,u;null==r&&(r=!0),e instanceof HTMLStyleElement&&(e=e.sheet),e.rules||(e.rules=e.cssRules),u=e.rules;for(o in u)if(a=u[o],a.selectorText===t)return a.style.setProperty(n,i),void(r&&(s=a.cssText,e.removeRule(o),e.insertRule(s,e.rules.length)));return e.insertRule(""+t+" {"+n+": "+i+";}",e.rules.length)}}),window.fashion.$functions={random:new f({output:e.$type.Number,evaluate:function(){return Math.random()}}),round:new f({output:e.$type.Number,unitFrom:0,evaluate:function(e){return Math.round(e.value)}}),min:new f({output:e.$type.Number,unitFrom:0,evaluate:function(){var e,t,n,i;for(t=9007199254740992,n=0,i=arguments.length;i>n;n++)e=arguments[n],e.value<t&&(t=e.value);return t}}),max:new f({output:e.$type.Number,unitFrom:0,evaluate:function(){var e,t,n,i;for(t=-9007199254740992,n=0,i=arguments.length;i>n;n++)e=arguments[n],e.value>t&&(t=e.value);return t}}),toggle:new f({output:e.$type.Number,unitFrom:0,evaluate:function(e,t,n){return e.value===t.value?n.value:t.value}}),set:new f({output:e.$type.None,capabilities:["variables","types"],evaluate:function(e,t,n){return setTimeout(function(n){return function(){return n.setVariable(e.value,t.value)}}(this),this.timeInMs(n))}})},e.$extend(window.fashion.$functions,{"@":new f({output:e.$type.Number,unit:"",dynamic:!0,evaluate:function(e,t,n){var i,r;return n||(n=document),i=this.querySelector(e.value),r=this.getComputedStyle(i),r[t.value]}})}),e.$extend(window.fashion.$functions,{rgb:new f({output:e.$type.Color,evaluate:function(e,t,n){return"rgb("+parseInt(e.value)+","+parseInt(t.value)+","+parseInt(n.value)+")"}}),rgba:new f({output:e.$type.Color,evaluate:function(e,t,n,i){return"rgba("+parseInt(e.value)+","+parseInt(t.value)+","+parseInt(n.value)+","+i.value+")"}}),hsl:new f({output:e.$type.Color,evaluate:function(e,t,n){return"hsl("+parseInt(e.value)+","+parseInt(t.value)+"%,"+parseInt(n.value)+"%)"}}),hsla:new f({output:e.$type.Color,evaluate:function(e,t,n,i){return"hsla("+parseInt(e.value)+","+parseInt(t.value)+"%,"+parseInt(n.value)+"%,"+i.value+")"}}),hsb:new f({output:e.$type.Color,capabilities:["colors"],evaluate:function(e,t,n){var i,r,o;return o=this.hsbTOrgb(e.value,t.value,n.value),r=o.r,i=o.g,n=o.b,"rgb("+parseInt(r)+","+parseInt(i)+","+parseInt(n)+")"}}),hsba:new f({output:e.$type.Color,capabilities:["colors"],evaluate:function(e,t,n,i){var r,o,a;return a=this.hsbTOrgb(e.value,t.value,n.value),o=a.r,r=a.g,n=a.b,"rgba("+parseInt(o)+","+parseInt(r)+","+parseInt(n)+","+i.value+")"}}),changeAlpha:new f({output:window.fashion.$type.Color,capabilities:["colors"],evaluate:function(e,t){var n;return n=this.cssTOjs(e.value,this),"rgba("+n.r+","+n.g+","+n.b+","+t.value+")"}}),brighten:new f({output:window.fashion.$type.Color,capabilities:["colors"],evaluate:function(e,t){var n,i,r;return r=t.value,n=1+(r>1?r/100:r),i=this.cssTOjs(e.value,this),i.r=parseInt(Math.max(i.r*n,0)),i.g=parseInt(Math.max(i.g*n,0)),i.b=parseInt(Math.max(i.b*n,0)),"rgba("+i.r+","+i.g+","+i.b+","+i.a+")"}}),darken:new f({output:window.fashion.$type.Color,capabilities:["colors"],evaluate:function(e,t){var n,i,r;return r=t.value,n=1-(r>1?r/100:r),i=this.cssTOjs(e.value,this),i.r=parseInt(Math.max(i.r*n,0)),i.g=parseInt(Math.max(i.g*n,0)),i.b=parseInt(Math.max(i.b*n,0)),"rgba("+i.r+","+i.g+","+i.b+","+i.a+")"}})}),e.$extend(window.fashion.$functions,new(function(){function t(){var t,n,i,r,o;for(i=["matrix","matrix3d","translate","translate3d","translateX","translateY","translateZ","scale","scale3d","scaleX","scaleY","scaleZ","rotate","rotate3d","rotateX","rotateY","rotateZ","skew","skewX","skewY","perspective"],t=function(e){var t;return t='var a = arguments;\nvar s = "'+e+'(";\nfor(var i = 0; i < a.length; i++){\n	s += a[i].value;\n	if(i<a.length-1)s += ",";\n}\nreturn s + ")";',new Function(t)},r=0,o=i.length;o>r;r++)n=i[r],this[n]=new f({mode:e.$runtimeMode["static"],output:e.$type.String,evaluate:t(n)})}return t}())),window.fashion.$properties={"text-style":new w({replace:!0,compile:function(e){var t,n,i,r,o;if(n=[],t=function(e){return function(t){if("string"==typeof t){if("'"===t[0]||'"'===t[0])return n.push(t);switch(t){case"serif":n.push("serif");break;case"sans-serif":n.push("sans-serif");break;case"monospace":n.push("monospace");break;case"italic":e.setProperty("font-style","italic");break;case"oblique":e.setProperty("font-style","oblique");break;case"bold":e.setProperty("font-weight","bolder");break;case"light":e.setProperty("font-weight","lighter");break;case"underline":e.setProperty("text-decoration","underline");break;case"overline":e.setProperty("text-decoration","overline");break;case"line-through":e.setProperty("text-decoration","line-through");break;case"strikethrough":e.setProperty("text-decoration","line-through")}return-1!==t.indexOf("pt")||-1!==t.indexOf("px")?e.setProperty("font-size",t):void 0}}}(this),e instanceof Array)for(r=0,o=e.length;o>r;r++)i=e[r],t(i);else t(e);return this.setProperty("font-family",n.join(", "))}})},e.$extend(window.fashion.$properties,{pin:new w({replace:!0,compile:function(e){var t,n,i,r,o;return"object"==typeof e&&(e.length>2||e[0]instanceof Array)&&this.throwError("Valid arguments: '{x}px {y}px' or '{both}px'"),this.setProperty("position","absolute"),n=r=o=t=void 0,i=function(e){switch(e){case"left":return n="0px";case"right":return r="0px";case"top":return o="0px";case"bottom":return t="0px";case"center":return n="@self.parent.width / 2 - @self.width / 2",o="@self.parent.height / 2 - @self.height / 2";default:return this.throwError("Invalid position: "+e)}},"object"==typeof e?(i(e[0]),2===e.length&&i(e[1])):"string"==typeof e&&i(e),n?this.setProperty("left",this.parseValue(n)):this.setProperty("right",this.parseValue(r)),o?this.setProperty("top",this.parseValue(o)):this.setProperty("bottom",this.parseValue(t))}})}),e.$extend(window.fashion.$properties,new(function(){function t(){var t,n,i,r,o,a,s,u,l;for(i=["click","dblclick","mousedown","mouseup","drag","dragdrop","dragend","drop","blur","change","focus","focusin","focusout","submit","reset","keydown","keyup"],t=function(e){var t;return t="if(element.getAttribute('data-hastrigger-"+e+"'))return;\nelement.addEventListener('"+e+"', function(eo){\n	eo.stopPropagation();\n	evaluate();\n}, false);\nelement.setAttribute('data-hastrigger-"+e+"', 'true');",new Function("element","value","evaluate",t)},a=0,u=i.length;u>a;a++)r=i[a],this["on-"+r]=new w({replace:!0,mode:e.$runtimeMode.triggered|e.$runtimeMode.individual,apply:t(r)});for(o=["mouseenter","mouseleave","mousemove","mouseout","mouseover","dragenter","dragexit","draggesture","dragleave","dragover","dragstart"],n=function(e){var t;return t="if(element.getAttribute('data-hastrigger-"+e+"'))return;\nelement.addEventListener('"+e+"', evaluate, false);\nelement.setAttribute('data-hastrigger-"+e+"', 'true');",new Function("element","value","evaluate",t)},s=0,l=o.length;l>s;s++)r=o[s],this["on-"+r]=new w({replace:!0,mode:e.$runtimeMode.triggered|e.$runtimeMode.individual,apply:n(r)})}return t}())),window.fashion.$blocks={},window.fashion.$blocks.transition=new p({capabilities:["transitionBlock"],compile:function(e,t){var n,i,r,o,a,s,u,l,d,c,p;for(l=e[0],d=/(\s*([0-9\-\.\s\%]+?\%|start|begin|finish)\s?\{|\$([\w\-]+)\:[\s]*(.*?)[;\n]|\}|\{)/g,s={},p={},o=u=0,r=n="",i=1e3;--i>0&&(c=d.exec(t));)n+=t.substring(u,c.index),u=c.index,c[2]&&0===o&&(r=c[2],o++,n="",u=c[0].length+c.index),c[3]&&c[4]&&0===o&&(p.$vars||(p.$vars=[]),p.$vars.push(c[3]),this.addVariable(c[3],c[4])),"{"===c[0]?o++:"}"===c[0]&&(o--,0===o&&(s[r]=n,n="",r=""));for(a in s)t=s[a],p[a]=this.parse(t).selectors;return this.runtimeObject.transitions[l]=p},runtimeObject:{transitions:{}}}),e.addRuntimeModule("transitionBlock",["wait","selectors","types","sheets"],{transitionTiming:{start:10,end:5,settle:1},triggerTransition:function(e,t,n){var i,r,o,a,s,u,l,d,c;if(t=this.timeInMs(t),d=FASHION.modules.blocks.transition.transitions[e],null==d)return this.throwError("Transition '"+e+"' does not exist");c=this.addStylesheet(void 0,"FASHION-transition::temporary-"+e),s=this.getStylesheet("FASHION-transition::properties-"+e),this.moveSheetToTop(s);for(a in d)u=d[a],"$"!==a[0]&&("start"===a||"begin"===a?l=0:"finish"===a?l=t+this.transitionTiming.start:(o=parseFloat(a.split("-")[0])/100*t,l=o+this.transitionTiming.start),i=-1!==a.indexOf("-")?this.transitionKeyframeRange(u,t,c.sheet,n):this.transitionKeyframeSingle(u,t,c.sheet,n),l>0?this.wait(l,i.bind(this)):i.bind(this)());return r=t+this.transitionTiming.start+this.transitionTiming.end,this.wait(r,function(e){return function(){return e.removeStylesheet(c)}}(this))},transitionKeyframeSingle:function(e,t,n,i){return function(){var r,o,a,s,u,l,d,c,p,f,h;d=this.transitionTiming.settle,o=this.getStylesheet("FASHION-transition::properties-"+name);for(r in e){for(l=e[r],a=l.properties,c=[],f=0,h=a.length;h>f;f++)s=a[f],"object"==typeof s.value&&s.value.transition&&c.push(s);p=this.generateCSSTransitions.call(this,c,t,i),u=this.evaluate(l.name,0,i),n.insertRule(""+u+" {"+p+"}",n.rules.length),this.wait(d,function(e){return function(t,n){return function(){var r,a,u,l;for(l=[],a=0,u=n.length;u>a;a++)s=n[a],r=e.evaluate(s.value,0,i),l.push(e.setRuleOnSheet(o,t,s.name,r));return l}}}(this)(u,a))}}},transitionKeyframeStatic:function(){return function(){return console.log("[FASHION] The transition block does not support ranged keyframes yet")}},generateCSSTransitions:function(e,t,n){var i,r,o,a,s,u,l;for(i="transition: ",u=0,l=e.length;l>u;u++)a=e[u],a.value.transition&&(s=a.value.transition,r=parseFloat(this.evaluate(s.duration,0,n))/100*t,o=null!=r?""+r+"ms":s.duration,i+=""+a.name+" "+o+" "+(s.easing||"")+" "+(s.delay||"")+",");return i=i.substr(0,i.length-1)+";",i=[i,"-webkit-"+i,"-moz-"+i,"-ms-"+i].join("")}}),window.fashion.$functions.trigger=new f({output:e.$type.None,unit:"",mode:e.$runtimeMode.individual,evaluate:function(e,t,n){var i,r,o;for(i in n)o=n[i],n[i]=o.value;return r=FASHION.runtime.triggerTransition,r.call(this,e.value,t,n)}}),window.fashion.$globals={width:new h({type:e.$type.Number,unit:"px",get:function(){return window.innerWidth},watch:function(e){return window.addEventListener("resize",e,!1)}}),height:new h({type:e.$type.Number,unit:"px",get:function(){return window.innerHeight},watch:function(e){return window.addEventListener("resize",e,!1)}}),scrolly:new h({type:e.$type.Number,unit:"px",get:function(){return window.scrollY},watch:function(e){return window.addEventListener("onscroll",e)}}),scrollx:new h({type:e.$type.Number,unit:"px",get:function(){return window.scrollX},watch:function(e){return window.addEventListener("onscroll",e)}}),mousey:new h({type:e.$type.Number,unit:"px",get:function(){return window.mouseY||0},watch:function(e){return window.addEventListener("mousemove",function(t){return window.mouseY=t.pageY,e()})}}),mousex:new h({type:e.$type.Number,unit:"px",get:function(){return window.mouseX||0},watch:function(e){return window.addEventListener("mousemove",function(t){return window.mouseX=t.pageX,e()})}}),pixelratio:new h({type:e.$type.Number,get:function(){return window.devicePixelRatio},watch:function(e){var t;return t=window.devicePixelRatio,setInterval(function(){return window.devicePixelRatio!==t&&e(),t=window.devicePixelRatio},1e3)}})}}();
