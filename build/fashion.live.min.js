/*
FASHION: Style + Smarts ------------------------------------------------------
Copyright (c) 2014 Keaton Brandt
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
------------------------------------------------------------------------------
 */
!function(){var e,t;e=window.fashion={version:"0.3.2",url:"http://writefashion.org",author:"Keaton Brandt",mimeType:"text/x-fashion",cssId:"FASHION-stylesheet",minifiedObject:"FSMIN",runtimeObject:"FASHION",runtimeModules:[],readyEvent:"fashion-ready"},window.fashion.runtimeConfig={variableObject:"style",idPrefix:"FS-",individualCSSID:"FASHION-individual",scopedCSSID:"FASHION-scopes",cssId:window.fashion.cssId},window.fashion.styleHeader="html {box-sizing: border-box;}\n*, *:before, *:after {box-sizing: inherit;border: none;}\n",window.fashion.styleHeaderRules=2,window.fashion.addProperty=function(e,t,n){return null==n&&(n=!1),t instanceof w||(t=new w(t)),!n&&window.fashion.$properties[e]?new Error("There is already a property named "+e):window.fashion.$properties[e]=t},window.fashion.addProperties=function(e,t){var n,r,i,o,a;for(null==t&&(t=!1),a=[],r=i=0,o=e.length;o>i;r=++i)n=e[r],a.push(window.fashion.addProperty(n,r,t));return a},window.fashion.addFunction=function(e,t,n){return null==n&&(n=!1),t instanceof h||(t=new h(t)),!n&&window.fashion.$functions[e]?new Error("There is already a function named "+e):window.fashion.$functions[e]=t},window.fashion.addFunctions=function(e,t){var n,r,i,o,a;for(null==t&&(t=!1),a=[],r=i=0,o=e.length;o>i;r=++i)n=e[r],a.push(window.fashion.addFunction(n,r,t));return a},window.fashion.addGlobal=function(e,t,n){return null==n&&(n=!1),t instanceof f||(t=new f(t)),!n&&window.fashion.$globals[e]?new Error("There is already a global named "+e):window.fashion.$globals[e]=t},window.fashion.addGlobals=function(e,t){var n,r,i,o,a;for(null==t&&(t=!1),a=[],r=i=0,o=e.length;o>i;r=++i)n=e[r],a.push(window.fashion.addGlobal(n,r,t));return a},window.fashion.addBlock=function(e,t,n){return null==n&&(n=!1),t instanceof p||(t=new p(t)),!n&&window.fashion.$blocks[e]?new Error("There is already a block named "+e):window.fashion.$blocks[e]=t},window.fashion.addBlocks=function(e,t){var n,r,i,o,a;for(null==t&&(t=!1),a=[],r=i=0,o=e.length;o>i;r=++i)n=e[r],a.push(window.fashion.addBlock(n,r,t));return a},t=function(e,t){return setTimeout(t,e)};var n;window.fashion.live={loadedEvent:"fashion-loaded"},n=document.currentScript||document.scripts[document.scripts.length-1],document.addEventListener("readystatechange",function(){return"complete"===document.readyState?window.fashion.$loader.loadStyles(function(t){var n,r,i,o,a,s;return a=(new Date).getTime(),o=window.fashion.$parser.parse(t),o=window.fashion.$processor.process(o),s=window.fashion.$actualizer.actualize(o),n=s.css,i=s.js,console.log("[FASHION] Compile finished in "+((new Date).getTime()-a)+"ms"),a=(new Date).getTime(),e.$dom.addStylesheet(n),e.$dom.addScript(i),console.log("[FASHION] Page initialize finished in "+((new Date).getTime()-a)+"ms"),r=new Event(window.fashion.live.loadedEvent),r.variableObject=window[window.fashion.variableObject],document.dispatchEvent(r)}):void 0});var r=[].slice;window.fashion.$extend=function(e,t){var n,r,i;i=[];for(n in t)r=t[n],i.push(e[n]?void 0:e[n]=r);return i},window.fashion.$combine=function(){var e,t,n,i,o;for(t=1<=arguments.length?r.call(arguments,0):[],n={},i=0,o=t.length;o>i;i++)e=t[i],window.fashion.$extend(n,e);return n},window.fashion.$buildArray=function(){var e,t,n,i,o;for(t=1<=arguments.length?r.call(arguments,0):[],n=[],i=0,o=t.length;o>i;i++)e=t[i],e instanceof Array?n.push.apply(n,e):e&&n.push(e);return n},window.fashion.$dom={addElementToHead:function(e){var t;return t=document.head||document.getElementsByTagName("head")[0],t.appendChild(e)},addStylesheet:function(t,n){var r,i,o,a;null==n&&(n=window.fashion.cssId),i=document.createElement("style"),i.setAttribute("type","text/css"),i.setAttribute("id",""+n),e.$dom.addElementToHead(i),o=t.split("\n"),a=[];for(n in o)r=o[n],r.length>3&&a.push(i.sheet.insertRule(r,n));return a},addScript:function(t){var n;return n=document.createElement("script"),n.setAttribute("type","text/javascript"),n.text=t,e.$dom.addElementToHead(n)},incrementSheetIndex:function(e){var t;return t=parseInt(e.getAttribute("data-count")),e.setAttribute("data-count",t+1),t},getSheetIndex:function(e){return parseInt(e.getAttribute("data-index"))}},window.fashion.$stringify=function(e){if(e instanceof Array)return window.fashion.$stringifyArray(e);switch(typeof e){case"string":return JSON.stringify(e);case"object":return window.fashion.$stringifyObject(e);case"number":return e;case"undefined":return"undefined";default:return e.toString()}},window.fashion.$stringifyObject=function(e){var t,n,r;t=[];for(n in e)r=e[n],e.hasOwnProperty(n)&&(n=n.replace("'","'"),t.push("'"+n+"': "+window.fashion.$stringify(r)));return"{"+t.join(",")+"}"},window.fashion.$stringifyArray=function(e){var t,n,r,i;for(t=[],r=0,i=e.length;i>r;r++)n=e[r],t.push(window.fashion.$stringify(n));return"["+t.join(",")+"]"};var i,o=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};i=function(){function e(e){var t,n,r;if(this.variables={},this.selectors=[],this.blocks=[],this.scripts=[],this.requires=[],this.dependencies={blocks:{},globals:{},functions:{},properties:{}},e){r=e.variables;for(t in r)n=r[t],this.variables[t]=n}}return e.prototype.addVariable=function(e){var t,n;if(n=e.name,delete e.name,t=e.scope||0,delete e.scope,!n)throw new Error("Variables must be named");return this.variables[n]||(this.variables[n]={}),this.variables[n][t]=e},e.prototype.addSelector=function(e){return e.index=this.selectors.length,this.selectors.push(e)},e.prototype.addRequirements=function(e){var t,n,r,i;if(e){for(i=[],n=0,r=e.length;r>n;n++)t=e[n],null!=t&&o.call(this.requires,t)<0&&i.push(this.requires.push(t));return i}},e.prototype.addScript=function(e){return this.scripts.push(e)},e.prototype.addBlock=function(e){return this.blocks.push(e)},e.prototype.addBlockDependency=function(e,t){return t?(this.dependencies.blocks[e]=t,this.addRequirements(t.requires)):void 0},e.prototype.addGlobalDependency=function(e,t){return t?(this.dependencies.globals[e]=t,this.addRequirements(t.requires)):void 0},e.prototype.addFunctionDependency=function(e,t){return t?(this.dependencies.functions[e]=t,this.addRequirements(t.requires)):void 0},e.prototype.addPropertyDependency=function(e,t){return t?(this.dependencies.properties[e]=t,this.addRequirements(t.requires)):void 0},e.prototype.forEachVariable=function(e){var t,n,r,i,o;o=this.variables;for(t in o){r=o[t];for(n in r)if(i=r[n],e.call(i,i,n)===!1)return}},e.prototype.forEachMatchingSelector=function(e,t){var n,r,i,o;for(o=this.selectors,r=0,i=o.length;i>r;r++)if(n=o[r],n.name===e&&t.call(this,n)===!1)return},e}(),window.fashion.$class||(window.fashion.$class={}),window.fashion.$class.ParseTree=i;var a;a=function(){function t(t,n,r){null==r&&(r=0),"$"===t[0]&&(t=t.substr(1)),this.name=t,this.mode=e.$runtimeMode.dynamic,this.raw=this.value=n,this.scope=r,this.topLevel=0===r}return t.prototype.annotateWithType=function(e,t,n){return this.type=e,this.unit=t,n?this.value=n:void 0},t}(),window.fashion.$class.Variable=a;var s;s=function(){function t(t,n,r){this.rawName=this.name=t,this.properties=[],this.index=-1,this.parent=r,this.mode=n?n:t instanceof d?e.$runtimeMode.dynamic:e.$runtimeMode["static"]}return t.prototype.addToBody=function(e){return this.body||(this.body=""),this.body+=e},t.prototype.addProperty=function(e){return this.body=void 0,e.id||(e.id=this.properties.length),this.properties.push(e)},t.prototype.insertProperty=function(e,t){return this.body=void 0,e.id||(e.id=this.properties.length),this.properties.splice(t,0,e)},t.prototype.deleteProperty=function(e){return this.properties.splice(e,1)},t.prototype.forEachPropertyNamed=function(e,t){var n,r,i,o;for(o=this.properties,r=0,i=o.length;i>r;r++)if(n=o[r],n.name===e&&t.call(this,n)===!1)return},t}(),window.fashion.$class.Selector=s;var u,l;u=function(){function t(t,n,r,i){null==r&&(r=e.$runtimeMode["static"]),this.name=t,this.mode=r,this.important=!1,i?"object"!=typeof n?this.value={value:n,transition:i}:(this.value=n,this.value.transition=i):this.value=n}return t.prototype.copyWithName=function(e){return new t(e,this.value,this.mode)},t}(),l=function(){function e(e,t,n){this.easing=e,this.duration=t,this.delay=n}return e}(),window.fashion.$class.Property=u,window.fashion.$class.PropertyTransition=l;var d,c,o=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};d=function(){function e(e,t,n,r,i){this.script=e.toString(),this.setter=-1!==this.script.indexOf("="),this.mode=i,this.type=t,this.unit=n,this.bindings=r||new c}return e.prototype.generate=function(){var e;try{return this.evaluate=Function("v","g","f","t","e",this.script)}catch(t){return e=t,console.log("[FASHION] Could not compile script '"+this.script+"'"),console.log(e)}},e}(),c=function(){function e(e,t){switch(this.variables=[],this.globals=[],this.dom=[],e){case"variable":this.addVariableBinding(t);break;case"global":this.addGlobalBinding(t);break;case"dom":console.log("[FASHION] DOM Bindings not yet supported")}}return e.prototype.addVariableBinding=function(e){return o.call(this.variables,e)>=0?void 0:this.variables.push(e)},e.prototype.addGlobalBinding=function(e){return o.call(this.globals,e)>=0?void 0:this.globals.push(e)},e.prototype.addDOMBinding=function(){return console.log("[FASHION] DOM Bindings not yet supported")},e.prototype.extend=function(e){var t,n,r,i,a,s,u,l,d,c,p,h;if(null!=e&&null!=e.variables){for(t=function(e,t){return o.call(e,t)>=0?void 0:e.push(t)},d=e.variables,r=0,s=d.length;s>r;r++)n=d[r],t(this.variables,n);for(c=e.globals,i=0,u=c.length;u>i;i++)n=c[i],t(this.globals,n);for(p=e.dom,h=[],a=0,l=p.length;l>a;a++)n=p[a],h.push(t(this.dom,n));return h}},e}(),window.fashion.$class.Expression=d,window.fashion.$class.ExpressionBindings=c;var p,h,f,m,w,v,g={}.hasOwnProperty,y=function(e,t){function n(){this.constructor=e}for(var r in t)g.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};m=function(){function t(t){this.mode=t.mode||t.runtimeMode||e.$runtimeMode["static"],this.requires=t.requires||t.capabilities,t.watcherFunction&&(!(this.mode|e.$runtimeMode.dynamic)||this.mode|e.$runtimeMode.live?console.log("[FASHION] Static/live modules cannot have watcher functions."):this.watch=t.watcherFunction)}return t}(),v=function(t){function n(t){"function"==typeof t?this.get=t:(this.type=t.type||t.output||t.outputType||e.$type.String,this.unit=t.unit||"",this.get=t.get||t.evaluate,n.__super__.constructor.call(this,t))}return y(n,t),n}(m),f=function(t){function n(t){this.watch=t.watch,t.mode||(t.mode=e.$runtimeMode.globalDynamic),n.__super__.constructor.call(this,t)}return y(n,t),n}(v),h=function(e){function t(e){void 0!==e.unitFrom&&(this.unitFrom=e.unitFrom,delete e.unit),t.__super__.constructor.call(this,e)}return y(t,e),t}(v),p=function(e){function t(e){"function"==typeof e?this.compile=e:(this.compile=e.compileFunction||e.compile,this.runtimeObject=e.runtimeObject||e.runtime,this.requires=e.requires||e.capabilities)}return y(t,e),t}(m),w=function(t){function n(t){"function"==typeof t?this.compile=t:(this.compile=t.compileFunction||t.compile,this.apply=t.applyFunction||t.apply,this.apply&&(t.mode|=e.$runtimeMode.individual),this.replace=t.replace||!1,this.runtimeObject=t.runtimeObject||t.runtime,this.mode=t.mode||0,this.requires=t.requires||t.capabilities)}return y(n,t),n}(m),window.fashion.$class||(window.fashion.$class={}),window.fashion.$class.GlobalModule=f,window.fashion.$class.FunctionModule=h,window.fashion.$class.BlockModule=p,window.fashion.$class.PropertyModule=w,window.fashion.$type={None:0,Number:1,String:2,Color:3,Element:4,Boolean:5,KGeneric:100,KDisplay:101,KCenter:102,KListStyle:103,KLineStyle:104,KInset:105,Unknown:255},window.fashion.$unit={Number:{"":!1," ":!1,px:"px",pt:"pt","%":"%",em:"em",ex:"ex",cm:"cm",mm:"mm","in":"in",pt:"pt",pc:"pc",ch:"ch",rem:"rem",vh:"vh",vw:"vw",vmin:"vmin",vmax:"vmax",ms:"ms",s:"s"}},window.fashion.$typeConstants={colors:["aqua","black","blue","fuchsia","gray","green","lime","maroon","navy","olive","purple","red","silver","teal","white","yellow"]},window.fashion.$runtimeMode={"static":0,dynamic:1,scoped:3,globalDynamic:17,individual:7,live:9,triggered:32,generate:function(e,t,n,r,i){return(e?1:0)|(t?7:0)|(n?9:0)|(r?3:0)|(i?17:0)}},window.fashion.$loader={loadStyles:function(t){var n,r,i;return r=e.$loader.countScripts(),i=0,n="",e.$loader.loadIndividualStyles(function(e){return n+=e,++i===r?t(n):void 0})},loadIndividualStyles:function(e){return window.fashion.$loader.loadStyleTags(e)},loadStyleTags:function(t){var n,r,i,o,a,s,u;for(r=document.getElementsByTagName("style"),u=[],n=a=0,s=r.length;s>=0?s>a:a>s;n=s>=0?++a:--a)i=r[n].getAttribute("type"),i===window.fashion.mimeType&&(""!==r[n].textContent?u.push(t(r[n].textContent)):""!==r[n].getAttribute("src")?(o=r[n].getAttribute("src"),u.push(e.$loader.loadExternalScript(o,t))):u.push(void 0));return u},countScripts:function(){var e,t,n,r,i,o,a,s,u;for(e=0,r=document.getElementsByTagName("style"),t=o=0,s=r.length;s>=0?s>o:o>s;t=s>=0?++o:--o)i=r[t].getAttribute("type"),i===window.fashion.mimeType&&e++;for(n=document.getElementsByTagName("link"),t=a=0,u=n.length;u>=0?u>a:a>u;t=u>=0?++a:--a)i=n[t].getAttribute("type"),i===window.fashion.mimeType&&e++;return e},loadExternalScript:function(e,t){var n;return n=new XMLHttpRequest,n.onreadystatechange=function(){return 4===n.readyState&&200===n.status?t(n.responseText):n.status>400?console.log("[FASHION] Could not load script: "+e+" ("+n.status+")"):void 0},n.open("GET",e,!0),n.send()}},window.fashion.$parser={parse:function(t,n){var r,o,a,s;o=new i(n),t=e.$parser.removeComments(t),o=e.$parser.parseSections(t,o),s=o.selectors;for(r in s)a=s[r],e.$parser.parseSelectorBody(a.body,a,o);return o}},window.fashion.$parser.removeComments=function(e){return e.replace(/\/\*[\s\S]*?\*\/|\/\/.*?\n/g,"")},window.fashion.$parser.splitByTopLevelCommas=function(e){var t,n,r,i,o;for(n=0,t="",i=[],r=/(\(|\)|\,|[^\(\)\,]+)/g;o=r.exec(e);)","!==o[0]||0!==n?("("===o[0]&&n++,")"===o[0]&&n--,t+=o[0]):(i.push(t),t="");return i.push(t),i},window.fashion.$parser.splitByTopLevelSpaces=function(e){var t,n,r,i,o,a,s,u;for(r=0,s=i=n=!1,t="",a=[],o=/([^\(\)\"\'\`\s]*\(|\)|\"|\'|\`|([^\`\"\'\s]+(\s+[\+\-\/\*\=]\s+|[\+\/\*\=]))+[^\`\"\'\s]+|\s+(\&\&|\|\|)\s+|\s+(==|!==)\s+|if\s+|\s+then\s+|\s+else\s+|\s|[^\(\)\"\'\`\s]+)/g;u=o.exec(e);)" "!==u[0]||0!==r||s||i||n?("("===u[0][u[0].length-1]&&r++,")"===u[0]&&r--,"'"!==u[0]||i||n||(s=!s),'"'!==u[0]||s||n||(i=!i),"`"!==u[0]||i||s||(n=!n),t+=u[0]):(a.push(t),t="");return a.push(t),a},window.fashion.$parser.parseSections=function(t,n){var r,i,o,a,s,u;for(a=/([\s]*(\$([\w\-]+)\:[\s]*(.*?)\s*(![A-z0-9\-]+?)?[;\n]|\@([\w\-]+)[\s]*(.*?)[\s]*[\{\n;]|(.*?)[\s]*?\{)|\{|\})/g;(s=a.exec(t))&&!(s.length<8)&&s[0];)s[3]&&s[4]?e.$parser.addVariable(n,s[3],s[4],s[5]):s[6]?(u=s.index+s[0].length,r=s[7]?e.$parser.splitByTopLevelSpaces(s[7]):[],o=-1!==s[0].indexOf("{"),i=o?window.fashion.$parser.parseBlock(t,a,u):"",n.addBlock({type:s[6],arguments:r,body:i}),n.addBlockDependency(s[6],e.$blocks[s[6]])):s[8]?window.fashion.$parser.parseSelector(n,t,s[8],a,s.index+s[0].length):console.log("[FASHION] Problem around '"+s[0]+"';");return n},window.fashion.$parser.parseSelector=function(t,n,r,i,o){var a,s,u,l,d,c,p;for(d=[e.$parser.createSelector(t,r)],a=1,l=[0];a>0&&(u=i.exec(n));)c=d[l[l.length-1]],c.addToBody(n.substring(o,u.index)),o=u.index+u[0].length,"}"===u[0]?(l.pop(),a--):u[3]&&u[4]?(r=u[3],p=u[4],s=p.match(/![a-zA-Z\-]*?$/),p.replace(s,""),e.$parser.parseScopedVariable(r,p,s,c,t)):u[6]?c.addToBody(n.substring(u.index,o)):u[8]&&(r=e.$parser.nestSelector(c.rawName,u[8]),d.push(e.$parser.createSelector(t,r,c)),l.push(d.length-1),a++);return d},window.fashion.$parser.nestSelector=function(t,n){var r,i,o,a,s,u,l,d,c,p;if(r=[],!t)return n;if(!n)return t;for(c=t.split(","),s=0,l=c.length;l>s;s++)for(a=c[s],a=a.trim()+"##",p=n.split(","),u=0,d=p.length;d>u;u++)o=p[u],o=o.trim(),"&"===o[0]?r.push(a+o.substr(1)):"^"===o[0]?(i=e.$shared.combineSelectors(a,o.substr(1)),i?r.push(i):(console.log("[FASHION] Could not combine selectors."),console.log(a,o.substr(1)),r.push(a+" "+o))):r.push(a+" "+o);return r.join(",")},window.fashion.$parser.createSelector=function(t,n,r){var i,o,a,u,l,p,h,f,m,w;if(f=new s(n,void 0,r),t.addSelector(f),-1===n.indexOf("$"))return f.name=f.name.replace(/\#\#/g,""),f;for(h="return ",u=0,i=new c,p=/\$([\w\-]+)/g,l=e.$runtimeMode.dynamic;a=p.exec(n);)a.index>u&&(h+="'"+n.substring(u,a.index)+"'+"),u=a.index+a[0].length,o=e.$parser.expressionExpander.localVariable,w=o(a[1],t,r),w&&(i.extend(w.bindings),h+=w.script+"+",(w.mode&e.$runtimeMode.scoped)===e.$runtimeMode.scoped&&(t.addRequirements([e.$runtimeCapability.scopedSelector]),l|=e.$runtimeMode.scoped));return n.length>u&&(h+="'"+n.substr(u)+"'+"),m=h.substr(0,h.length-1),(l&e.$runtimeMode.scoped)!==e.$runtimeMode.scoped&&(m=m.replace(/\#\#/g,"")),f.mode=l,f.name=new d(m,e.$type.String,0,i,l),f.name.generate(),f},window.fashion.$parser.parseBlock=function(e,t,n){var r,i,o;for(r=1,i=n;r>0&&(o=t.exec(e));)i=o.index+o[0].length,"}"===o[0]?r--:"{"===o[0]?r++:o[8]?r++:o[6]&&-1!==o[0].indexOf("{")&&r++;return e.substring(n,i-1).trim()},window.fashion.$parser.parseSelectorBody=function(t,n,r){var i,o,a,s,d,c,p,h,f,m,w,v,g,y,b,$;for(p=0,h=/[\s]*(\$?[\w\-\s]*)\:[\s]*(\[([\w\-\$\@]*)[\s]*([\w\-\$\@\%]*)[\s]*([\w\-\$\@\%]*)\]){0,1}[\s]*([^;}\n]*?)[\s]*(\![A-z0-9\-]+?)?[;}\n]/g,$=[];c=h.exec(t);)if(f=void 0,!(c.length<7)&&(m=e.$parser.parsePropertyValues(c[6],r,n),s=c[1],"$"!==s[0])){if(c[3]&&(f=new l(e.$parser.parsePropertyValue(c[3],r,!1),e.$parser.parsePropertyValue(c[4],r,!1),e.$parser.parsePropertyValue(c[5],r,!1))),w=0,null!=(null!=m?m.mode:void 0))w=m.mode;else if(m instanceof Array)for(v=0,y=m.length;y>v;v++)if(i=m[v],null!=i){if(i instanceof Array)for(g=0,b=i.length;b>g;g++)o=i[g],null!=(null!=o?o.mode:void 0)&&(w|=o.mode);null!=i.mode&&(w|=i.mode)}a=n.mode|w||0,d=new u(s,m,a,f),"!important"===c[7]&&(d.important=!0),n.addProperty(d),$.push(p++)}return $},window.fashion.$parser.parseScopedVariable=function(t,n,r,i,o){if("array"==typeof n&&"array"==typeof n[0])throw new Error("Variable declaration '"+t+"' cannot have comma separated values");if("!important"===r)throw new Error("Variable declaration '"+t+"' cannot be !important");return e.$parser.addVariable(o,t,n,r,i)},window.fashion.$parser.parsePropertyValues=function(e,t,n){var r,i,o,a;if(-1!==e.indexOf(",")){if(a=window.fashion.$parser.splitByTopLevelCommas(e),1===a.length)return window.fashion.$parser.parsePropertyValue(a[0],t,n);o=[];for(r in a)i=a[r],a[r]=i.trim();for(r in a)i=a[r],o[r]=window.fashion.$parser.parsePropertyValue(i,t,n,!0,!0);return o}return window.fashion.$parser.parsePropertyValue(e,t,n)},window.fashion.$parser.parsePropertyValue=function(t,n,r,i,o){var a,s,u,l,d,c;if(null==i&&(i=!0),null==o&&(o=!1),o||"string"==typeof t&&-1!==t.indexOf(" ")){if(a=e.$parser.splitByTopLevelSpaces(t),!o&&1===a.length)return window.fashion.$parser.parseSingleValue(t,n,r);for(l=function(){var t,i,o;for(o=[],t=0,i=a.length;i>t;t++)s=a[t],o.push(e.$parser.parseSingleValue(s,n,r));return o}(),l.mode=0,d=0,c=l.length;c>d;d++)u=l[d],l.mode|=u.mode||0;return l}return window.fashion.$parser.parseSingleValue(t,n,r)},window.fashion.$parser.identifyExpression=function(){return/(([\s][\+\-\/\*\=][\s])|\s(\&\&|\|\|)\s|if\s.*?\sthen\s|\selse\s|[\(\)\[\]]|\@|\$)/g},window.fashion.$parser.parseSingleValue=function(t,n,r,i){return null==i&&(i=!1),t&&"string"==typeof t&&t.match(e.$parser.identifyExpression())?window.fashion.$parser.parseExpression(t,n,r,window.fashion.$functions,window.fashion.$globals,!0,i):t},window.fashion.$parser.parseExpression=function(t,n,r,i,o,a,s,u){var l,d,p,h,f,m,w,v,g,y,b,$,S,O,x,F,I,A,N,E,M,H,P,T,C,k;for(null==a&&(a=!0),null==s&&(s=!1),null==u&&(u=!0),f=e.$parser.expressionExpander,b=window.fashion.$parser.matchParenthesis,g=e.$parser.makeExpression.bind(this,a,s,u),x=t,$=e.$runtimeMode["static"],l=new c,H=[],T=[],w=!1,F=0,O=function(t,n,r){return x=e.$parser.spliceString(x,t+F,n,r),F+=r.length-n},S=/(\$([\w\-]+)\s*?\=|\@(self|this|parent)\.?([a-zA-Z0-9\-\_\.]*)|\$([\w\-]+)|\@([\w\-]+)|(\#[0-9A-Fa-f]{3,6})|([\-]{0,1}([\.]\d+|\d+(\.\d+)*)[a-zA-Z]{1,4})|([\w\-\@\$]*)\(|\)([^\s\)]*)|if(.*?)then(.*?)else(.*)|if(.*?)then(.*)|[`'"](.*?)[`'"])/g,A=!1,y=0;!A&&(I=S.exec(t));)y++,p=void 0,N=I.index,v=I[0].length,h=N+v,I[2]?(p=f.localVariable(I[2],n,r,!0),w=!0):I[3]?p=f.relativeObject(I[3],I[4]):I[5]?p=f.localVariable(I[5],n,r):I[6]?p=f.globalVariable(I[6],o,n):I[7]?p=f.hexColor(I[7]):I[8]?p=f.numberWithUnit(I[8]):I[11]&&(C=b(S,t,h),d=C.body,E=C.unit,d||(d=t.substring(h,t.length-1),A=!0),v+=d.length+1,E&&(v+=E.length),p=f["function"](I[11],d,E,arguments)),I[13]&&(p=f.ternary(I[13],I[14],I[15],arguments,a)),I[16]&&(p=f.ternary(I[16],I[17],void 0,arguments,a)),I[18]&&(p=f.string(I[18])),p&&(p.script&&O(N,v,p.script),p.mode&&($|=p.mode),p.bindings&&l.extend(p.bindings),H.push(void 0===p.type?e.$type.Unknown:p.type),T.push(p.unit||""));return 0===y?t.match(/[^0-9\-\.\s]/)?"true"===t.toLowerCase()||"false"===t.toLowerCase()?g(t,e.$type.Boolean,"",void 0,0):(t=JSON.stringify(t.trim()),g(t,e.$type.String,"",void 0,0)):g(t,e.$type.Number,"",void 0,0):(k=e.$parser.determineExpressionType(H,T,t),M=k.type,P=k.unit,w&&(P=void 0),m=g(x,M,P,l,$),a&&m.generate(),m)},window.fashion.$parser.makeExpression=function(t,n,r,i,o,a,s,u){return i=e.$parser.wrapExpressionScript(t,n,r,i,o,a),new d(i,o,a,s,u)},window.fashion.$parser.wrapExpressionScript=function(e,t,n,r,i,o){return n?e?!t&&o&&"string"==typeof o?"return ("+r+") + '"+o+"'":"return "+r:"{value: "+r+", type: "+i+", unit: '"+o+"'}":!t&&o&&"string"==typeof o?"("+r+") + '"+o+"'":""+r},window.fashion.$parser.spliceString=function(e,t,n,r){return e.substr(0,t)+r+e.substr(t+n)},window.fashion.$parser.matchParenthesis=function(e,t,n){var r,i,o,a;for(i=0,r="",o=n;a=e.exec(t);)if(-1!==a[0].indexOf("("))i++;else{if(-1!==a[0].indexOf(")")&&0===i--)return r+=t.substr(o,a.index-o),{body:r,unit:a[12]};r+=t.substr(o,a.index-o+a[0].length),o=a.index+a[0].length}return console.log("[FASHION] Could not match parens: "+t)},window.fashion.$parser.determineExpressionType=function(t,n,r){var i,o,a,s,u;o=a=void 0;for(i in t)if(s=t[i],s!==e.$type.Unknown){if(o){if(s!==o){if(s!==e.$type.String)return console.log("[FASHION] Found mixed types in expression: '"+r+"'"),{};o=e.$type.String}}else o=s;if(s===e.$type.Number||s===e.$type.Color){if(u=n[i],""===u)continue;if(a){if(u!==a)return console.log("[FASHION] Conflicting units '"+u+"' and '"+typeUnit[1]+"'"),console.log("[FASHION] Unit conversion will be implemented in the future"),{}}else a=u}}return{type:o,unit:a}},window.fashion.$parser.expressionExpander={string:function(t){return new d(JSON.stringify(t),e.$type.Unknown,"",void 0,0)},hexColor:function(t){return new d(JSON.stringify(t),e.$type.Color,"",void 0,0)},localVariable:function(t,n,r,i){var o,a,s,u,l,p,h,f,m,w,v;if(null==i&&(i=!1),m=n.variables,l=m[t],!l)return console.log("[FASHION] Variable $"+t+" does not exist.");for(u=!1;null!=r;){if(null!=l[r.name]){s=r.name,w=l[r.name],h=w.type,f=w.unit,a=w.mode,a|=e.$runtimeMode.individual,u=!0;break}r=r.parent}if(!u){if(!l[0]&&!l[0])return console.log("[FASHION] $"+t+" does not have a global scope.");s=0,v=l[0]||l[0],h=v.type,f=v.unit,a=v.mode}return i?p="v('"+t+"',"+JSON.stringify(s)+",e).value =":(o=new c("variable",[t,s]),p="v('"+t+"',"+JSON.stringify(s)+",e).value"),new d(p,h,f,o,a)},globalVariable:function(e,t,n){var r,i,o;return e=e.toLowerCase(),(o=t[e])?(n.addGlobalDependency(e,o),r=new c("global",e),i="g."+e+".get()",new d(i,o.type,o.unit,r,o.mode)):console.log("[FASHION] Variable $"+e+" does not exist.")},numberWithUnit:function(t){var n,r,i;return r=window.fashion.$type.Number,n=e.$runtimeMode["static"],i=window.fashion.$shared.getUnit(t,r,e.$type,e.$unit),0/0===i.value&&(i.value=0),new d(i.value,r,i.unit,!1,n)},relativeObject:function(t,n){var r,i,o,a,s;return"parent"===t&&(n=".parent"+n),r=n.split("."),i=r[r.length-1],null==n?a=e.$type.Element:"top"===i||"bottom"===i||"left"===i||"right"===i||"number"===i||"width"===i||"height"===i?(a=e.$type.Number,s="px"):a=e.$type.String,o=n?"e('"+n+"','"+t+"')":"e(void 0, "+JSON.stringify(t)+")",new d(o,a,s,!1,e.$runtimeMode.individual)},"function":function(e,t,n,r){var i,o,a,s,u,l,p,h,f,m,w,v,g,y,b,$,S,O,x,F,I,A,N;if(g=r[0],y=r[1],S=r[2],h=r[3],f=r[4],x=y.variables,p=h[e],!p)return console.log("[FASHION] Function $"+e+" does not exist.");if(t.length>1){for(a=window.fashion.$parser.splitByTopLevelCommas(t),l=[],w=[],F=0,A=a.length;A>F;F++)i=a[F],(o=i.match(/([a-zA-Z0-9\-\'\"]+)\s*\:\s*(.*)/))?(v="'"+o[1]+"': ",v+=window.fashion.$parser.parseExpression(o[2],y,S,h,f,0).script,w.push(v)):l.push(window.fashion.$parser.parseExpression(i,y,S,h,f,!1));w.length>0&&l.push({script:"{"+w.join(",")+"}"})}else l=[];for($=["t"],m=p.mode,s=new c,I=0,N=l.length;N>I;I++)u=l[I],null!=u.script&&(m|=u.mode,$.push(u.script),s.extend(u.bindings));return O=""!==p.unit?p.unit:void 0!==p.unitFrom?l[p.unitFrom].unit:"",y.addFunctionDependency(e,p),b="f['"+e+"'].get.call("+$.join(",")+")",new d(b,p.type,n||O,s,m)},ternary:function(e,t,n,r){var i,o,a,s,u,l,p,h,f;return u=r[0],p=r[1],f=r[2],o=r[3],a=r[4],i=new c,s=0,l=function(e){var t;return t=window.fashion.$parser.parseExpression(e,p,f,o,a,!1,!0,!1),i.extend(t.bindings),s|=t.mode,t},e=l(e.trim()),t=l(t.trim()),n=l(n.trim()),t.type!==n.type?console.log("[FASHION] Ternary results must return the same type"):t.unit!==n.unit?console.log("[FASHION] Ternary results must return the same unit"):(h="("+e.script+" ? "+t.script+" : "+n.script+")",new d(h,t.type,t.unit,i,s))}},window.fashion.$parser.addVariable=function(t,n,r,i,o){var s,u,l,c,p,h;if(r=e.$parser.parseSingleValue(r,t,o,!0),h=new a(n,r,null!=o?o.name:void 0),"!static"===i&&(h.mode=e.$runtimeMode["static"]),t.addVariable(h),r instanceof d)s=r.type,l=r.unit;else{if(p=h.raw||h.value,!p)return;s=window.fashion.$shared.determineType(p,e.$type,e.$typeConstants),c=window.fashion.$shared.getUnit(p,s,e.$type,e.$unit),u=c.value,l=c.unit}return h.annotateWithType(s,l,u)},window.fashion.$processor={process:function(t){return t=window.fashion.$processor.blocks(t,e.$blocks),t=window.fashion.$processor.properties(t,e.$properties)}},window.fashion.$processor.api={throwError:function(e,t){return console.log("[FASHION: "+e+"] "+t)},setProperty:function(t,n,r,i){var o;return o=new u(r,i,i.mode||e.$runtimeMode["static"]),t.insertProperty(o,n+1)},getProperty:function(e,t,n){var r;return r=void 0,e.forEachMatchingSelector(t,function(e){return e.forEachPropertyNamed(n,function(e){return r?!1:r=e.value}),r?!1:void 0}),r},addRule:function(t,n,r){var i;return i=e.$parser.createSelector(t,n),e.$parser.parseSelectorBody(r+"\n",i,t)},addScript:function(e,t){return e.addScript(t)},requireModule:function(e,t){return e.addRequirements([t])},parseValue:function(t,n,r){return r&&"string"==typeof r?e.$parser.parseSingleValue(r,n,t):""},determineType:function(t){return t.type?t.type:"string"==typeof t?window.fashion.$shared.determineType(t,e.$type,e.$typeConstants):e.$type.Unknown},determineUnit:function(t){return t.unit?t.unit:"string"==typeof t?window.fashion.$shared.getUnit(t,e.$type.Number,e.$type,e.$unit).unit:""}},window.fashion.$processor.blocks=function(e,t){var n,r,i,o,a,s;a=window.fashion.$processor.api,s=e.blocks;for(r in s)i=s[r],o=t[i.type],o&&(n={throwError:a.throwError.bind(0,i.type),addRule:a.addRule.bind(0,e),addScript:a.addScript.bind(0,e),requireModule:a.requireModule.bind(0,e),parseValue:a.parseValue.bind(0,e,"b"+r),parse:a.parseBody.bind(0,e),runtimeObject:e.dependencies.blocks[i.type].runtimeObject,addVariable:a.addVariable.bind(0,e)},o.compile.call(n,i.arguments,i.body));return e},window.fashion.$processor.api.parseBody=function(t,n){return e.$parser.parse(n,t)},window.fashion.$processor.api.addVariable=function(t,n,r){return e.$parser.addVariable(t,n,r)},window.fashion.$processor.properties=function(t,n){var r,i,o,a,s,u,l,d,c,p,h;i=window.fashion.$processor.api,l=e.$runtimeMode,p=t.selectors;for(c in p){d=p[c],o=-1,h=d.properties;for(a in h)s=h[a],o++,u=n[s.name],u&&(r={throwError:i.throwError.bind(0,s),setProperty:i.setProperty.bind(0,d,o),getProperty:i.getProperty.bind(0,t,d.name),parseValue:i.parseValue.bind(0,t,[c,a]),determineType:i.determineType,determineUnit:i.determineUnit},(u.mode&l.individual)===l.individual?(t.addPropertyDependency(s.name,u),s.mode|=u.mode):(n[s.name].compile.call(r,s.value),u.replace&&d.deleteProperty(o--)))}return t},window.fashion.$shared={},window.fashion.$shared.getVariable=function(e,t,n,r,i,o,a){var s,u;return u=e[i],u?"string"==typeof u||"number"==typeof u?{value:u}:u[0]?u[0]:o&&0!==o?(u.values[o]||this.throwError("$"+i+" does not have a value for scope '"+o+"'"),s=null!=a?this.getScopeOverride(a,i,o)||u.values[o]:u.values[o],s.evaluate?{value:this.evaluate(u["default"],e,t,n,r,a)}:{value:s}):void 0!==u["default"]?u["default"].evaluate?{value:this.evaluate(u["default"],e,t,n,r,a)}:{value:u["default"]}:this.throwError("Variable '"+i+"' does not exist."):(console.log("[FASHION] Could not find variable '"+i+"'"),{value:void 0})},window.fashion.$shared.evaluate=function(t,n,r,i,o,a,s){var u,l,d,c,p,h,f,m,w,v;return null==s&&(s=!0),c=!1,d=(null!=(w=this.runtimeModes)?w.individual:void 0)||("undefined"!=typeof e&&null!==e&&null!=(v=e.$runtimeMode)?v.individual:void 0),l=function(e){return function(t){var s,u,l,p,h,f,m,w;if("string"==typeof t)return t;if("number"==typeof t)return t;if(f=[],h=function(t,a,s){var u;return u=e.getVariable(n,r,i,o,t,a,s),f.push({name:t,object:u,value:u.value}),u},((t.mode&d)===d||null!=a)&&null!=e.elementFunction){if(null==a)return e.throwError("Expression requires element but none provided");if(u=e.elementFunction(a),null==u)return e.throwError("Could not generate element function")}if(t.evaluate){try{p=t.evaluate(h,r,i,o,u)}catch(v){return s=v,console.log("[FASHION] Could not evaluate: "+t.evaluate),console.log(s),console.log(s.stack)}if(t.important===!0&&(c=!0),t.setter)for(m=0,w=f.length;w>m;m++)l=f[m],l.object.value!==l.value&&e.setVariable(l.name,l.object.value);return p}return t.value?t.value:void 0}}(this),u=function(e,t){return t&&s?e+" !important":e},t instanceof Array?0===t.length?"":t[0]instanceof Array?u(function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)m=t[e],r.push(function(){var e,t,n;for(n=[],e=0,t=m.length;t>e;e++)f=m[e],n.push(l(f));return n}().join(" "));return r}().join(", "),c):(p=function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)h=t[e],r.push(l(h));return r}().join(" "),u(p,c)):u(l(t),c)},window.fashion.$shared.combineSelectors=function(t,n,r){var i,o,a,s,u,l,d,c,p,h,f,m,w,v,g,y,b,$,S,O,x,F,I,A,N,E,M,H;for(null==r&&(r=10),b=function(e){var t,n,r;if(0===e.length)return e;for(t=n=r=e.length-1;0>=r?0>=n:n>=0;t=0>=r?++n:--n)if("#"===e[t][0][0])return e.slice(t);return e},v=function(t,n){var r,i,o,a,s,u,l,d,c,p,h,f;if(null==t||0===t.length)return[n];if(null==n||0===n.length)return[t];for(s=[],o=d=0,h=t.length;h>=0?h>=d:d>=h;o=h>=0?++d:--d)for(a=t.slice(0,o),u=t.slice(o),f=v(u,n.slice(1)),c=0,p=f.length;p>c;c++)l=f[c],s.push(e.$buildArray(a,[n[0]],l)),l[0]&&n[0]&&l[0][1]!==n[0][1]&&(l[0][0]===n[0][0]&&(l[0][1]=2,s.push(e.$buildArray(a,l))),2!==l[0][1]&&2!==n[0][1]&&(r=n[0][0],i=l[0][0],"#"===r[0]&&"#"!==i[0]||"."===r[0]||"["===r[0]?(l[0]=[i+r,2],s.push(e.$buildArray(a,l))):("#"===i[0]&&"#"!==r[0]||"."===i[0]||"["===i[0])&&(l[0]=[r+i,2],s.push(e.$buildArray(a,l)))));return s},a=function(e){var t,n,r;t="";for(n in e)r=e[n],n>0&&(t+=" "),t+=r[0];return t},m=function(){var e,n,r,i;for(r=t.split(","),i=[],e=0,n=r.length;n>e;e++)o=r[e],i.push(function(){var e,t,n,r;for(n=o.trim().split(" "),r=[],e=0,t=n.length;t>e;e++)$=n[e],r.push([$,0]);return r}());return i}(),p=function(){var e,t,r,i;for(r=n.split(","),i=[],e=0,t=r.length;t>e;e++)o=r[e],i.push(function(){var e,t,n,r;
for(n=o.trim().split(" "),r=[],e=0,t=n.length;t>e;e++)$=n[e],r.push([$,1]);return r}());return i}(),y=[],S=0,I=m.length;I>S;S++)for(f=m[S],O=0,A=p.length;A>O;O++){for(c=p[O],s=!1,d=x=0,H=Math.min(f.length,c.length);H>=0?H>x:x>H;d=H>=0?++x:--x)if(f[d][0]!==c[d][0]){w=f.slice(0,d),f=f.slice(d),c=c.slice(d),s=!0;break}if(s){if(f=b(f),c=b(c),f.length*c.length>r)return!1;for(h=v(f,c),F=0,N=h.length;N>F;F++)if(g=h[F],0!==g[g.length-1][1]){for(i=a(e.$buildArray(w,g)),l=!1,M=0,E=y.length;E>M;M++)if(u=y[M],i===u){l=!0;break}l||y.push(i)}}else y.push(a(c))}return y.join(",")};var o=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};window.fashion.$shared.determineType=function(e,t,n){var r,i;return"number"==typeof e?t.Number:(i=function(e){return'"'===e[0]||"'"===e[0]?t.String:e.charCodeAt(0)>47&&e.charCodeAt(0)<58||"-"===e[0]||"."===e[0]?t.Number:"#"===e[0]||0===e.toLowerCase().indexOf("rgb")?t.Color:r(e)||window.fashion.$type.Unknown},r=function(e){return n?n.colors&&o.call(n.colors,e)>=0?t.Color:void 0:t.Unknown},i(e))},window.fashion.$shared.getUnit=function(e,t,n,r){var i;return"number"==typeof e?{value:parseFloat(e),unit:""}:(i=function(){var t,n,i;return n=/([0-9\-\.]*)(.*?)/,t=n.exec(e),t.length<2?{value:parseFloat(e),unit:""}:(i=e.replace(t[1],""),r=r.Number[i],r?{value:parseFloat(t[1]),unit:r}:{value:parseFloat(t[1]),unit:""})},t===n.Number?i():(t===n.String&&("'"===e[0]||'"'===e[0])&&(e=e.substring(1,e.length-1)),{value:e,unit:""}))},window.fashion.$shared.timeInMs=function(e){return e?"number"==typeof e?e:"ms"===e.unit?e.value:"s"===e.unit?1e3*e.value:parseInt(e.value):0},window.fashion.color={cssTOjs:function(t,n){var r;return null==n&&(n=e.color),"#"===t[0]?n.hexTOrgb(t):(r=t.match(/rgba?\((.*?),(.*?),([^,]*),?(.*?)\)/))?{r:parseInt(r[1]),g:parseInt(r[2]),b:parseInt(r[3]),a:parseFloat(r[4]||1)}:void 0},hexTOrgb:function(e){var t,n;return void 0===e?{r:0,g:0,b:0}:(n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,e=e.replace(n,function(e,t,n,r){return t+t+n+n+r+r}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:0,g:0,b:0})},rgbTOhex:function(e,t,n){var r,i;return"object"==typeof e&&(i=[e.r,e.g,e.b],e=i[0],t=i[1],n=i[2]),r=function(e){var t;return"string"==typeof e&&(e=parseInt(e)),t=e.toString(16),1===t.length?"0"+t.toUpperCase():t.toUpperCase()},"#"+r(parseInt(e))+r(parseInt(t))+r(parseInt(n))},hsbTOrgb:function(e,t,n){var r,i,o;return"object"==typeof e&&(o=[e.h,e.s,e.b],e=o[0],t=o[1],n=o[2]),i=Math,t/=100,n/=100,r=function(r){return 255*(t*n*i.max(i.min(i.abs((e+r)/60%6-3)-1,1),0)+n*(1-t))},{r:r(0),g:r(240),b:r(120)}},rgbTOhsb:function(e,t,n){var r,i,o,a,s,u,l,d,c,p,h,f;if("object"==typeof e&&(c=[e.r,e.g,e.b],e=c[0],t=c[1],n=c[2]),d=Math.max(e,t,n),e/=255,t/=255,n/=255,o=Math.max(e,t,n),a=Math.min(e,t,n),o===a)return{h:0,s:0,b:d/2.55};switch(s=o-a,a){case e:p=[t-n,3],l=p[0],i=p[1];break;case t:h=[n-e,5],l=h[0],i=h[1];break;case n:f=[e-t,1],l=f[0],i=f[1]}return r=60*(i-l/s)%360,u=s/o*100,{h:r,s:u,b:d/2.55}}},window.fashion.$actualizer={actualize:function(t){var n,r,i,o,a,s,u,l,d,c;return l=e.$runtimeMode,n=e.$actualizer,n.separateTransitions(t),c=n.splitIndividual(t.selectors),i=c.cssSels,o=c.individualSels,n.hideIndividualizedSelectors(i,t.scripts,o),s=n.filterStatic(i),d=n.generateRuntimeData(t,s,o),n.addBindings(d,s,o),n.autoAddRequirements(d,t,t.selectors),n.addRuntimeFunctions(d,t),n.removeUnnecessaryModuleData(d),t.scripts.push("document.dispatchEvent(new Event('"+e.readyEvent+"'));"),r=e.styleHeader+n.createCSS(d,i),u=n.minifier.runtimeData(d),a=n.createJS(d,u,t.scripts),{css:r,js:a}}},window.fashion.$actualizer.jsHeader="/*\\\n|*| GENERATED BY FASHION "+e.version+"\n|*| "+e.url+" - "+e.author+"\n\\*/",window.fashion.$actualizer.createJS=function(t,n,r){return""+window.fashion.$actualizer.jsHeader+"\nwindow."+e.minifiedObject+" = "+e.$stringify(n)+";\nwindow."+e.runtimeObject+" = "+e.$stringify({config:t.config,modules:t.modules,runtime:t.runtime,elements:{},selectors:{},individual:{},variables:{}})+";\nFSEXPAND = "+e.$stringify(e.$actualizer.minifier.expandRuntimeData)+";\nFSEXPAND(window."+e.minifiedObject+",window."+e.runtimeObject+");\nFSREADY = function(r){d=document;c=\"complete\";\n	if(d.readyState==c)r()\n	else d.addEventListener('readystatechange',function(){if(d.readyState==c)r()})\n}\n"+r.join("\n")},window.fashion.$actualizer.splitIndividual=function(t){var n,r,i,o,a,u,l,d,c,p,h,f;i={},d={},n=u=e.styleHeaderRules,a=e.$runtimeMode.individual;for(o in t){h=t[o],r=new s(h.name,h.mode),l=new s(h.name,h.mode),f=h.properties;for(c in f)p=f[c],(p.mode&a)===a?l.addProperty(p):r.addProperty(p);r.properties.length>0&&(r.rule=n++,i[o]=r),l.properties.length>0&&(l.rule=u++,d[o]=l)}return{cssSels:i,individualSels:d}},window.fashion.$actualizer.filterStatic=function(e){var t,n,r,i,o,a,u,l;i={};for(r in e){u=e[r],t=new s(u.name,u.mode),t.rule=u.rule,t.properties={},n=!1,l=u.properties;for(o in l)a=l[o],a.mode>0&&(n=!0,t.properties[o]=a);n&&(i[r]=t)}return i};var o=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};window.fashion.$actualizer.addBindings=function(t,n,r){return e.$actualizer.bindSelectors(t,n,"s"),e.$actualizer.bindSelectors(t,r,"i"),e.$actualizer.bindVariables(t)},window.fashion.$actualizer.bindSelectors=function(t,n,r){var i,o,a,s,u,l,c,p,h;p=e.$runtimeMode.triggered,h=[];for(c in n)l=n[c],c=parseInt(c),l.name instanceof d&&(i=[r,c],e.$actualizer.bindExpression(t,l.name,i)),h.push(function(){var n,h;n=l.properties,h=[];for(s in n)u=n[s],(u.mode&p)!==p&&(i=[r,c,e.$actualizer.makeCamelCase(u.name)],h.push(u.value instanceof Array?function(){var n,r,s,l;for(s=u.value,l=[],n=0,r=s.length;r>n;n++)a=s[n],l.push(a instanceof Array?function(){var n,r,s;for(s=[],n=0,r=a.length;r>n;n++)o=a[n],s.push(o instanceof d?e.$actualizer.bindExpression(t,o,i):void 0);return s}():a instanceof d?e.$actualizer.bindExpression(t,a,i):void 0);return l}():u.value instanceof d?e.$actualizer.bindExpression(t,u.value,i):void 0));return h}());return h},window.fashion.$actualizer.bindVariables=function(t){var n,r,i,o,a,s,u;s=t.variables,u=[];for(a in s)o=s[a],u.push(function(){var s,u;s=o.values,u=[];for(r in s)i=s[r],i instanceof d?(n=["v",a,r],u.push(e.$actualizer.bindExpression(t,i,n))):u.push(void 0);return u}());return u},window.fashion.$actualizer.bindExpression=function(e,t,n){var r,i,a,s,u,l,d,c,p,h,f,m,w;for(f=t.bindings.variables,d=0,p=f.length;p>d;d++)s=f[d],u=s[0],l=s[1],a=e.variables[u],a?a.addDependent(n,l):console.log("[FASHION] Could not bind to nonexistent variable: '"+u+"'");for(m=t.bindings.globals,w=[],c=0,h=m.length;h>c;c++)if(i=m[c],r=e.modules.globals[i]){if(null==r.dependents&&(r.dependents=[]),o.call(r.dependents,n)>=0)continue;w.push(r.dependents.push(n))}else w.push(console.log("[FASHION] Could not bind to nonexistent global: '"+u+"'"));return w},window.fashion.$actualizer.makeCamelCase=function(e){return null==e?"":e.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})};var b;b=function(){function t(t,n,r){this.config=e.runtimeConfig,this.selectors=n,this.variables=r,this.modules=t.dependencies,this.runtime={}}return t.prototype.addRuntimeModule=function(e){var t,n,r;r=e.functions;for(n in r){if(t=r[n],this.runtime[n])return;this.runtime[n]=t}},t}();var $,o=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};$=function(){function t(t,n,r,i){this.name=t,this.type=n,this.unit=r,this.mode=i||e.$runtimeMode["static"],this.scopes=[],this.values={},this.dependents={},this["default"]=void 0}return t.prototype.addScope=function(e,t){return this.values[e]=t,0===e||"0"===e?this["default"]=t:this.scopes.push(e)},t.prototype.addDependent=function(e,t){return null==this.dependents[t]&&(this.dependents[t]=[]),o.call(this.dependents[t],e)>=0?void 0:this.dependents[t].push(e)},t}(),window.fashion.$actualizer.generateRuntimeData=function(t,n,r){var i,o;return o=e.$actualizer.actualizeVariables(t,n,r),i=new b(t,n,o),r&&(i.individual=r),i},window.fashion.$actualizer.actualizeVariables=function(e){var t,n,r,i,o,a,s,u,l,d;l={},d=e.variables;for(s in d){i=d[s],o=a=-1,t=0;for(n in i)u=i[n],null!=u.type&&(o=u.type),null!=u.unit&&(a=u.unit),null!=u.mode&&(t|=u.mode);r=new $(s,o,a,t);for(n in i)u=i[n],r.addScope(n,u.value);l[s]=r}return l},window.fashion.$actualizer.removeUnnecessaryModuleData=function(e){var t,n,r,i;r=e.modules.blocks,i=[];for(n in r)t=r[n],t.runtimeObject&&i.push(e.modules.blocks[n]=t.runtimeObject);return i},window.fashion.$actualizer.createCSS=function(t,n){var r,i,o,a,s,u,l,d,c,p,h;a=e.$actualizer.evaluationFunction(t),r="";for(s in n){d=n[s],i=[],h=d.properties;for(u in h)l=h[u],null==l.value&&console.log(d),(d.mode&e.$runtimeMode.globalDynamic)>2||(p=l.value,o=a(d.mode===e.$runtimeMode["static"]?"object"==typeof p&&p.value?p.value:p:p),i.push(e.$actualizer.cssPropertyTemplate(l,o)));c=a(d.name),r+=e.$actualizer.cssSelectorTemplate(c,i)}return r},window.fashion.$actualizer.cssPrefixes=["","-webkit-","-moz-","-ms-"],window.fashion.$actualizer.separateTransitions=function(t){var n,r,i,o,a,s,l,d,c,p,h,f,m,w,v;n=e.$actualizer.evaluationFunction(null,t),a=window.fashion.$actualizer.cssPrefixes,p=0,m=t.selectors,v=[];for(r in m){d=m[r],h=[],w=d.properties;for(i in w)s=w[i],"length"!==i&&s.value.transition&&(l=s.value.transition,l.property=s.name,h.push(l),p|=l.easing.mode|l.duration.mode|l.delay.mode);f=function(){var e,t,n;for(n=[],e=0,t=h.length;t>e;e++)c=h[e],n.push([c.property,c.duration,c.easing,c.delay]);return n}(),f&&0!==f.length&&(s=new u("transition",f,p),v.push(function(){var e,t,n;for(n=[],e=0,t=a.length;t>e;e++)o=a[e],n.push(d.addProperty(s.copyWithName(o+"transition")));return n}()))}return v},window.fashion.$actualizer.evaluationFunction=function(t,n){return function(r){return window.fashion.$shared.evaluate.call(window.fashion.$shared,r,t?t.variables:n.variables,e.$globals,e.$functions,t?t.runtime:{})}},window.fashion.$actualizer.cssPropertyTemplate=function(e,t){return""+e.name+": "+t+(e.important?" !important":"")+";"},window.fashion.$actualizer.cssSelectorTemplate=function(e,t){return""+e.replace(/\#\#/g,"")+" {"+t.join("")+"}\n"},window.fashion.$actualizer.cssTransitionTemplate=function(e,t,n,r){return""+e+" "+(t||"1s")+" "+(n||"")+(r?" "+r:"")},window.fashion.$runtimeCapability={variables:"variables",scopedVariables:"scopedVariables",scopedSelector:"scopedVariableSelector",individualProps:"individualized",liveProps:"liveProperties",globals:"globals"},window.fashion.$actualizer.autoAddRequirements=function(t,n){var r,i,o,a;if(r=n.addRequirements.bind(n),"{}"!==JSON.stringify(t.variables)){r([e.$runtimeCapability.variables]),a=t.variables;for(i in a)o=a[i],o.scopes.length>0&&r([e.$runtimeCapability.scopedVariables])}return e.$actualizer.hasPropertyMode(n.selectors,e.$runtimeMode.individual)&&r([e.$runtimeCapability.individualProps]),e.$actualizer.hasPropertyMode(n.selectors,e.$runtimeMode.live)&&r([e.$runtimeCapability.liveProps]),"{}"!==JSON.stringify(t.modules.globals)?r([e.$runtimeCapability.globals]):void 0},window.fashion.$actualizer.hasPropertyMode=function(e,t){var n,r,i,o,a;for(n in e){o=e[n],a=o.properties;for(r in a)if(i=a[r],(i.mode&t)===t)return!0}return!1},window.fashion.$actualizer.addRuntimeFunctions=function(t,n){var r,i,o,a,s,u,l,d;if(n.requires)for(r=0;r<n.requires.length;)if(s=n.requires[r++],void 0!==s){if(a=e.$runtimeModules[s],!a)return console.log("[FASHION] Could not find module "+s);if(n.addRequirements(a.requires),t.addRuntimeModule(a),a.initializers.length>0)for(d=a.initializers,u=0,l=d.length;l>u;u++)o=d[u],i="window."+e.runtimeObject+".runtime."+o+".bind(FASHION.runtime)",n.addScript("FSREADY("+i+");")}},window.fashion.$actualizer.hideIndividualizedSelectors=function(t,n,r){var i,o,a,l,d,c,p,h;o=[];for(a in r)p=r[a],"string"==typeof p.name&&o.push(p.rawName);if(o&&!(o.length<1)){l=o.join(","),i=new s(l,e.$runtimeMode["static"]),i.addProperty(new u("visibility","hidden")),t.hs=i,c=e.styleHeaderRules;for(d in t)h=t[d],c++;return n.push("FSREADY(function(){\n	ss = document.getElementById(FASHION.config.cssId);\n	if(ss&&ss.sheet)ss.sheet.deleteRule("+(c-1)+");\n});")}},window.fashion.$actualizer.minifier={runtimeData:function(e){var t,n,r,i,o,a;return t=window.fashion.$actualizer.minifier,o=r=0,[function(){var r,o;r=e.selectors,o=[];for(n in r)i=r[n],o.push(t.selector(n,i));return o}(),function(){var r,i;r=e.variables,i=[];for(n in r)a=r[n],i.push(t.variable(a));return i}(),function(){var r,o;r=e.individual,o=[];for(n in r)i=r[n],o.push(t.selector(n,i));return o}()]},selector:function(e,t){var n,r,i,o,a,u;if(n=window.fashion.$actualizer.minifier,t&&t instanceof s){r=t.name instanceof d?n.expression(t.name):t.name,o=[],u=t.properties;for(i in u)a=u[i],o.push(n.property(a));return["s",parseInt(e),t.rule,r,t.mode,o]}},property:function(e){var t,n,r,i,o,a,s;if(t=window.fashion.$actualizer.minifier,e&&e instanceof u){if(e.value instanceof Array)for(i=[],s=e.value,o=0,a=s.length;a>o;o++)r=s[o],i.push(r instanceof d?t.expression(r):r);else i=e.value instanceof d?t.expression(e.value):e.value;return n=e.important?1:0,["p",e.name,e.mode,n,i]}},expression:function(e){return e&&e instanceof d?["e",e.mode,e.type,e.unit,e.setter,e.script]:void 0},variable:function(e){var t,n,r,i,o,a,s,u;if(t=window.fashion.$actualizer.minifier,e&&e instanceof $){n=e["default"]instanceof d?t.expression(e["default"]):e["default"],s={},r=!1,u=e.values;for(o in u)a=u[o],r=!0,s[o]=a instanceof d?t.expression(a):a;return i=["v",e.name,e.type,e.unit,e.mode,n,e.dependents],r&&i.push(s),i}}},window.fashion.$actualizer.minifier.expandRuntimeData=function(e,t){var n,r,i,o,a,s,u,l,d,c,p,h,f,m,w,v;for(r={s:function(e){return{rule:e[2],name:n(e[3]),mode:e[4],properties:n(e[5])}},p:function(e){return{name:e[1],mode:e[2],important:e[3],value:n(e[4])}},e:function(e){return{mode:e[1],type:e[2],unit:e[3],setter:e[4],evaluate:Function("v","g","f","t","e",e[5])}},v:function(e){return{name:e[1],type:e[2],unit:e[3],mode:e[4],"default":n(e[5]),dependents:e[6],values:n(e[7])}}},n=function(e){var t,n,i,o;if(!(e instanceof Array))return e;if(0===e.length)return 0;if("string"==typeof e[0]&&r[e[0]])return r[e[0]](e);for(n=[],i=0,o=e.length;o>i;i++)t=e[i],n.push(r[t[0]]?r[t[0]](t):t);return n},f=e[0],u=0,c=f.length;c>u;u++)i=f[u],o=n(i),o.sheet="s",t.selectors[i[1]]=o;for(m=e[1],l=0,p=m.length;p>l;l++)a=m[l],s=n(a),t.variables[s.name]=s;if(e[2]){for(w=e[2],v=[],d=0,h=w.length;h>d;d++)i=w[d],o=n(i),o.sheet="i",v.push(t.individual[i[1]]=o);return v}};var S;S=function(){function e(e,t,n){var r,i;this.name=e,this.requires=t,this.functions=n,this.initializers=[];for(i in n)r=n[i],"$"===i[0]&&this.initializers.push(i)}return e}(),window.fashion.$runtimeModules={},window.fashion.addRuntimeModule=function(e,t,n){return window.fashion.$runtimeModules[e]=new S(e,t,n)},e.addRuntimeModule("types",[],{determineType:window.fashion.$shared.determineType,getUnit:window.fashion.$shared.getUnit,timeInMs:window.fashion.$shared.timeInMs}),e.addRuntimeModule("evaluation",[],{evaluate_Shared:window.fashion.$shared.evaluate,evaluate:function(e,t,n){var r,i,o,a;if(null!=n){o=n,a=FASHION.variables;for(r in a)i=a[r],null==o[r]&&(o[r]=i)}else o=FASHION.variables;return this.evaluate_Shared(e,o,FASHION.modules.globals,FASHION.modules.functions,FASHION.runtime,t)}}),e.addRuntimeModule("colors",[],window.fashion.color),e.addRuntimeModule("errors",[],{throwError:function(e){return console.log("[FASHION] Runtime error: "+e),console.log((new Error).stack)}}),e.addRuntimeModule("wait",[],{wait:function(e,t){return setTimeout(t,e)}}),e.addRuntimeModule("variables",["evaluation","selectors","types","errors"],{getVariable:window.fashion.$shared.getVariable,variableValue:function(e,t){return this.getVariable(FASHION.variables,FASHION.modules.globals,FASHION.modules.functions,FASHION.runtime,e,t).value},setVariable:function(e,t,n){var r;return null==n&&(n=0),(r=FASHION.variables[e])?0===r.mode?this.throwError("Cannot change static variables"):(r.values[n]=t,n&&0!==n||(r["default"]=t),this.updateDependencies(e,n)):this.throwError("Variable '$"+e+"' does not exist")},updateDependencies:function(e,t){var n,r,i,o,a,s;if(null==t&&(t=0),r=FASHION.variables[e],null!=r.dependents[t]){for(a=r.dependents[t],s=[],i=0,o=a.length;o>i;i++)n=a[i],s.push("v"===n[0]?this.updateDependencies(n[1]):3===n.length?this.setPropertyOnSelector(n[0],n[1],n[2]):this.regenerateSelector(n[0],n[1]));return s}},$initWatchers:function(){var e,t,n,r,i,o;window[FASHION.config.variableObject]=t={},i=FASHION.variables,o=[];for(n in i)r=i[n],e=function(){return function(e){return{get:function(){return FASHION.runtime.variableValue(e)},set:function(t){return FASHION.runtime.setVariable(e,t)}}}}(this)(n),Object.defineProperty(t,n,e),o.push(Object.defineProperty(t,"$"+n,e));return o}}),e.addRuntimeModule("selectors",["evaluation","errors"],{runtimeModes:window.fashion.$runtimeMode,makeCamelCase:function(e){var t,n;return null==e||null==e.name?"":(null==e.jsName&&(n=e.name,t=n.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}),e.jsName=t),e.jsName)},setPropertyOnSelector:function(e,t,n){var r,i,o,a,s,u,l,d,c,p;if("i"===e)return this.setPropertyOnIndividual(t,n);for(u=FASHION.selectors[t],e=document.getElementById(FASHION.config.cssId).sheet,s=e.rules||e.cssRules,a=e.rules[u.rule],c=u.properties,p=[],l=0,d=c.length;d>l;l++)r=c[l],this.makeCamelCase(r)===n&&(r.important?(i=new RegExp(r.name+":.*?;","g"),o=""+r.name+": "+this.CSSRuleForProperty(r,void 0,!0)+";",p.push(a.style.cssText=a.style.cssText.replace(i,o))):p.push(a.style[n]=this.CSSRuleForProperty(r,void 0,!0)));return p},regenerateSelector:function(e,t){var n,r,i;return"i"===e?this.regenerateIndividualSelector(t):(r=FASHION.selectors[t])?(n=document.getElementById(""+FASHION.config.cssId),i=n.sheet,i.deleteRule(r.rule),i.insertRule(this.CSSRuleForSelector(r),r.rule)):this.throwError("Selector "+t+" does not exist")},CSSPropertyTemplate:window.fashion.$actualizer.cssPropertyTemplate,CSSSelectorTemplate:window.fashion.$actualizer.cssSelectorTemplate,CSSRuleForProperty:function(e,t,n){var r,i,o;if(null==n&&(n=!1),i=FASHION.modules.properties[e.name]){if(r=this.evaluate.bind(this,e.value,t),!i.apply)return;if(i.apply.call(FASHION.runtime,t,e.value,r),i.replace)return}return o=this.evaluate(e.value,t),n?o+(1===e.important?" !important":""):this.CSSPropertyTemplate(e,o)},CSSRuleForSelector:function(e,t,n){var r,i,o;return o=n||this.evaluate(e.name,t),r=function(){var n,r,o,a;for(o=e.properties,a=[],n=0,r=o.length;r>n;n++)i=o[n],a.push(this.CSSRuleForProperty(i,t));return a}.call(this),this.CSSSelectorTemplate(o,r)}}),e.addRuntimeModule("individualized",["selectors","elements","stylesheet-dom","individualizedHelpers"],{$initializeIndividualProperties:function(){var e,t,n,r;FASHION.individualSheet=this.addStylesheet(FASHION.config.individualCSSID).sheet,n=FASHION.individual;for(e in n)t=n[e],this.updateSelectorElements(t);r=FASHION.individual;for(e in r)t=r[e],this.regenerateIndividualSelector(e);return this.watchForDOMAddition(),window.FASHION.pageChanged=window.FASHION.domChanged=this.pageChanged.bind(this)},updateSelectorElements:function(e){var t,n,r,i,o,a,s,u,l;u=e.elements;for(n in u)r=u[n],-1!==r.cssid&&FASHION.individualSheet.deleteRule(r.cssid);for(o=this.evaluate(e.name),e.elementsSelector=o,e.elements={},i=this.elementsForSelector(o),l=[],a=0,s=i.length;s>a;a++)t=i[a],t.id||t.setAttribute("id",this.generateRandomId()),l.push(e.elements[t.id]={element:t,cssid:-1});return l},setPropertyOnIndividual:function(e,t){var n,r,i,o,a,s,u;a=FASHION.individual[e],s=a.elements,u=[];for(n in s)r=s[n],null!=r.cssid&&-1!==r.cssid?(o=FASHION.individualSheet.rules[r.cssid],u.push(function(){var e,n,s,u;for(s=a.properties,u=[],e=0,n=s.length;n>e;e++)i=s[e],this.makeCamelCase(i)===t&&u.push(o.style[t]=this.CSSRuleForProperty(i,r.element,!0));return u}.call(this))):this.regenerateElementSelector(a,n,r);return u},regenerateIndividualSelector:function(e){var t,n,r,i,o;r=FASHION.individual[e],r||this.throwError("Could not find individual selector "+e),this.evaluate(r.name)!==r.elementsSelector&&this.updateSelectorElements(r),i=r.elements,o=[];for(n in i)t=i[n],o.push(this.regenerateElementSelector(r,n,t));return o},regenerateElementSelector:function(e,t,n){var r;return-1!==n.cssid?FASHION.individualSheet.deleteRule(n.cssid):n.cssid=FASHION.individualSheet.rules.length,r=this.CSSRuleForSelector(e,n.element,"#"+t),FASHION.individualSheet.insertRule(r,n.cssid)},watchForDOMAddition:function(){return window.FASHION_NO_OBSERVE!==!0?(window.FSOBSERVER=new MutationObserver(function(e){var t,n,r;if(null!=window.FSOBSERVER&&null!=window.FASHION&&null!=FASHION.runtime.addedElements&&window.FASHION_NO_OBSERVE!==!0){for(n=0,r=e.length;r>n;n++)t=e[n],t.addedNodes.length>0&&FASHION.runtime.addedElements(t.addedNodes);return!0}}),window.FSOBSERVER.observe(document.body,{childList:!0,subtree:!0})):void 0},pageChanged:function(e){var t,n,r,i,o,a,s;if(null!=e)return this.addedElements(e);e=[],s=FASHION.individual;for(n in s)for(i=s[n],r=this.elementsForSelector(i.elementsSelector),o=0,a=r.length;a>o;o++)t=r[o],i.elements[t.id]||e.push(t);return this.addedElements(e)},addedElements:function(e){var t,n,r,i,o,a,s;if("undefined"!=typeof FASHION&&null!==FASHION){for(s=[],o=0,a=e.length;a>o;o++)t=e[o],s.push(function(){var e,o;e=FASHION.individual,o=[];for(n in e)i=e[n],i.elements[t.id]||this.matches(t,i.name)&&(t.id||t.setAttribute("id",this.generateRandomId()),r={element:t,cssid:-1},i.elements[t.id]=r,o.push(this.regenerateElementSelector(i,t.id,r)));return o}.call(this));return s}}}),e.addRuntimeModule("individualizedHelpers",[],{matches:function(e,t){var n;return"function"==typeof e&&(e=e()),n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector,n?n.call(e,t):!1},generateRandomId:function(e){var t,n;return null==e&&(e=20),t=function(){var t,r;for(r=[],n=t=0;e>=0?e>=t:t>=e;n=e>=0?++t:--t)r.push(Math.round(36*Math.random()).toString(36));return r}().join(""),FASHION.config.idPrefix+t},elementsForSelector:function(e){return Array.prototype.slice.call(document.querySelectorAll(e))}}),e.addRuntimeModule("globals",["selectors"],{$startWatchers:function(){var e,t,n,r,i;n=function(e){return function(t){return e.updateGlobal.bind(e,t)}}(this),r=FASHION.modules.globals,i=[];for(t in r)e=r[t],null!=e.watch&&(e.watch(n(e)),i.push(this.updateGlobal(e)));return i},updateGlobal:function(e){var t,n,r,i,o;if(null!=e&&null!=e.dependents){for(i=e.dependents,o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push("v"===t[0]?this.updateDependencies(t[1]):3===t.length?this.setPropertyOnSelector(t[0],t[1],t[2]):this.regenerateSelector(t[0],t[1]));return o}}}),e.addRuntimeModule("elements",[],{elementFunction:function(e){return function(t){return function(n){var r;if(null!=e)return null==n?e:0===n.indexOf("parent")?"parent"===n?e.parentNode:(r=n.replace("parent.",""),t.elementFunction(e.parentNode)(r)):"width"===n?e.clientWidth:"height"===n?e.clientHeight:t.getFashionAttribute(e,n)||e.getAttribute(n)}}(this)},setFashionAttribute:function(e,t,n){return"string"!=typeof e&&(e=e.id),window.FASHION.elements[e]||(window.FASHION.elements[e]={}),window.FASHION.elements[e][t]=n},getFashionAttribute:function(e,t){var n;return"string"!=typeof e&&(e=e.id),!window.FASHION.elements[e],null!=(n=window.FASHION.elements[e])?n[t]:void 0}}),e.addRuntimeModule("stylesheet-dom",[],{addStylesheet:function(e,t){var n,r;return r=document.createElement("style"),r.setAttribute("type","text/css"),e&&r.setAttribute("id",e),t&&r.setAttribute("class",t),n=document.head||document.getElementsByTagName("head")[0],n.appendChild(r),r},removeStylesheet:function(e){return e&&e.parentNode?e.parentNode.removeChild(e):void 0},getStylesheet:function(e){var t;return(t=document.getElementById(e))?t:this.addStylesheet(e)}}),e.addRuntimeModule("sheets",["stylesheet-dom"],{moveSheetToTop:function(e){var t;return t=document.head||document.getElementsByTagName("head")[0],t.lastChild!==e?(this.removeStylesheet(e),t.appendChild(e)):void 0},setRuleOnSheet:function(e,t,n,r,i){var o,a,s,u;null==i&&(i=!0),e instanceof HTMLStyleElement&&(e=e.sheet),e.rules||(e.rules=e.cssRules),u=e.rules;for(o in u)if(a=u[o],a.selectorText===t)return a.style.setProperty(n,r),void(i&&(s=a.cssText,e.removeRule(o),e.insertRule(s,e.rules.length)));return e.insertRule(""+t+" {"+n+": "+r+";}",e.rules.length)}}),e.addRuntimeModule("scopedVariables",["evaluation","elements","stylesheet-dom","variables","individualizedHelpers"],{getScopeOverride:function(e,t,n){var r;for("function"==typeof e&&(e=e());null!=e;){if(this.matches(e,n)&&(r=this.getFashionAttribute(e,"$"+t)))return r;e=e.parentNode}return void 0},setScopedVariableOnElement:function(e,t,n){var r,i,o,a,s;"function"==typeof e&&(e=e()),this.setFashionAttribute(e,"$"+t,n),o=FASHION.variables[t],a=o.values,s=[];for(i in a)if(n=a[i],"0"!==i)if(this.matches(e,i)){if(this.updateDependencies(t,i),o=FASHION.variables[t],null==o.dependents[i])continue;s.push(function(){var t,n,a,s;for(a=o.dependents[i],s=[],t=0,n=a.length;n>t;t++)r=a[t],2===r.length&&("v"===r[0]||s.push(this.addScopedSelectorOverride(r[1],e.id)));return s}.call(this))}else s.push(void 0);return s},$scopedFunctions:function(){return window.FASHION.setElementVariable=this.setScopedVariableOnElement.bind(FASHION.runtime)}}),e.addRuntimeModule("scopedVariableSelector",["scopedVariables","sheets","selectors"],{addScopedSelectorOverride:function(e,t){var n,r,i,o,a,s;return a=FASHION.selectors[e],n=document.getElementById(t),r=this.evaluate(a.name,n),r=r.replace(/\#\#/g,"#"+t),i=this.CSSRuleForSelector(a,n,r),s=this.getStylesheet(FASHION.config.scopedCSSID).sheet,o=s.rules||s.cssRules,s.insertRule(i,o.length)}}),window.fashion.$functions={random:new h({output:e.$type.Number,evaluate:function(){return Math.random()}}),round:new h({output:e.$type.Number,unitFrom:0,evaluate:function(e){return Math.round(e.value)}}),min:new h({output:e.$type.Number,unitFrom:0,evaluate:function(){var e,t,n,r;for(t=9007199254740992,n=0,r=arguments.length;r>n;n++)e=arguments[n],e.value<t&&(t=e.value);return t}}),max:new h({output:e.$type.Number,unitFrom:0,evaluate:function(){var e,t,n,r;for(t=-9007199254740992,n=0,r=arguments.length;r>n;n++)e=arguments[n],e.value>t&&(t=e.value);return t}}),toggle:new h({output:e.$type.Number,unitFrom:0,evaluate:function(e,t,n){return e.value===t.value?n.value:t.value}}),set:new h({output:e.$type.None,capabilities:["variables","types"],evaluate:function(e,t,n){return setTimeout(function(n){return function(){return n.setVariable(e.value,t.value)}}(this),this.timeInMs(n))}})},e.$extend(window.fashion.$functions,{"@":new h({output:e.$type.Number,unit:"",dynamic:!0,evaluate:function(e,t,n){var r,i;return n||(n=document),r=this.querySelector(e.value),i=this.getComputedStyle(r),i[t.value]}})}),e.$extend(window.fashion.$functions,{rgb:new h({output:e.$type.Color,evaluate:function(e,t,n){return"rgb("+parseInt(e.value)+","+parseInt(t.value)+","+parseInt(n.value)+")"}}),rgba:new h({output:e.$type.Color,evaluate:function(e,t,n,r){return"rgba("+parseInt(e.value)+","+parseInt(t.value)+","+parseInt(n.value)+","+r.value+")"}}),hsl:new h({output:e.$type.Color,evaluate:function(e,t,n){return"hsl("+parseInt(e.value)+","+parseInt(t.value)+"%,"+parseInt(n.value)+"%)"}}),hsla:new h({output:e.$type.Color,evaluate:function(e,t,n,r){return"hsla("+parseInt(e.value)+","+parseInt(t.value)+"%,"+parseInt(n.value)+"%,"+r.value+")"}}),hsb:new h({output:e.$type.Color,capabilities:["colors"],evaluate:function(e,t,n){var r,i,o;return o=this.hsbTOrgb(e.value,t.value,n.value),i=o.r,r=o.g,n=o.b,"rgb("+parseInt(i)+","+parseInt(r)+","+parseInt(n)+")"}}),hsba:new h({output:e.$type.Color,capabilities:["colors"],evaluate:function(e,t,n,r){var i,o,a;return a=this.hsbTOrgb(e.value,t.value,n.value),o=a.r,i=a.g,n=a.b,"rgba("+parseInt(o)+","+parseInt(i)+","+parseInt(n)+","+r.value+")"}}),changeAlpha:new h({output:window.fashion.$type.Color,capabilities:["colors"],evaluate:function(e,t){var n;return n=this.cssTOjs(e.value,this),"rgba("+n.r+","+n.g+","+n.b+","+t.value+")"}}),brighten:new h({output:window.fashion.$type.Color,capabilities:["colors"],evaluate:function(e,t){var n,r,i;return i=t.value,n=1+(i>1?i/100:i),r=this.cssTOjs(e.value,this),r.r=parseInt(Math.max(r.r*n,0)),r.g=parseInt(Math.max(r.g*n,0)),r.b=parseInt(Math.max(r.b*n,0)),"rgba("+r.r+","+r.g+","+r.b+","+(r.a||1)+")"}}),darken:new h({output:window.fashion.$type.Color,capabilities:["colors"],evaluate:function(e,t){var n,r,i;return i=t.value,n=1-(i>1?i/100:i),r=this.cssTOjs(e.value,this),r.r=parseInt(Math.max(r.r*n,0)),r.g=parseInt(Math.max(r.g*n,0)),r.b=parseInt(Math.max(r.b*n,0)),"rgba("+r.r+","+r.g+","+r.b+","+(r.a||1)+")"}})}),e.$extend(window.fashion.$functions,new(function(){function t(){var t,n,r,i,o;for(r=["matrix","matrix3d","translate","translate3d","translateX","translateY","translateZ","scale","scale3d","scaleX","scaleY","scaleZ","rotate","rotate3d","rotateX","rotateY","rotateZ","skew","skewX","skewY","perspective"],t=function(e){var t;return t='var a = arguments;\nvar s = "'+e+'(";\nfor(var i = 0; i < a.length; i++){\n	s += a[i].value;\n	if(i<a.length-1)s += ",";\n}\nreturn s + ")";',new Function(t)},i=0,o=r.length;o>i;i++)n=r[i],this[n]=new h({mode:e.$runtimeMode["static"],output:e.$type.String,evaluate:t(n)})}return t}())),e.$extend(window.fashion.$functions,new(function(){function t(){var t,n,r,i,o;for(n=["-webkit-linear-gradient","-moz-linear-gradient","-ms-linear-gradient","-o-linear-gradient","linear-gradient","-webkit-radial-gradient","-moz-radial-gradient","-ms-radial-gradient","-o-radial-gradient","radial-gradient"],t=function(e){var t;return t='var a = arguments;\nvar s = "'+e+'(";\nfor(var i = 0; i < a.length; i++){\n	s += a[i].value;\n	if(i<a.length-1)s += ",";\n}\nreturn s + ")";',new Function(t)},i=0,o=n.length;o>i;i++)r=n[i],this[r]=new h({mode:e.$runtimeMode["static"],output:e.$type.String,evaluate:t(r)})}return t}())),window.fashion.$properties={"text-style":new w({replace:!0,compile:function(e){var t,n,r,i,o;if(n=[],t=function(e){return function(t){if("string"==typeof t){if("'"===t[0]||'"'===t[0])return n.push(t);switch(t){case"serif":n.push("serif");break;case"sans-serif":n.push("sans-serif");break;case"monospace":n.push("monospace");break;case"italic":e.setProperty("font-style","italic");break;case"oblique":e.setProperty("font-style","oblique");break;case"bold":e.setProperty("font-weight","bolder");break;case"light":e.setProperty("font-weight","lighter");break;case"underline":e.setProperty("text-decoration","underline");break;case"overline":e.setProperty("text-decoration","overline");break;case"line-through":e.setProperty("text-decoration","line-through");break;case"strikethrough":e.setProperty("text-decoration","line-through")}return-1!==t.indexOf("pt")||-1!==t.indexOf("px")?e.setProperty("font-size",t):void 0}}}(this),e instanceof Array)for(i=0,o=e.length;o>i;i++)r=e[i],t(r);else t(e);return this.setProperty("font-family",n.join(", "))}})},e.$extend(window.fashion.$properties,{pin:new w({replace:!0,compile:function(e){var t,n,r,i,o;return"object"==typeof e&&(e.length>2||e[0]instanceof Array)&&this.throwError("Valid arguments: '{x}px {y}px' or '{both}px'"),this.setProperty("position","absolute"),n=i=o=t=void 0,r=function(e){switch(e){case"left":return n="0px";case"right":return i="0px";case"top":return o="0px";case"bottom":return t="0px";case"center":return n="@self.parent.width / 2 - @self.width / 2",o="@self.parent.height / 2 - @self.height / 2";default:return this.throwError("Invalid position: "+e)}},"object"==typeof e?(r(e[0]),2===e.length&&r(e[1])):"string"==typeof e&&r(e),n?this.setProperty("left",this.parseValue(n)):this.setProperty("right",this.parseValue(i)),o?this.setProperty("top",this.parseValue(o)):this.setProperty("bottom",this.parseValue(t))
}})}),e.$extend(window.fashion.$properties,new(function(){function t(){var t,n,r,i,o,a,s,u,l;for(r=["click","dblclick","mousedown","mouseup","drag","dragdrop","dragend","drop","blur","change","focus","focusin","focusout","submit","reset","keydown","keyup"],t=function(e){var t;return t="if(this.getFashionAttribute(element,'data-hastrigger-"+e+"'))return;\nelement.addEventListener('"+e+"', function(eo){\n	eo.stopPropagation();\n	evaluate();\n}, false);\nthis.setFashionAttribute(element, 'data-hastrigger-"+e+"', 'true');",new Function("element","value","evaluate",t)},a=0,u=r.length;u>a;a++)i=r[a],this["on-"+i]=new w({replace:!0,mode:e.$runtimeMode.triggered|e.$runtimeMode.individual,apply:t(i)});for(o=["mouseenter","mouseleave","mousemove","mouseout","mouseover","dragenter","dragexit","draggesture","dragleave","dragover","dragstart"],n=function(e){var t;return t="if(this.getFashionAttribute(element,'data-hastrigger-"+e+"'))return;\nelement.addEventListener('"+e+"', evaluate, false);\nthis.setFashionAttribute(element, 'data-hastrigger-"+e+"', 'true');",new Function("element","value","evaluate",t)},s=0,l=o.length;l>s;s++)i=o[s],this["on-"+i]=new w({replace:!0,mode:e.$runtimeMode.triggered|e.$runtimeMode.individual,apply:n(i)})}return t}())),e.$parser.parseColorStops=function(e){var t,n,r,i,o;o=[];for(n in e)i=e[n],t="",r=100*(n/(e.length-1)),2===i.length?(t=i[0],r=i[1]):t=i[0],o.push(t+" "+r+"%");return o},e.$extend(window.fashion.$properties,{"gradient-vertical":new w({replace:!0,compile:function(t){var n,r;return n=e.$parser.parseColorStops(t),r="-webkit-linear-gradient(top, "+n.join(",")+")",this.setProperty("background",r),r="-moz-linear-gradient(top, "+n.join(",")+")",this.setProperty("background",r),r="-ms-linear-gradient(top, "+n.join(",")+")",this.setProperty("background",r),r="-o-linear-gradient(top, "+n.join(",")+")",this.setProperty("background",r),r="linear-gradient(to bottom, "+n.join(",")+")",this.setProperty("background",r)}}),"gradient-horizontal":new w({replace:!0,compile:function(t){var n,r;return n=e.$parser.parseColorStops(t),r="-webkit-linear-gradient(left, "+n.join(",")+")",this.setProperty("background",r),r="-moz-linear-gradient(left, "+n.join(",")+")",this.setProperty("background",r),r="-ms-linear-gradient(left, "+n.join(",")+")",this.setProperty("background",r),r="-o-linear-gradient(left, "+n.join(",")+")",this.setProperty("background",r),r="linear-gradient(to right, "+n.join(",")+")",this.setProperty("background",r)}}),"gradient-radial":new w({replace:!0,compile:function(t){var n,r;return n=e.$parser.parseColorStops(t),r="-webkit-radial-gradient(center, ellipse cover, "+n.join(",")+")",this.setProperty("background",r),r="-moz-radial-gradient(center, ellipse cover, "+n.join(",")+")",this.setProperty("background",r),r="-ms-radial-gradient(center, ellipse cover, "+n.join(",")+")",this.setProperty("background",r),r="-o-radial-gradient(center, ellipse cover, "+n.join(",")+")",this.setProperty("background",r),r="radial-gradient(ellipse at center, "+n.join(",")+")",this.setProperty("background",r)}})}),window.fashion.$blocks={},window.fashion.$blocks.transition=new p({capabilities:["transitionBlock"],compile:function(e,t){var n,r,i,o,a,s,u,l,d,c,p;for(l=e[0],d=/(\s*([0-9\-\.\s\%]+?\%|start|begin|finish)\s?\{|\$([\w\-]+)\:[\s]*(.*?)[;\n]|\}|\{)/g,s={},p={},o=u=0,i=n="",r=1e3;--r>0&&(c=d.exec(t));)n+=t.substring(u,c.index),u=c.index,c[2]&&0===o&&(i=c[2],c[2].indexOf("-")>0&&this.requireModule("transitionRangeBlock"),o++,n="",u=c[0].length+c.index),c[3]&&c[4]&&0===o&&(p.$vars||(p.$vars=[]),p.$vars.push(c[3]),this.addVariable(c[3],c[4])),"{"===c[0]?o++:"}"===c[0]&&(o--,0===o&&(s[i]=n,n="",i=""));for(a in s)t=s[a],p[a]=this.parse(t);return this.runtimeObject.transitions[l]=p},runtimeObject:{transitions:{}}}),e.addRuntimeModule("transitionBlock",["wait","selectors","types","sheets"],{transitionTiming:{start:10,end:5,settle:1},triggerTransition:function(e,t,n){var r,i,o,a,s,u;if(t=this.timeInMs(t),s=FASHION.modules.blocks.transition.transitions[e],null==s)return this.throwError("Transition '"+e+"' does not exist");u=this.addStylesheet(void 0,"FASHION-transition::temporary-"+e),a=this.getStylesheet("FASHION-transition::properties-"+e),this.moveSheetToTop(a);for(i in s)o=s[i],"$"!==i[0]&&(this.transitionDelayTriggers(t,n,i,o.blocks),this.transitionDelaySelectors(t,n,i,u,o.selectors));return r=t+this.transitionTiming.start+this.transitionTiming.end,this.wait(r,function(e){return function(){return e.removeStylesheet(u)}}(this))},transitionDelayTriggers:function(e,t,n,r){var i,o,a,s,u,l,d,c;for(a=this.transitionStartTime(e,n),c=[],u=0,l=r.length;l>u;u++)i=r[u],"trigger"===i.type&&(d=i.arguments,o=d[0],s=d[1],("'"===o[0]||'"'===o[0]||"`"===o[0])&&(o=o.substring(1,o.length-1)),s=s.indexOf("%")===s.length-1?parseFloat(s)/100*e:this.timeInMs(s),c.push(this.wait(a,this.triggerTransition.bind(this,o,s,t))));return c},transitionDelaySelectors:function(e,t,n,r,i){var o,a;return a=this.transitionStartTime(e,n),o=-1!==n.indexOf("-")?this.transitionKeyframeRange(n,i,e,r.sheet,t):this.transitionKeyframeSingle(i,e,r.sheet,t),a>0?this.wait(a,o.bind(this)):o.bind(this)()},transitionStartTime:function(e,t){var n;return"start"===t||"begin"===t?0:"finish"===t?e+this.transitionTiming.start:(n=parseFloat(t.split("-")[0])/100*e,n+this.transitionTiming.start)},transitionKeyframeSingle:function(e,t,n,r){return function(){var i,o,a;o=this.getStylesheet("FASHION-transition::properties-"+name);for(i in e)a=e[i],this.transitionSelector(a,t,n,o,r)}},transitionSelector:function(e,t,n,r,i,o){var a,s,u,l,d,c;for(a=e.properties,u=[],d=0,c=a.length;c>d;d++)s=a[d],"object"==typeof s.value&&s.value.transition&&u.push(s);return l=this.generateCSSTransitions.call(this,u,t,i),o=o||this.evaluate(e.name,0,i),n.insertRule(""+o+" {"+l+"}",n.rules.length),this.wait(this.transitionTiming.settle,function(e){return function(t,n){return function(){var o,a,u,l;for(l=[],a=0,u=n.length;u>a;a++)s=n[a],o=e.evaluate(s.value,0,i),s.important&&(o+=" !important"),l.push(e.setRuleOnSheet(r,t,s.name,o));return l}}}(this)(o,a))},generateCSSTransitions:function(e,t,n){var r,i,o,a,s,u,l;for(r="transition: ",u=0,l=e.length;l>u;u++)a=e[u],a.value.transition&&(s=a.value.transition,i=parseFloat(this.evaluate(s.duration,0,n))/100*t,o=null!=i?""+i+"ms":s.duration,r+=""+a.name+" "+o+" "+(s.easing||"")+" "+(s.delay||"")+",");return r=r.substr(0,r.length-1)+";",r=[r,"-webkit-"+r,"-moz-"+r,"-ms-"+r].join("")}}),e.addRuntimeModule("transitionRangeBlock",["individualizedHelpers"],{transitionKeyframeRange:function(e,t,n,r,i){return function(){var o,a,s,u,l,d,c,p,h,f,m,w;if(m=parseFloat(e.split("-")[0])/100*n,a=parseFloat(e.split("-")[1])/100*n,m>=a)return this.throwError("Range must start before it ends.");f=a-m,u=this.getStylesheet("FASHION-transition::properties-"+name),w=[];for(p in t)c=t[p],d=this.evaluate(c.name,0,i),l=this.elementsForSelector(d),h=f/l.length,w.push(function(){var e;e=[];for(s in l)o=l[s],o.id||o.setAttribute("id",this.generateRandomId()),e.push(this.wait(h*s,function(e){return function(t,o){return function(){var a,s;return s="#"+o.id,(a=e.transitionSelector.bind(e))(t,n,r,u,i,s)}}}(this)(c,o)));return e}.call(this));return w}}}),window.fashion.$functions.trigger=new h({output:e.$type.None,unit:"",mode:e.$runtimeMode.individual,evaluate:function(e,t,n){var r,i,o;for(r in n)o=n[r],n[r]=o.value;return i=FASHION.runtime.triggerTransition,i.call(this,e.value,t,n)}}),window.fashion.$blocks.trigger=new p({compile:function(e){return 0===e.length?this.throwError("Must specify transition name and duration"):1===e.length?this.throwError("Must specify a duration"):void 0}}),window.fashion.$globals={width:new f({type:e.$type.Number,unit:"px",get:function(){return window.innerWidth},watch:function(e){return window.addEventListener("resize",e,!1)}}),height:new f({type:e.$type.Number,unit:"px",get:function(){return window.innerHeight},watch:function(e){return window.addEventListener("resize",e,!1)}}),scrolly:new f({type:e.$type.Number,unit:"px",get:function(){return window.scrollY},watch:function(e){return window.addEventListener("onscroll",e)}}),scrollx:new f({type:e.$type.Number,unit:"px",get:function(){return window.scrollX},watch:function(e){return window.addEventListener("onscroll",e)}}),mousey:new f({type:e.$type.Number,unit:"px",get:function(){return window.mouseY||0},watch:function(e){return window.addEventListener("mousemove",function(t){return window.mouseY=t.pageY,e()})}}),mousex:new f({type:e.$type.Number,unit:"px",get:function(){return window.mouseX||0},watch:function(e){return window.addEventListener("mousemove",function(t){return window.mouseX=t.pageX,e()})}}),pixelratio:new f({type:e.$type.Number,get:function(){return window.devicePixelRatio},watch:function(e){var t;return t=window.devicePixelRatio,setInterval(function(){return window.devicePixelRatio!==t&&e(),t=window.devicePixelRatio},1e3)}})}}();
